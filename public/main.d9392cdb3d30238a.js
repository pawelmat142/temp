"use strict";var p6=Object.defineProperty,g6=Object.defineProperties,m6=Object.getOwnPropertyDescriptors,O2=Object.getOwnPropertySymbols,_6=Object.prototype.hasOwnProperty,y6=Object.prototype.propertyIsEnumerable,k2=(it,De,k)=>De in it?p6(it,De,{enumerable:!0,configurable:!0,writable:!0,value:k}):it[De]=k,P2=(it,De)=>{for(var k in De||(De={}))_6.call(De,k)&&k2(it,k,De[k]);if(O2)for(var k of O2(De))y6.call(De,k)&&k2(it,k,De[k]);return it},F2=(it,De)=>g6(it,m6(De));(self.webpackChunkhtml_translator=self.webpackChunkhtml_translator||[]).push([[179],{2011:(it,De,k)=>{k.d(De,{Dh:()=>ce,GT:()=>_e,cc:()=>Ne,hO:()=>Ke,on:()=>$,pX:()=>ue,xv:()=>ye});var u=k(5e3),V=k(127),R=k(5813);it=k.hmd(it);const ae=["ngOnDestroy"],ue=(Se,Ze,ze,Me={})=>new Proxy(Se,{get:(xe,Ce)=>ze.runOutsideAngular(()=>{var Ye;if(Se[Ce])return(null===(Ye=null==Me?void 0:Me.spy)||void 0===Ye?void 0:Ye.get)&&Me.spy.get(Ce,Se[Ce]),Se[Ce];if(ae.indexOf(Ce)>-1)return()=>{};const ne=Ze.toPromise().then(pe=>{const Ie=pe&&pe[Ce];return"function"==typeof Ie?Ie.bind(pe):Ie&&Ie.then?Ie.then(Y=>ze.run(()=>Y)):ze.run(()=>Ie)});return new Proxy(()=>{},{get:(pe,Ie)=>ne[Ie],apply:(pe,Ie,Y)=>ne.then(re=>{var oe;const be=re&&re(...Y);return(null===(oe=null==Me?void 0:Me.spy)||void 0===oe?void 0:oe.apply)&&Me.spy.apply(Ce,Y,be),be})})})}),_e=(Se,Ze)=>{Ze.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Me=>{Object.defineProperty(Se.prototype,Me,Object.getOwnPropertyDescriptor(ze.prototype||ze,Me))})})};class fe{constructor(Ze){return Ze}}const ce=new u.OlP("angularfire2.app.options"),ye=new u.OlP("angularfire2.app.name");function $(Se,Ze,ze){const xe="object"==typeof ze&&ze||{};xe.name=xe.name||"string"==typeof ze&&ze||"[DEFAULT]";const Ye=V.Z.apps.filter(ne=>ne&&ne.name===xe.name)[0]||Ze.runOutsideAngular(()=>V.Z.initializeApp(Se,xe));try{JSON.stringify(Se)!==JSON.stringify(Ye.options)&&j("error",`${Ye.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ne){}return new fe(Ye)}const j=(Se,...Ze)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Se](...Ze)},se={provide:fe,useFactory:$,deps:[ce,u.R0b,[new u.FiY,ye]]};let Ke=(()=>{class Se{constructor(ze){V.Z.registerVersion("angularfire",R.q4.full,"core"),V.Z.registerVersion("angularfire",R.q4.full,"app-compat"),V.Z.registerVersion("angular",u.q4F.full,ze.toString())}static initializeApp(ze,Me){return{ngModule:Se,providers:[{provide:ce,useValue:ze},{provide:ye,useValue:Me}]}}}return Se.\u0275fac=function(ze){return new(ze||Se)(u.LFG(u.Lbi))},Se.\u0275mod=u.oAB({type:Se}),Se.\u0275inj=u.cJS({providers:[se]}),Se})();function Ne(Se,Ze,ze,Me,xe){const[,Ce,Ye]=globalThis.\u0275AngularfireInstanceCache.find(ne=>ne[0]===Se)||[];if(Ce)return function Le(Se,Ze){try{return Se.toString()===Ze.toString()}catch(ze){return Se===Ze}}(xe,Ye)||(me("error",`${Ze} was already initialized on the ${ze} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:xe,was:Ye})),Ce;{const ne=Me();return globalThis.\u0275AngularfireInstanceCache.push([Se,ne,xe]),ne}}const $e=!!it.hot,me=(Se,...Ze)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Se](...Ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(it,De,k)=>{k.d(De,{q4:()=>gc,iC:()=>au,HU:()=>su,vb:()=>vl,JM:()=>zo});var u=k(5e3),V=k(5867),R=k(5861),ae=k(9681),ue=k(2090),_e=k(4859),fe=k(1877),ce=k(8766);const ye="@firebase/installations",$="0.5.9",se=`w:${$}`,Ke="FIS_v2",Ze=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ze(E){return E instanceof ue.ZR&&E.code.includes("request-failed")}function Me({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function xe(E){return{token:E.token,requestStatus:2,expiresIn:re(E.expiresIn),creationTime:Date.now()}}function Ce(E,C){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,R.Z)(function*(E,C){const B=(yield C.json()).error;return Ze.create("request-failed",{requestName:E,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function ne({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function pe(E,{refreshToken:C}){const x=ne(E);return x.append("Authorization",function oe(E){return`${Ke} ${E}`}(C)),x}function Ie(E){return Y.apply(this,arguments)}function Y(){return(Y=(0,R.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function re(E){return Number(E.replace("s","000"))}function be(E,C){return he.apply(this,arguments)}function he(){return(he=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:C},{fid:x}){const B=Me(E),J=ne(E),le=C.getImmediate({optional:!0});if(le){const St=yield le.getHeartbeatsHeader();St&&J.append("x-firebase-client",St)}const ot={method:"POST",headers:J,body:JSON.stringify({fid:x,authVersion:Ke,appId:E.appId,sdkVersion:se})},ct=yield Ie(()=>fetch(B,ot));if(ct.ok){const St=yield ct.json();return{fid:St.fid||x,registrationStatus:2,refreshToken:St.refreshToken,authToken:xe(St.authToken)}}throw yield Ce("Create Installation",ct)})).apply(this,arguments)}function Ve(E){return new Promise(C=>{setTimeout(C,E)})}const en=/^[cdef][\w-]{21}$/;function Je(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function un(E){return function yt(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return en.test(x)?x:""}catch(E){return""}}function On(E){return`${E.appName}!${E.appId}`}const gn=new Map;function sn(E,C){const x=On(E);Dn(x,C),function Ui(E,C){const x=function In(){return!Ir&&"BroadcastChannel"in self&&(Ir=new BroadcastChannel("[Firebase] FID Change"),Ir.onmessage=E=>{Dn(E.data.key,E.data.fid)}),Ir}();x&&x.postMessage({key:E,fid:C}),function ji(){0===gn.size&&Ir&&(Ir.close(),Ir=null)}()}(x,C)}function Dn(E,C){const x=gn.get(E);if(x)for(const B of x)B(C)}let Ir=null;const Yn="firebase-installations-store";let Hi=null;function bt(){return Hi||(Hi=(0,ce.X3)("firebase-installations-database",1,{upgrade:(E,C)=>{0===C&&E.createObjectStore(Yn)}})),Hi}function Pr(E,C){return bn.apply(this,arguments)}function bn(){return(bn=(0,R.Z)(function*(E,C){const x=On(E),J=(yield bt()).transaction(Yn,"readwrite"),le=J.objectStore(Yn),Be=yield le.get(x);return yield le.put(C,x),yield J.done,(!Be||Be.fid!==C.fid)&&sn(E,C.fid),C})).apply(this,arguments)}function nn(E){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,R.Z)(function*(E){const C=On(E),B=(yield bt()).transaction(Yn,"readwrite");yield B.objectStore(Yn).delete(C),yield B.done})).apply(this,arguments)}function ur(E,C){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,R.Z)(function*(E,C){const x=On(E),J=(yield bt()).transaction(Yn,"readwrite"),le=J.objectStore(Yn),Be=yield le.get(x),ot=C(Be);return void 0===ot?yield le.delete(x):yield le.put(ot,x),yield J.done,ot&&(!Be||Be.fid!==ot.fid)&&sn(E,ot.fid),ot})).apply(this,arguments)}function Tn(E){return cr.apply(this,arguments)}function cr(){return(cr=(0,R.Z)(function*(E){let C;const x=yield ur(E.appConfig,B=>{const J=Ms(B),le=Zt(E,J);return C=le.registrationPromise,le.installationEntry});return""===x.fid?{installationEntry:yield C}:{installationEntry:x,registrationPromise:C}})).apply(this,arguments)}function Ms(E){return Gi(E||{fid:Je(),registrationStatus:0})}function Zt(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Ze.create("app-offline"))};const x={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},B=function mt(E,C){return lt.apply(this,arguments)}(E,x);return{installationEntry:x,registrationPromise:B}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:si(E)}:{installationEntry:C}}function lt(){return(lt=(0,R.Z)(function*(E,C){try{const x=yield be(E,C);return Pr(E.appConfig,x)}catch(x){throw ze(x)&&409===x.customData.serverCode?yield nn(E.appConfig):yield Pr(E.appConfig,{fid:C.fid,registrationStatus:0}),x}})).apply(this,arguments)}function si(E){return oi.apply(this,arguments)}function oi(){return(oi=(0,R.Z)(function*(E){let C=yield $t(E.appConfig);for(;1===C.registrationStatus;)yield Ve(100),C=yield $t(E.appConfig);if(0===C.registrationStatus){const{installationEntry:x,registrationPromise:B}=yield Tn(E);return B||x}return C})).apply(this,arguments)}function $t(E){return ur(E,C=>{if(!C)throw Ze.create("installation-not-found");return Gi(C)})}function Gi(E){return function kn(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function cn(E,C){return U.apply(this,arguments)}function U(){return(U=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:C},x){const B=W(E,x),J=pe(E,x),le=C.getImmediate({optional:!0});if(le){const St=yield le.getHeartbeatsHeader();St&&J.append("x-firebase-client",St)}const ot={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:se,appId:E.appId}})},ct=yield Ie(()=>fetch(B,ot));if(ct.ok)return xe(yield ct.json());throw yield Ce("Generate Auth Token",ct)})).apply(this,arguments)}function W(E,{fid:C}){return`${Me(E)}/${C}/authTokens:generate`}function Z(E){return Te.apply(this,arguments)}function Te(){return(Te=(0,R.Z)(function*(E,C=!1){let x;const B=yield ur(E.appConfig,le=>{if(!kt(le))throw Ze.create("not-registered");const Be=le.authToken;if(!C&&on(Be))return le;if(1===Be.requestStatus)return x=G(E,C),le;{if(!navigator.onLine)throw Ze.create("app-offline");const ot=Jn(le);return x=nt(E,ot),ot}});return x?yield x:B.authToken})).apply(this,arguments)}function G(E,C){return ee.apply(this,arguments)}function ee(){return(ee=(0,R.Z)(function*(E,C){let x=yield ke(E.appConfig);for(;1===x.authToken.requestStatus;)yield Ve(100),x=yield ke(E.appConfig);const B=x.authToken;return 0===B.requestStatus?Z(E,C):B})).apply(this,arguments)}function ke(E){return ur(E,C=>{if(!kt(C))throw Ze.create("not-registered");return function de(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function nt(E,C){return vt.apply(this,arguments)}function vt(){return(vt=(0,R.Z)(function*(E,C){try{const x=yield cn(E,C),B=Object.assign(Object.assign({},C),{authToken:x});return yield Pr(E.appConfig,B),x}catch(x){if(!ze(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const B=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Pr(E.appConfig,B)}else yield nn(E.appConfig);throw x}})).apply(this,arguments)}function kt(E){return void 0!==E&&2===E.registrationStatus}function on(E){return 2===E.requestStatus&&!function Ct(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+36e5}(E)}function Jn(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}function q(){return(q=(0,R.Z)(function*(E){const C=E,{installationEntry:x,registrationPromise:B}=yield Tn(C);return B?B.catch(console.error):Z(C).catch(console.error),x.fid})).apply(this,arguments)}function Xe(){return(Xe=(0,R.Z)(function*(E,C=!1){const x=E;return yield pt(x),(yield Z(x,C)).token})).apply(this,arguments)}function pt(E){return xt.apply(this,arguments)}function xt(){return(xt=(0,R.Z)(function*(E){const{registrationPromise:C}=yield Tn(E);C&&(yield C)})).apply(this,arguments)}function fa(E){return Ze.create("missing-app-config-values",{valueName:E})}const Kr="installations",Lt=E=>{const C=E.getProvider("app").getImmediate(),x=function dr(E){if(!E||!E.options)throw fa("App Configuration");if(!E.name)throw fa("App Name");const C=["projectId","apiKey","appId"];for(const x of C)if(!E.options[x])throw fa(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},yn=E=>{const C=E.getProvider("app").getImmediate(),x=(0,ae._getProvider)(C,Kr).getImmediate();return{getId:()=>function K(E){return q.apply(this,arguments)}(x),getToken:J=>function Ae(E){return Xe.apply(this,arguments)}(x,J)}};(function Lr(){(0,ae._registerComponent)(new _e.wA(Kr,Lt,"PUBLIC")),(0,ae._registerComponent)(new _e.wA("installations-internal",yn,"PRIVATE"))})(),(0,ae.registerVersion)(ye,$),(0,ae.registerVersion)(ye,$,"esm2017");const ss="@firebase/remote-config",Pn=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Oo{constructor(C,x,B,J){this.client=C,this.storage=x,this.storageCache=B,this.logger=J}isCachedDataFresh(C,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-x,J=B<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${J}.`),J}fetch(C){var x=this;return(0,R.Z)(function*(){const[B,J]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(J&&x.isCachedDataFresh(C.cacheMaxAgeMillis,B))return J;C.eTag=J&&J.eTag;const le=yield x.client.fetch(C),Be=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Be.push(x.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Be),le})()}}function sl(E=navigator){return E.languages&&E.languages[0]||E.language}class Qn{constructor(C,x,B,J,le,Be){this.firebaseInstallations=C,this.sdkVersion=x,this.namespace=B,this.projectId=J,this.apiKey=le,this.appId=Be}fetch(C){var x=this;return(0,R.Z)(function*(){const[B,J]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},ct={sdk_version:x.sdkVersion,app_instance_id:B,app_instance_id_token:J,app_id:x.appId,language_code:sl()},St={method:"POST",headers:ot,body:JSON.stringify(ct)},Qt=fetch(Be,St),Et=new Promise((tr,Qi)=>{C.signal.addEventListener(()=>{const go=new Error("The operation was aborted.");go.name="AbortError",Qi(go)})});let wr;try{yield Promise.race([Qt,Et]),wr=yield Qt}catch(tr){let Qi="fetch-client-network";throw"AbortError"===tr.name&&(Qi="fetch-timeout"),Pn.create(Qi,{originalErrorMessage:tr.message})}let Nn=wr.status;const Zo=wr.headers.get("ETag")||void 0;let Mn,En;if(200===wr.status){let tr;try{tr=yield wr.json()}catch(Qi){throw Pn.create("fetch-client-parse",{originalErrorMessage:Qi.message})}Mn=tr.entries,En=tr.state}if("INSTANCE_STATE_UNSPECIFIED"===En?Nn=500:"NO_CHANGE"===En?Nn=304:("NO_TEMPLATE"===En||"EMPTY_CONFIG"===En)&&(Mn={}),304!==Nn&&200!==Nn)throw Pn.create("fetch-status",{httpStatus:Nn});return{status:Nn,eTag:Zo,config:Mn}})()}}class as{constructor(C,x){this.client=C,this.storage=x}fetch(C){var x=this;return(0,R.Z)(function*(){const B=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(C,B)})()}attemptFetch(C,{throttleEndTimeMillis:x,backoffCount:B}){var J=this;return(0,R.Z)(function*(){yield function Hu(E,C){return new Promise((x,B)=>{const J=Math.max(C-Date.now(),0),le=setTimeout(x,J);E.addEventListener(()=>{clearTimeout(le),B(Pn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,x);try{const le=yield J.client.fetch(C);return yield J.storage.deleteThrottleMetadata(),le}catch(le){if(!function Pf(E){if(!(E instanceof ue.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(le))throw le;const Be={throttleEndTimeMillis:Date.now()+(0,ue.$s)(B),backoffCount:B+1};return yield J.storage.setThrottleMetadata(Be),J.attemptFetch(C,Be)}})()}}class Lf{constructor(C,x,B,J,le){this.app=C,this._client=x,this._storageCache=B,this._storage=J,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pa(E,C){const x=E.target.error||void 0;return Pn.create(C,{originalErrorMessage:x&&x.message})}const ko="app_namespace_store";class $u{constructor(C,x,B,J=function Vf(){return new Promise((E,C)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=B=>{C(pa(B,"storage-open"))},x.onsuccess=B=>{E(B.target.result)},x.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(ko,{keyPath:"compositeKey"})}}catch(x){C(Pn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=C,this.appName=x,this.namespace=B,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var x=this;return(0,R.Z)(function*(){const B=yield x.openDbPromise;return new Promise((J,le)=>{const ot=B.transaction([ko],"readonly").objectStore(ko),ct=x.createCompositeKey(C);try{const St=ot.get(ct);St.onerror=Qt=>{le(pa(Qt,"storage-get"))},St.onsuccess=Qt=>{const Et=Qt.target.result;J(Et?Et.value:void 0)}}catch(St){le(Pn.create("storage-get",{originalErrorMessage:St&&St.message}))}})})()}set(C,x){var B=this;return(0,R.Z)(function*(){const J=yield B.openDbPromise;return new Promise((le,Be)=>{const ct=J.transaction([ko],"readwrite").objectStore(ko),St=B.createCompositeKey(C);try{const Qt=ct.put({compositeKey:St,value:x});Qt.onerror=Et=>{Be(pa(Et,"storage-set"))},Qt.onsuccess=()=>{le()}}catch(Qt){Be(Pn.create("storage-set",{originalErrorMessage:Qt&&Qt.message}))}})})()}delete(C){var x=this;return(0,R.Z)(function*(){const B=yield x.openDbPromise;return new Promise((J,le)=>{const ot=B.transaction([ko],"readwrite").objectStore(ko),ct=x.createCompositeKey(C);try{const St=ot.delete(ct);St.onerror=Qt=>{le(pa(Qt,"storage-delete"))},St.onsuccess=()=>{J()}}catch(St){le(Pn.create("storage-delete",{originalErrorMessage:St&&St.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Po{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,R.Z)(function*(){const x=C.storage.getLastFetchStatus(),B=C.storage.getLastSuccessfulFetchTimestampMillis(),J=C.storage.getActiveConfig(),le=yield x;le&&(C.lastFetchStatus=le);const Be=yield B;Be&&(C.lastSuccessfulFetchTimestampMillis=Be);const ot=yield J;ot&&(C.activeConfig=ot)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function wm(){return ga.apply(this,arguments)}function ga(){return(ga=(0,R.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(E){return!1}})).apply(this,arguments)}!function Uf(){(0,ae._registerComponent)(new _e.wA("remote-config",function E(C,{instanceIdentifier:x}){const B=C.getProvider("app").getImmediate(),J=C.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Pn.create("registration-window");if(!(0,ue.hl)())throw Pn.create("indexed-db-unavailable");const{projectId:le,apiKey:Be,appId:ot}=B.options;if(!le)throw Pn.create("registration-project-id");if(!Be)throw Pn.create("registration-api-key");if(!ot)throw Pn.create("registration-app-id");const ct=new $u(ot,B.name,x=x||"firebase"),St=new Po(ct),Qt=new fe.Yd(ss);Qt.logLevel=fe.in.ERROR;const Et=new Qn(J,ae.SDK_VERSION,x,le,Be,ot),wr=new as(Et,ct),Nn=new Oo(wr,ct,St,Qt),Zo=new Lf(B,Nn,St,ct,Qt);return function dn(E){const C=(0,ue.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Zo),Zo},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(ss,"0.3.8"),(0,ae.registerVersion)(ss,"0.3.8","esm2017")}();const Os="/firebase-messaging-sw.js",ui="/firebase-cloud-messaging-push-scope",Fo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_a="google.c.a.c_id",Nd="google.c.a.c_l",jf="google.c.a.ts",Xn="google.c.a.e";var us=(()=>{return(E=us||(us={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",us;var E})();function Ii(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qu(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(x),J=new Uint8Array(B.length);for(let le=0;le<B.length;++le)J[le]=B.charCodeAt(le);return J}const mr="fcm_token_details_db",zu="fcm_token_object_Store";function Zu(E){return al.apply(this,arguments)}function al(){return al=(0,R.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(mr))return null;let C=null;return(yield(0,ce.X3)(mr,5,{upgrade:(B=(0,R.Z)(function*(J,le,Be,ot){var ct;if(le<2||!J.objectStoreNames.contains(zu))return;const St=ot.objectStore(zu),Qt=yield St.index("fcmSenderId").get(E);if(yield St.clear(),Qt)if(2===le){const Et=Qt;if(!Et.auth||!Et.p256dh||!Et.endpoint)return;C={token:Et.fcmToken,createTime:null!==(ct=Et.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:Et.auth,p256dh:Et.p256dh,endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:"string"==typeof Et.vapidKey?Et.vapidKey:Ii(Et.vapidKey)}}}else if(3===le){const Et=Qt;C={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:Ii(Et.auth),p256dh:Ii(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:Ii(Et.vapidKey)}}}else if(4===le){const Et=Qt;C={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:Ii(Et.auth),p256dh:Ii(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:Ii(Et.vapidKey)}}}}),function(le,Be,ot,ct){return B.apply(this,arguments)})})).close(),yield(0,ce.Lj)(mr),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),ll(C)?C:null;var B}),al.apply(this,arguments)}function ll(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const cs="firebase-messaging-store";let Wl=null;function mn(){return Wl||(Wl=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(E,C)=>{0===C&&E.createObjectStore(cs)}})),Wl}function ya(E){return ks.apply(this,arguments)}function ks(){return(ks=(0,R.Z)(function*(E){const C=hr(E),B=yield(yield mn()).transaction(cs).objectStore(cs).get(C);if(B)return B;{const J=yield Zu(E.appConfig.senderId);if(J)return yield hn(E,J),J}})).apply(this,arguments)}function hn(E,C){return cl.apply(this,arguments)}function cl(){return(cl=(0,R.Z)(function*(E,C){const x=hr(E),J=(yield mn()).transaction(cs,"readwrite");return yield J.objectStore(cs).put(C,x),yield J.done,C})).apply(this,arguments)}function va(E){return no.apply(this,arguments)}function no(){return(no=(0,R.Z)(function*(E){const C=hr(E),B=(yield mn()).transaction(cs,"readwrite");yield B.objectStore(cs).delete(C),yield B.done})).apply(this,arguments)}function hr({appConfig:E}){return E.appId}const Fn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ds(E,C){return fr.apply(this,arguments)}function fr(){return(fr=(0,R.Z)(function*(E,C){const x=yield Fs(E),B=ro(C),J={method:"POST",headers:x,body:JSON.stringify(B)};let le;try{le=yield(yield fetch(Ps(E.appConfig),J)).json()}catch(Be){throw Fn.create("token-subscribe-failed",{errorInfo:Be})}if(le.error)throw Fn.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw Fn.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function Lo(E,C){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,R.Z)(function*(E,C){const x=yield Fs(E),B=ro(C.subscriptionOptions),J={method:"PATCH",headers:x,body:JSON.stringify(B)};let le;try{le=yield(yield fetch(`${Ps(E.appConfig)}/${C.token}`,J)).json()}catch(Be){throw Fn.create("token-update-failed",{errorInfo:Be})}if(le.error)throw Fn.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw Fn.create("token-update-no-token");return le.token})).apply(this,arguments)}function ql(E,C){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,R.Z)(function*(E,C){const B={method:"DELETE",headers:yield Fs(E)};try{const le=yield(yield fetch(`${Ps(E.appConfig)}/${C}`,B)).json();if(le.error)throw Fn.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(J){throw Fn.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function Ps({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Fs(E){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,R.Z)(function*({appConfig:E,installations:C}){const x=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ro({p256dh:E,auth:C,endpoint:x,vapidKey:B}){const J={web:{endpoint:x,auth:C,p256dh:E}};return B!==Fo&&(J.web.applicationPubKey=B),J}const hl=6048e5;function Ku(E){return ba.apply(this,arguments)}function ba(){return(ba=(0,R.Z)(function*(E){const C=yield fl(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:Ii(C.getKey("auth")),p256dh:Ii(C.getKey("p256dh"))},B=yield ya(E.firebaseDependencies);if(B){if(Ju(B.subscriptionOptions,x))return Date.now()>=B.createTime+hl?Md(E,{token:B.token,createTime:Date.now(),subscriptionOptions:x}):B.token;try{yield ql(E.firebaseDependencies,B.token)}catch(J){console.warn(J)}return Oe(E.firebaseDependencies,x)}return Oe(E.firebaseDependencies,x)})).apply(this,arguments)}function Yu(E){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,R.Z)(function*(E){const C=yield ya(E.firebaseDependencies);C&&(yield ql(E.firebaseDependencies,C.token),yield va(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Md(E,C){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,R.Z)(function*(E,C){try{const x=yield Lo(E.firebaseDependencies,C),B=Object.assign(Object.assign({},C),{token:x,createTime:Date.now()});return yield hn(E.firebaseDependencies,B),x}catch(x){throw yield Yu(E),x}})).apply(this,arguments)}function Oe(E,C){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,R.Z)(function*(E,C){const B={token:yield ds(E,C),createTime:Date.now(),subscriptionOptions:C};return yield hn(E,B),B.token})).apply(this,arguments)}function fl(E,C){return wn.apply(this,arguments)}function wn(){return(wn=(0,R.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qu(C)})})).apply(this,arguments)}function Ju(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}function hs(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function qi(E,C){if(!C.notification)return;E.notification={};const x=C.notification.title;x&&(E.notification.title=x);const B=C.notification.body;B&&(E.notification.body=B);const J=C.notification.image;J&&(E.notification.image=J)}(C,E),function zl(E,C){!C.data||(E.data=C.data)}(C,E),function wa(E,C){if(!C.fcmOptions)return;E.fcmOptions={};const x=C.fcmOptions.link;x&&(E.fcmOptions.link=x);const B=C.fcmOptions.analytics_label;B&&(E.fcmOptions.analyticsLabel=B)}(C,E),C}function xd(E){return"object"==typeof E&&!!E&&_a in E}function Qu(E,C){const x=[];for(let B=0;B<E.length;B++)x.push(E.charAt(B)),B<C.length&&x.push(C.charAt(B));return x.join("")}function io(E){return Fn.create("missing-app-config-values",{valueName:E})}Qu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pr{constructor(C,x,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Xu(E){if(!E||!E.options)throw io("App Configuration Object");if(!E.name)throw io("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const B of C)if(!x[B])throw io(B);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:J,installations:x,analyticsProvider:B}}_delete(){return Promise.resolve()}}function zi(E){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,R.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Os,{scope:ui}),E.swRegistration.update().catch(()=>{})}catch(C){throw Fn.create("failed-service-worker-registration",{browserErrorMessage:C.message})}})).apply(this,arguments)}function Uo(E,C){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,R.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield zi(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Fn.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function Rd(E,C){return jo.apply(this,arguments)}function jo(){return(jo=(0,R.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=Fo)})).apply(this,arguments)}function Da(){return(Da=(0,R.Z)(function*(E,C){if(!navigator)throw Fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fn.create("permission-blocked");return yield Rd(E,null==C?void 0:C.vapidKey),yield Uo(E,null==C?void 0:C.serviceWorkerRegistration),Ku(E)})).apply(this,arguments)}function Zl(E,C,x){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,R.Z)(function*(E,C,x){const B=tc(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:x[_a],message_name:x[Nd],message_time:x[jf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tc(E){switch(E){case us.NOTIFICATION_CLICKED:return"notification_open";case us.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Kl(){return(Kl=(0,R.Z)(function*(E,C){const x=C.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===us.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(hs(x)):E.onMessageHandler.next(hs(x)));const B=x.data;xd(B)&&"1"===B[Xn]&&(yield Zl(E,x.messageType,B))})).apply(this,arguments)}const Ta="@firebase/messaging",so=E=>{const C=new pr(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function nc(E,C){return Kl.apply(this,arguments)}(C,x)),C},rc=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:B=>function ec(E,C){return Da.apply(this,arguments)}(C,B)}};function pl(){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,R.Z)(function*(){try{yield(0,ue.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Od(){(0,ae._registerComponent)(new _e.wA("messaging",so,"PUBLIC")),(0,ae._registerComponent)(new _e.wA("messaging-internal",rc,"PRIVATE")),(0,ae.registerVersion)(Ta,"0.9.13"),(0,ae.registerVersion)(Ta,"0.9.13","esm2017")}();const ic="analytics",Hf="firebase_id",Ca="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ia="https://www.googletagmanager.com/gtag/js",ir=new fe.Yd("@firebase/analytics");function oc(E){return Promise.all(E.map(C=>C.catch(x=>x)))}function Gf(E,C){const x=document.createElement("script");x.src=`${Ia}?l=${E}&id=${C}`,x.async=!0,document.head.appendChild(x)}function Go(E,C,x,B,J,le){return ac.apply(this,arguments)}function ac(){return(ac=(0,R.Z)(function*(E,C,x,B,J,le){const Be=B[J];try{if(Be)yield C[Be];else{const ct=(yield oc(x)).find(St=>St.measurementId===J);ct&&(yield C[ct.appId])}}catch(ot){ir.error(ot)}E("config",J,le)})).apply(this,arguments)}function Sa(E,C,x,B,J){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,R.Z)(function*(E,C,x,B,J){try{let le=[];if(J&&J.send_to){let Be=J.send_to;Array.isArray(Be)||(Be=[Be]);const ot=yield oc(x);for(const ct of Be){const St=ot.find(Et=>Et.measurementId===ct),Qt=St&&C[St.appId];if(!Qt){le=[];break}le.push(Qt)}}0===le.length&&(le=Object.values(C)),yield Promise.all(le),E("event",B,J||{})}catch(le){ir.error(le)}})).apply(this,arguments)}function Vs(){const E=window.document.getElementsByTagName("script");for(const C of Object.values(E))if(C.src&&C.src.includes(Ia))return C;return null}const dt=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Zi=new class ci{constructor(C={},x=1e3){this.throttleMetadata=C,this.intervalMillis=x}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,x){this.throttleMetadata[C]=x}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Bn(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Vn(E){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,R.Z)(function*(E){var C;const{appId:x,apiKey:B}=E,J={method:"GET",headers:Bn(B)},le=Ca.replace("{app-id}",x),Be=yield fetch(le,J);if(200!==Be.status&&304!==Be.status){let ot="";try{const ct=yield Be.json();(null===(C=ct.error)||void 0===C?void 0:C.message)&&(ot=ct.error.message)}catch(ct){}throw dt.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:ot})}return Be.json()})).apply(this,arguments)}function wt(E){return Si.apply(this,arguments)}function Si(){return(Si=(0,R.Z)(function*(E,C=Zi,x){const{appId:B,apiKey:J,measurementId:le}=E.options;if(!B)throw dt.create("no-app-id");if(!J){if(le)return{measurementId:le,appId:B};throw dt.create("no-api-key")}const Be=C.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ot=new Jl;return setTimeout((0,R.Z)(function*(){ot.abort()}),void 0!==x?x:6e4),Aa({appId:B,apiKey:J,measurementId:le},Be,ot,C)})).apply(this,arguments)}function Aa(E,C,x){return yr.apply(this,arguments)}function yr(){return(yr=(0,R.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:x},B,J=Zi){const{appId:le,measurementId:Be}=E;try{yield Wf(B,C)}catch(ot){if(Be)return ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${ot.message}]`),{appId:le,measurementId:Be};throw ot}try{const ot=yield Vn(E);return J.deleteThrottleMetadata(le),ot}catch(ot){if(!lc(ot)){if(J.deleteThrottleMetadata(le),Be)return ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${ot.message}]`),{appId:le,measurementId:Be};throw ot}const ct=503===Number(ot.customData.httpStatus)?(0,ue.$s)(x,J.intervalMillis,30):(0,ue.$s)(x,J.intervalMillis),St={throttleEndTimeMillis:Date.now()+ct,backoffCount:x+1};return J.setThrottleMetadata(le,St),ir.debug(`Calling attemptFetch again in ${ct} millis`),Aa(E,St,B,J)}})).apply(this,arguments)}function Wf(E,C){return new Promise((x,B)=>{const J=Math.max(C-Date.now(),0),le=setTimeout(x,J);E.addEventListener(()=>{clearTimeout(le),B(dt.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function lc(E){if(!(E instanceof ue.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Jl{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}function Fd(){return ao.apply(this,arguments)}function ao(){return(ao=(0,R.Z)(function*(){if(!(0,ue.hl)())return ir.warn(dt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(E){return ir.warn(dt.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function vr(){return(vr=(0,R.Z)(function*(E,C,x,B,J,le,Be){var ot;const ct=wt(E);ct.then(Nn=>{x[Nn.measurementId]=Nn.appId,E.options.measurementId&&Nn.measurementId!==E.options.measurementId&&ir.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nn=>ir.error(Nn)),C.push(ct);const St=Fd().then(Nn=>{if(Nn)return B.getId()}),[Qt,Et]=yield Promise.all([ct,St]);Vs()||Gf(le,Qt.measurementId),J("js",new Date);const wr=null!==(ot=null==Be?void 0:Be.config)&&void 0!==ot?ot:{};return wr.origin="firebase",wr.update=!0,null!=Et&&(wr[Hf]=Et),J("config",Qt.measurementId,wr),Qt.measurementId})).apply(this,arguments)}class Na{constructor(C){this.app=C}_delete(){return delete di[this.app.options.appId],Promise.resolve()}}let di={},uo=[];const ml={};let Ma,Ai,Us="dataLayer",Rn=!1;function gs(E,C,x){!function xa(){const E=[];if((0,ue.ru)()&&E.push("This is a browser extension environment."),(0,ue.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((B,J)=>`(${J+1}) ${B}`).join(" "),x=dt.create("invalid-analytics-context",{errorInfo:C});ir.warn(x.message)}}();const B=E.options.appId;if(!B)throw dt.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw dt.create("no-api-key");ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=di[B])throw dt.create("already-exists",{id:B});if(!Rn){!function ps(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(Us);const{wrappedGtag:le,gtagCore:Be}=function $f(E,C,x,B,J){let le=function(...Be){window[B].push(arguments)};return window[J]&&"function"==typeof window[J]&&(le=window[J]),window[J]=function gl(E,C,x,B){function le(){return(le=(0,R.Z)(function*(Be,ot,ct){try{"event"===Be?yield Sa(E,C,x,ot,ct):"config"===Be?yield Go(E,C,x,B,ot,ct):E("set",ot)}catch(St){ir.error(St)}})).apply(this,arguments)}return function J(Be,ot,ct){return le.apply(this,arguments)}}(le,E,C,x),{gtagCore:le,wrappedGtag:window[J]}}(di,uo,ml,Us,"gtag");Ai=le,Ma=Be,Rn=!0}return di[B]=function lo(E,C,x,B,J,le,Be){return vr.apply(this,arguments)}(E,uo,ml,C,Ma,Us,x),new Na(E)}function $o(){return($o=(0,R.Z)(function*(E,C,x,B,J){if(J&&J.global)E("event",x,B);else{const le=yield C;E("event",x,Object.assign(Object.assign({},B),{send_to:le}))}})).apply(this,arguments)}function Oa(){return eu.apply(this,arguments)}function eu(){return(eu=(0,R.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(E){return!1}})).apply(this,arguments)}const tu="@firebase/analytics";!function pc(){(0,ae._registerComponent)(new _e.wA(ic,(C,{options:x})=>gs(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new _e.wA("analytics-internal",function E(C){try{const x=C.getProvider(ic).getImmediate();return{logEvent:(B,J,le)=>function fc(E,C,x,B){E=(0,ue.m9)(E),function cc(E,C,x,B,J){return $o.apply(this,arguments)}(Ai,di[E.app.options.appId],C,x,B).catch(J=>ir.error(J))}(x,B,J,le)}}catch(x){throw dt.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(tu,"0.7.9"),(0,ae.registerVersion)(tu,"0.7.9","esm2017")}();var Zf=k(4408),Tm=k(7565);const nu=new class jn extends Tm.v{}(class qo extends Zf.o{constructor(C,x){super(C,x),this.scheduler=C,this.work=x}schedule(C,x=0){return x>0?super.schedule(C,x):(this.delay=x,this.state=C,this.scheduler.flush(this),this)}execute(C,x){return x>0||this.closed?super.execute(C,x):this._execute(C,x)}requestAsyncId(C,x,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(C,x,B):C.flush(this)}});var Em=k(4986),Yi=k(8505),qt=k(9468),Hn=k(5363);const gc=new u.GfV("7.3.0"),js="__angularfire_symbol__analyticsIsSupportedValue",ho="__angularfire_symbol__analyticsIsSupported",hi="__angularfire_symbol__remoteConfigIsSupportedValue",Pa="__angularfire_symbol__remoteConfigIsSupported",ru="__angularfire_symbol__messagingIsSupportedValue",mc="__angularfire_symbol__messagingIsSupported";function zo(E,C,x){if(C){if(1===C.length)return C[0];const le=C.filter(Be=>Be.app===x);if(1===le.length)return le[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[ho]||(globalThis[ho]=Oa().then(E=>globalThis[js]=E).catch(()=>globalThis[js]=!1)),globalThis[mc]||(globalThis[mc]=pl().then(E=>globalThis[ru]=E).catch(()=>globalThis[ru]=!1)),globalThis[Pa]||(globalThis[Pa]=wm().then(E=>globalThis[hi]=E).catch(()=>globalThis[hi]=!1));const vl=(E,C)=>{const x=C?[C]:(0,V.C6)(),B=[];return x.forEach(J=>{J.container.getProvider(E).instances.forEach(Be=>{B.includes(Be)||B.push(Be)})}),B};function fo(){}class bl{constructor(C,x=nu){this.zone=C,this.delegate=x}now(){return this.delegate.now()}schedule(C,x,B){const J=this.zone;return this.delegate.schedule(function(Be){J.runGuarded(()=>{C.apply(this,[Be])})},x,B)}}class iu{constructor(C){this.zone=C,this.task=null}call(C,x){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fo,{},fo,fo)),x.pipe((0,Yi.b)({next:B,complete:B,error:B})).subscribe(C).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let su=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new bl(Zone.current)),this.insideAngular=x.run(()=>new bl(Zone.current,Em.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Ji(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function au(E){return Ji(),function po(E){return function(x){return(x=x.lift(new iu(E.ngZone))).pipe((0,qt.R)(E.outsideAngular),(0,Hn.Q)(E.insideAngular))}}(Ji())(E)}},198:(it,De,k)=>{k.d(De,{$:()=>Ps,A:()=>j,B:()=>Ne,G:()=>yn,H:()=>an,J:()=>as,L:()=>on,M:()=>ga,N:()=>ma,P:()=>ho,Q:()=>_a,R:()=>pc,T:()=>Nd,U:()=>Fo,V:()=>us,W:()=>Ii,X:()=>Zu,Y:()=>dl,Z:()=>ds,_:()=>Lo,a:()=>Ln,a0:()=>Ku,a1:()=>Yu,a2:()=>Md,a3:()=>Oe,a4:()=>fl,a5:()=>Ju,a6:()=>qi,a7:()=>zl,a8:()=>xd,a9:()=>Qu,aA:()=>go,aB:()=>Zo,aC:()=>E,aD:()=>wl,aE:()=>He,aI:()=>Bn,aL:()=>Xn,aa:()=>zi,ab:()=>Uo,ac:()=>Rd,af:()=>Zl,ag:()=>tc,ah:()=>nc,ak:()=>cs,al:()=>Yl,an:()=>Ia,ao:()=>ac,ap:()=>Gn,aq:()=>Ie,ar:()=>Ut,as:()=>pt,at:()=>ze,au:()=>Tc,av:()=>uu,aw:()=>Me,ax:()=>ne,ay:()=>re,az:()=>Ct,b:()=>dt,c:()=>zo,d:()=>iu,e:()=>fo,f:()=>B,g:()=>St,h:()=>Be,i:()=>gs,j:()=>wr,k:()=>tp,l:()=>nu,m:()=>$d,o:()=>ce,r:()=>Em,s:()=>Tm,u:()=>gc});var u=k(5861),V=k(2090),R=k(9681),ae=k(655),ue=k(1877),_e=k(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$e=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new ue.Yd("@firebase/auth");function Ze(v,...g){Se.logLevel<=ue.in.ERROR&&Se.error(`Auth (${R.SDK_VERSION}): ${v}`,...g)}function ze(v,...g){throw Ye(v,...g)}function Me(v,...g){return Ye(v,...g)}function xe(v,g,m){const D=Object.assign(Object.assign({},Le()),{[g]:m});return new V.LL("auth","Firebase",D).create(g,{appName:v.name})}function Ce(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&ze(v,"argument-error"),xe(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(v,...g){if("string"!=typeof v){const m=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=v.name),v._errorFactory.create(m,...D)}return $e.create(v,...g)}function ne(v,g,...m){if(!v)throw Ye(g,...m)}function pe(v){const g="INTERNAL ASSERTION FAILED: "+v;throw Ze(g),new Error(g)}function Ie(v,g){v||pe(g)}const Y=new Map;function re(v){Ie(v instanceof Function,"Expected a class definition");let g=Y.get(v);return g?(Ie(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,Y.set(v,g),g)}function he(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ve(){return"http:"===yt()||"https:"===yt()}function yt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Je{constructor(g,m){this.shortDelay=g,this.longDelay=m,Ie(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function en(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ve()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function un(v,g){Ie(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class On{static initialize(g,m,D){this.fetchImpl=g,m&&(this.headersImpl=m),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new Je(3e4,6e4);function Gt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function tn(v,g,m,D){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(v,g,m,D,N={}){return Ui(v,N,(0,u.Z)(function*(){let O={},te={};D&&("GET"===g?te=D:O={body:JSON.stringify(D)});const Pe=(0,V.xO)(Object.assign({key:v.config.apiKey},te)).slice(1),at=yield v._getAdditionalHeaders();return at["Content-Type"]="application/json",v.languageCode&&(at["X-Firebase-Locale"]=v.languageCode),On.fetch()(ii(v,v.config.apiHost,m,Pe),Object.assign({method:g,headers:at,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Ui(v,g,m){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(v,g,m){v._canInitEmulator=!1;const D=Object.assign(Object.assign({},gn),g);try{const N=new Ei(v),O=yield Promise.race([m(),N.promise]);N.clearNetworkTimeout();const te=yield O.json();if("needConfirmation"in te)throw Yn(v,"account-exists-with-different-credential",te);if(O.ok&&!("errorMessage"in te))return te;{const Pe=O.ok?te.errorMessage:te.error.message,[at,_t]=Pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw Yn(v,"credential-already-in-use",te);if("EMAIL_EXISTS"===at)throw Yn(v,"email-already-in-use",te);const Bt=D[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(_t)throw xe(v,Bt,_t);ze(v,Bt)}}catch(N){if(N instanceof V.ZR)throw N;ze(v,"network-request-failed")}})).apply(this,arguments)}function In(v,g,m,D){return ji.apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(v,g,m,D,N={}){const O=yield tn(v,g,m,D,N);return"mfaPendingCredential"in O&&ze(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function ii(v,g,m,D){const N=`${g}${m}?${D}`;return v.config.emulator?un(v.config,N):`${v.config.apiScheme}://${N}`}class Ei{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,D)=>{this.timer=setTimeout(()=>D(Me(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yn(v,g,m){const D={appName:v.name};m.email&&(D.email=m.email),m.phoneNumber&&(D.phoneNumber=m.phoneNumber);const N=Me(v,g,D);return N.customData._tokenResponse=m,N}function bt(){return(bt=(0,u.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Pr(v,g){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function nn(v,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,u.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ur(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function cr(){return(cr=(0,u.Z)(function*(v,g=!1){const m=(0,V.m9)(v),D=yield m.getIdToken(g),N=Zt(D);ne(N&&N.exp&&N.auth_time&&N.iat,m.auth,"internal-error");const O="object"==typeof N.firebase?N.firebase:void 0,te=null==O?void 0:O.sign_in_provider;return{claims:N,token:D,authTime:ur(Ms(N.auth_time)),issuedAtTime:ur(Ms(N.iat)),expirationTime:ur(Ms(N.exp)),signInProvider:te||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Ms(v){return 1e3*Number(v)}function Zt(v){const[g,m,D]=v.split(".");if(void 0===g||void 0===m||void 0===D)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,V.tV)(m);return N?JSON.parse(N):(Ze("Failed to decode base64 JWT payload"),null)}catch(N){return Ze("Caught error parsing JWT payload as JSON",N),null}}function lt(v,g){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(D){throw D instanceof V.ZR&&oi(D)&&v.auth.currentUser===v&&(yield v.auth.signOut()),D}})).apply(this,arguments)}function oi({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class $t{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const N=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),D)}iteration(){var g=this;return(0,u.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class Gi{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kn(v){return cn.apply(this,arguments)}function cn(){return(cn=(0,u.Z)(function*(v){var g;const m=v.auth,D=yield v.getIdToken(),N=yield lt(v,nn(m,{idToken:D}));ne(null==N?void 0:N.users.length,m,"internal-error");const O=N.users[0];v._notifyReloadListener(O);const te=(null===(g=O.providerUserInfo)||void 0===g?void 0:g.length)?Te(O.providerUserInfo):[],Pe=Z(v.providerData,te),Bt=!!v.isAnonymous&&!(v.email&&O.passwordHash||(null==Pe?void 0:Pe.length)),xn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Pe,metadata:new Gi(O.createdAt,O.lastLoginAt),isAnonymous:Bt};Object.assign(v,xn)})).apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(v){const g=(0,V.m9)(v);yield kn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Z(v,g){return[...v.filter(D=>!g.some(N=>N.providerId===D.providerId)),...g]}function Te(v){return v.map(g=>{var{providerId:m}=g,D=(0,ae._T)(g,["providerId"]);return{providerId:m,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function ee(){return(ee=(0,u.Z)(function*(v,g){const m=yield Ui(v,{},(0,u.Z)(function*(){const D=(0,V.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:N,apiKey:O}=v.config,te=ii(v,N,"/v1/token",`key=${O}`),Pe=yield v._getAdditionalHeaders();return Pe["Content-Type"]="application/x-www-form-urlencoded",On.fetch()(te,{method:"POST",headers:Pe,body:D})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ne(g.idToken,"internal-error"),ne(void 0!==g.idToken,"internal-error"),ne(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function mt(v){const g=Zt(v);return ne(g,"internal-error"),ne(void 0!==g.exp,"internal-error"),ne(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var D=this;return(0,u.Z)(function*(){return ne(!D.accessToken||D.refreshToken,g,"user-token-expired"),m||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var D=this;return(0,u.Z)(function*(){const{accessToken:N,refreshToken:O,expiresIn:te}=yield function G(v,g){return ee.apply(this,arguments)}(g,m);D.updateTokensAndExpiration(N,O,Number(te))})()}updateTokensAndExpiration(g,m,D){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,m){const{refreshToken:D,accessToken:N,expirationTime:O}=m,te=new ke;return D&&(ne("string"==typeof D,"internal-error",{appName:g}),te.refreshToken=D),N&&(ne("string"==typeof N,"internal-error",{appName:g}),te.accessToken=N),O&&(ne("number"==typeof O,"internal-error",{appName:g}),te.expirationTime=O),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ke,this.toJSON())}_performRefresh(){return pe("not implemented")}}function nt(v,g){ne("string"==typeof v||void 0===v,"internal-error",{appName:g})}class vt{constructor(g){var{uid:m,auth:D,stsTokenManager:N}=g,O=(0,ae._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $t(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=D,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Gi(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,u.Z)(function*(){const D=yield lt(m,m.stsTokenManager.getToken(m.auth,g));return ne(D,m.auth,"internal-error"),m.accessToken!==D&&(m.accessToken=D,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),D})()}getIdTokenResult(g){return function Tn(v){return cr.apply(this,arguments)}(this,g)}reload(){return function U(v){return W.apply(this,arguments)}(this)}_assign(g){this!==g&&(ne(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new vt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var D=this;return(0,u.Z)(function*(){let N=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),N=!0),m&&(yield kn(D)),yield D.auth._persistUserIfCurrent(D),N&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,u.Z)(function*(){const m=yield g.getIdToken();return yield lt(g,function Hi(v,g){return bt.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var D,N,O,te,Pe,at,_t,Bt;const xn=null!==(D=m.displayName)&&void 0!==D?D:void 0,ti=null!==(N=m.email)&&void 0!==N?N:void 0,Ws=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Yo=null!==(te=m.photoURL)&&void 0!==te?te:void 0,Mm=null!==(Pe=m.tenantId)&&void 0!==Pe?Pe:void 0,xm=null!==(at=m._redirectEventId)&&void 0!==at?at:void 0,ap=null!==(_t=m.createdAt)&&void 0!==_t?_t:void 0,Rm=null!==(Bt=m.lastLoginAt)&&void 0!==Bt?Bt:void 0,{uid:lp,emailVerified:Om,isAnonymous:km,providerData:Cc,stsTokenManager:El}=m;ne(lp&&El,g,"internal-error");const up=ke.fromJSON(this.name,El);ne("string"==typeof lp,g,"internal-error"),nt(xn,g.name),nt(ti,g.name),ne("boolean"==typeof Om,g,"internal-error"),ne("boolean"==typeof km,g,"internal-error"),nt(Ws,g.name),nt(Yo,g.name),nt(Mm,g.name),nt(xm,g.name),nt(ap,g.name),nt(Rm,g.name);const du=new vt({uid:lp,auth:g,email:ti,emailVerified:Om,displayName:xn,isAnonymous:km,photoURL:Yo,phoneNumber:Ws,tenantId:Mm,stsTokenManager:up,createdAt:ap,lastLoginAt:Rm});return Cc&&Array.isArray(Cc)&&(du.providerData=Cc.map(Pm=>Object.assign({},Pm))),xm&&(du._redirectEventId=xm),du}static _fromIdTokenResponse(g,m,D=!1){return(0,u.Z)(function*(){const N=new ke;N.updateFromServerResponse(m);const O=new vt({uid:m.localId,auth:g,stsTokenManager:N,isAnonymous:D});return yield kn(O),O})()}}const on=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,D){var N=this;return(0,u.Z)(function*(){N.storage[m]=D})()}_get(m){var D=this;return(0,u.Z)(function*(){const N=D.storage[m];return void 0===N?null:N})()}_remove(m){var D=this;return(0,u.Z)(function*(){delete D.storage[m]})()}_addListener(m,D){}_removeListener(m,D){}}return v.type="NONE",v})();function Ct(v,g,m){return`firebase:${v}:${g}:${m}`}class Jn{constructor(g,m,D){this.persistence=g,this.auth=m,this.userKey=D;const{config:N,name:O}=this.auth;this.fullUserKey=Ct(this.userKey,N.apiKey,O),this.fullPersistenceKey=Ct("persistence",N.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?vt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,u.Z)(function*(){if(m.persistence===g)return;const D=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,D?m.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,D="authUser"){return(0,u.Z)(function*(){if(!m.length)return new Jn(re(on),g,D);const N=(yield Promise.all(m.map(function(){var _t=(0,u.Z)(function*(Bt){if(yield Bt._isAvailable())return Bt});return function(Bt){return _t.apply(this,arguments)}}()))).filter(_t=>_t);let O=N[0]||re(on);const te=Ct(D,g.config.apiKey,g.name);let Pe=null;for(const _t of m)try{const Bt=yield _t._get(te);if(Bt){const xn=vt._fromJSON(g,Bt);_t!==O&&(Pe=xn),O=_t;break}}catch(Bt){}const at=N.filter(_t=>_t._shouldAllowMigration);return O._shouldAllowMigration&&at.length?(O=at[0],Pe&&(yield O._set(te,Pe.toJSON())),yield Promise.all(m.map(function(){var _t=(0,u.Z)(function*(Bt){if(Bt!==O)try{yield Bt._remove(te)}catch(xn){}});return function(Bt){return _t.apply(this,arguments)}}())),new Jn(O,g,D)):new Jn(O,g,D)})()}}function de(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Xe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(K(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(xt(g))return"Blackberry";if(Kt(g))return"Webos";if(q(g))return"Safari";if((g.includes("chrome/")||Ae(g))&&!g.includes("edge/"))return"Chrome";if(pt(g))return"Android";{const D=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function K(v=(0,V.z$)()){return/firefox\//i.test(v)}function q(v=(0,V.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ae(v=(0,V.z$)()){return/crios\//i.test(v)}function Xe(v=(0,V.z$)()){return/iemobile/i.test(v)}function pt(v=(0,V.z$)()){return/android/i.test(v)}function xt(v=(0,V.z$)()){return/blackberry/i.test(v)}function Kt(v=(0,V.z$)()){return/webos/i.test(v)}function Ut(v=(0,V.z$)()){return/iphone|ipad|ipod/i.test(v)}function Gn(v=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Ar(v=(0,V.z$)()){return Ut(v)||pt(v)||Kt(v)||xt(v)||/windows phone/i.test(v)||Xe(v)}function dr(v,g=[]){let m;switch(v){case"Browser":m=de((0,V.z$)());break;case"Worker":m=`${de((0,V.z$)())}-${v}`;break;default:m=v}const D=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${R.SDK_VERSION}/${D}`}class fa{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const D=O=>new Promise((te,Pe)=>{try{te(g(O))}catch(at){Pe(at)}});D.onAbort=m,this.queue.push(D);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,u.Z)(function*(){if(m.auth.currentUser===g)return;const D=[];try{for(const N of m.queue)yield N(g),N.onAbort&&D.push(N.onAbort)}catch(N){D.reverse();for(const O of D)try{O()}catch(te){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:N.message})}})()}}class Kr{constructor(g,m,D){this.app=g,this.heartbeatServiceProvider=m,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lt(this),this.idTokenSubscription=new Lt(this),this.beforeStateQueue=new fa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(g,m){var D=this;return m&&(this._popupRedirectResolver=re(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var N,O;if(!D._deleted&&(D.persistenceManager=yield Jn.create(D,g),!D._deleted)){if(null===(N=D._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(te){}yield D.initializeCurrentUser(m),D.lastNotifiedUid=(null===(O=D.currentUser)||void 0===O?void 0:O.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,u.Z)(function*(){var D;const N=yield m.assertedPersistence.getCurrentUser();let O=N,te=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Pe=null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId,at=null==O?void 0:O._redirectEventId,_t=yield m.tryRedirectSignIn(g);(!Pe||Pe===at)&&(null==_t?void 0:_t.user)&&(O=_t.user,te=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(te)try{yield m.beforeStateQueue.runMiddleware(O)}catch(Pe){O=N,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Pe))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return ne(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(g){var m=this;return(0,u.Z)(function*(){let D=null;try{D=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(N){yield m._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,u.Z)(function*(){try{yield kn(g)}catch(D){if("auth/network-request-failed"!==D.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ht(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,u.Z)(function*(){const D=g?(0,V.m9)(g):null;return D&&ne(D.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(D&&D._clone(m))})()}_updateCurrentUser(g,m=!1){var D=this;return(0,u.Z)(function*(){if(!D._deleted)return g&&ne(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),m||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,u.Z)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(re(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new V.LL("auth","Firebase",g())}onAuthStateChanged(g,m,D){return this.registerStateListener(this.authStateSubscription,g,m,D)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,D){return this.registerStateListener(this.idTokenSubscription,g,m,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var D=this;return(0,u.Z)(function*(){const N=yield D.getOrInitRedirectPersistenceManager(m);return null===g?N.removeCurrentUser():N.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const D=g&&re(g)||m._popupRedirectResolver;ne(D,m,"argument-error"),m.redirectPersistenceManager=yield Jn.create(m,[re(D._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,u.Z)(function*(){var D,N;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(D=m._currentUser)||void 0===D?void 0:D._redirectEventId)===g?m._currentUser:(null===(N=m.redirectUser)||void 0===N?void 0:N._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,u.Z)(function*(){if(g===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,D,N){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),te=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(te,this,"internal-error"),te.then(()=>O(this.currentUser)),"function"==typeof m?g.addObserver(m,D,N):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=dr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,u.Z)(function*(){var m;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const N=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return N&&(D["X-Firebase-Client"]=N),D})()}}function He(v){return(0,V.m9)(v)}class Lt{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yn(v,g,m){const D=He(v);ne(D._canInitEmulator,D,"emulator-config-failed"),ne(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const N=!!(null==m?void 0:m.disableWarnings),O=Lr(g),{host:te,port:Pe}=function ss(v){const g=Lr(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const D=m[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(D);if(N){const O=N[1];return{host:O,port:$n(D.substr(O.length+1))}}{const[O,te]=D.split(":");return{host:O,port:$n(te)}}}(g);D.config.emulator={url:`${O}//${te}${null===Pe?"":`:${Pe}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:te,port:Pe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function os(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Lr(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function $n(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class an{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return pe("not implemented")}_getIdTokenResponse(g){return pe("not implemented")}_linkToIdToken(g,m){return pe("not implemented")}_getReauthenticationResolver(g){return pe("not implemented")}}function Qs(v,g){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:resetPassword",Gt(v,g))})).apply(this,arguments)}function Pt(v,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Mo(v,g){return xo.apply(this,arguments)}function xo(){return(xo=(0,u.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:update",Gt(v,g))})).apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithPassword",Gt(v,g))})).apply(this,arguments)}function xs(v,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:sendOobCode",Gt(v,g))})).apply(this,arguments)}function Sn(v,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(v,g){return xs(v,g)})).apply(this,arguments)}function Uu(v,g){return to.apply(this,arguments)}function to(){return(to=(0,u.Z)(function*(v,g){return xs(v,g)})).apply(this,arguments)}function Ci(v,g){return ai.apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(v,g){return xs(v,g)})).apply(this,arguments)}function ju(v,g){return il.apply(this,arguments)}function il(){return(il=(0,u.Z)(function*(v,g){return xs(v,g)})).apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithEmailLink",Gt(v,g))})).apply(this,arguments)}function Oo(){return(Oo=(0,u.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithEmailLink",Gt(v,g))})).apply(this,arguments)}class sl extends an{constructor(g,m,D,N=null){super("password",D),this._email=g,this._password=m,this._tenantId=N}static _fromEmailAndPassword(g,m){return new sl(g,m,"password")}static _fromEmailAndCode(g,m,D=null){return new sl(g,m,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function Ro(v,g){return vn.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Rs(v,g){return li.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:ze(g,"internal-error")}})()}_linkToIdToken(g,m){var D=this;return(0,u.Z)(function*(){switch(D.signInMethod){case"password":return Pt(g,{idToken:m,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Sd(v,g){return Oo.apply(this,arguments)}(g,{idToken:m,email:D._email,oobCode:D._password});default:ze(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Qn(v,g){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,u.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithIdp",Gt(v,g))})).apply(this,arguments)}class as extends an{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new as(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):ze("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:N}=m,O=(0,ae._T)(m,["providerId","signInMethod"]);if(!D||!N)return null;const te=new as(D,N);return te.idToken=O.idToken||void 0,te.accessToken=O.accessToken||void 0,te.secret=O.secret,te.nonce=O.nonce,te.pendingToken=O.pendingToken||null,te}_getIdTokenResponse(g){return Qn(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,Qn(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Qn(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,V.xO)(m)}return g}}function Ff(v,g){return ol.apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:sendVerificationCode",Gt(v,g))})).apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithPhoneNumber",Gt(v,g))})).apply(this,arguments)}function Gu(){return(Gu=(0,u.Z)(function*(v,g){const m=yield In(v,"POST","/v1/accounts:signInWithPhoneNumber",Gt(v,g));if(m.temporaryProof)throw Yn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Bf={USER_NOT_FOUND:"user-not-found"};function $u(){return($u=(0,u.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithPhoneNumber",Gt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Bf)})).apply(this,arguments)}class Po extends an{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Po({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Po({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function Lf(v,g){return pa.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function ko(v,g){return Gu.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Vf(v,g){return $u.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:D,verificationCode:N}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:D,code:N}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:D,phoneNumber:N,temporaryProof:O}=g;return D||m||N||O?new Po({verificationId:m,verificationCode:D,phoneNumber:N,temporaryProof:O}):null}}class ls{constructor(g){var m,D,N,O,te,Pe;const at=(0,V.zd)((0,V.pd)(g)),_t=null!==(m=at.apiKey)&&void 0!==m?m:null,Bt=null!==(D=at.oobCode)&&void 0!==D?D:null,xn=function Uf(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=at.mode)&&void 0!==N?N:null);ne(_t&&Bt&&xn,"argument-error"),this.apiKey=_t,this.operation=xn,this.code=Bt,this.continueUrl=null!==(O=at.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(te=at.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Pe=at.tenantId)&&void 0!==Pe?Pe:null}static parseLink(g){const m=function Ad(v){const g=(0,V.zd)((0,V.pd)(v)).link,m=g?(0,V.zd)((0,V.pd)(g)).deep_link_id:null,D=(0,V.zd)((0,V.pd)(v)).deep_link_id;return(D?(0,V.zd)((0,V.pd)(D)).link:null)||D||m||g||v}(g);try{return new ls(m)}catch(D){return null}}}let ga=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,D){return sl._fromEmailAndPassword(m,D)}static credentialWithLink(m,D){const N=ls.parseLink(D);return ne(N,"argument-error"),sl._fromEmailAndCode(m,N.code,N.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Os{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ui extends Os{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Fo extends ui{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return ne("providerId"in m&&"signInMethod"in m,"argument-error"),as._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ne(g.idToken||g.accessToken,"argument-error"),as._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Fo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Fo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:D,oauthTokenSecret:N,pendingToken:O,nonce:te,providerId:Pe}=g;if(!D&&!N&&!m&&!O||!Pe)return null;try{return new Fo(Pe)._credential({idToken:m,accessToken:D,nonce:te,pendingToken:O})}catch(at){return null}}}let ma=(()=>{class v extends ui{constructor(){super("facebook.com")}static credential(m){return as._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(D){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),_a=(()=>{class v extends ui{constructor(){super("google.com"),this.addScope("profile")}static credential(m,D){return as._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:D})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:D,oauthAccessToken:N}=m;if(!D&&!N)return null;try{return v.credential(D,N)}catch(O){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Nd=(()=>{class v extends ui{constructor(){super("github.com")}static credential(m){return as._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(D){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Xn extends an{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Qn(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,Qn(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Qn(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:N,pendingToken:O}=m;return D&&N&&O&&D===N?new Xn(D,O):null}static _create(g,m){return new Xn(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class us extends Os{constructor(g){ne(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return us.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return us.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Xn.fromJSON(g);return ne(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:D}=g;if(!m||!D)return null;try{return Xn._create(D,m)}catch(N){return null}}}let Ii=(()=>{class v extends ui{constructor(){super("twitter.com")}static credential(m,D){return as._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:D})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:D,oauthTokenSecret:N}=m;if(!D||!N)return null;try{return v.credential(D,N)}catch(O){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function qu(v,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,u.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signUp",Gt(v,g))})).apply(this,arguments)}class Nr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,D,N=!1){return(0,u.Z)(function*(){const O=yield vt._fromIdTokenResponse(g,D,N),te=zu(D);return new Nr({user:O,providerId:te,_tokenResponse:D,operationType:m})})()}static _forOperation(g,m,D){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const N=zu(D);return new Nr({user:g,providerId:N,_tokenResponse:D,operationType:m})})()}}function zu(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Zu(v){return al.apply(this,arguments)}function al(){return(al=(0,u.Z)(function*(v){var g;const m=He(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Nr({user:m.currentUser,providerId:null,operationType:"signIn"});const D=yield qu(m,{returnSecureToken:!0}),N=yield Nr._fromIdTokenResponse(m,"signIn",D,!0);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class ll extends V.ZR{constructor(g,m,D,N){var O;super(m.code,m.message),this.operationType=D,this.user=N,Object.setPrototypeOf(this,ll.prototype),this.customData={appName:g.name,tenantId:null!==(O=g.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,m,D,N){return new ll(g,m,D,N)}}function ul(v,g,m,D){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?ll._fromErrorAndOperation(v,O,g,D):O})}function $l(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function cs(v,g){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,u.Z)(function*(v,g){const m=(0,V.m9)(v);yield ks(!0,m,g);const{providerUserInfo:D}=yield Pr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),N=$l(D||[]);return m.providerData=m.providerData.filter(O=>N.has(O.providerId)),N.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function mn(v,g){return ya.apply(this,arguments)}function ya(){return(ya=(0,u.Z)(function*(v,g,m=!1){const D=yield lt(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return Nr._forOperation(v,"link",D)})).apply(this,arguments)}function ks(v,g,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(v,g,m){yield kn(g);const N=!1===v?"provider-already-linked":"no-such-provider";ne($l(g.providerData).has(m)===v,g.auth,N)})).apply(this,arguments)}function cl(v,g){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(v,g,m=!1){const{auth:D}=v,N="reauthenticate";try{const O=yield lt(v,ul(D,N,g,v),m);ne(O.idToken,D,"internal-error");const te=Zt(O.idToken);ne(te,D,"internal-error");const{sub:Pe}=te;return ne(v.uid===Pe,D,"user-mismatch"),Nr._forOperation(v,N,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&ze(D,"user-mismatch"),O}})).apply(this,arguments)}function no(v,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,u.Z)(function*(v,g,m=!1){const D="signIn",N=yield ul(v,D,g),O=yield Nr._fromIdTokenResponse(v,D,N);return m||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function dl(v,g){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(v,g){return no(He(v),g)})).apply(this,arguments)}function ds(v,g){return fr.apply(this,arguments)}function fr(){return(fr=(0,u.Z)(function*(v,g){const m=(0,V.m9)(v);return yield ks(!1,m,g.providerId),mn(m,g)})).apply(this,arguments)}function Lo(v,g){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(v,g){return cl((0,V.m9)(v),g)})).apply(this,arguments)}function ql(v,g){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(v,g){return In(v,"POST","/v1/accounts:signInWithCustomToken",Gt(v,g))})).apply(this,arguments)}function Ps(v,g){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(v,g){const m=He(v),D=yield ql(m,{token:g,returnSecureToken:!0}),N=yield Nr._fromIdTokenResponse(m,"signIn",D);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class Dt{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?ro._fromServerResponse(g,m):ze(g,"internal-error")}}class ro extends Dt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new ro(m)}}function hl(v,g,m){var D;ne((null===(D=m.url)||void 0===D?void 0:D.length)>0,v,"invalid-continue-uri"),ne(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ne(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(ne(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Ku(v,g,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,u.Z)(function*(v,g,m){const D=(0,V.m9)(v),N={requestType:"PASSWORD_RESET",email:g};m&&hl(D,N,m),yield Uu(D,N)})).apply(this,arguments)}function Yu(v,g,m){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,u.Z)(function*(v,g,m){yield Qs((0,V.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Md(v,g){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(v,g){yield Mo((0,V.m9)(v),{oobCode:g})})).apply(this,arguments)}function Oe(v,g){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,u.Z)(function*(v,g){const m=(0,V.m9)(v),D=yield Qs(m,{oobCode:g}),N=D.requestType;switch(ne(N,m,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(D.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(D.mfaInfo,m,"internal-error");default:ne(D.email,m,"internal-error")}let O=null;return D.mfaInfo&&(O=Dt._fromServerResponse(He(m),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:O},operation:N}})).apply(this,arguments)}function fl(v,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(v,g){const{data:m}=yield Oe((0,V.m9)(v),g);return m.email})).apply(this,arguments)}function Ju(v,g,m){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(v,g,m){const D=He(v),N=yield qu(D,{returnSecureToken:!0,email:g,password:m}),O=yield Nr._fromIdTokenResponse(D,"signIn",N);return yield D._updateCurrentUser(O.user),O})).apply(this,arguments)}function qi(v,g,m){return dl((0,V.m9)(v),ga.credential(g,m))}function zl(v,g,m){return wa.apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(v,g,m){const D=(0,V.m9)(v),N={requestType:"EMAIL_SIGNIN",email:g};ne(m.handleCodeInApp,D,"argument-error"),m&&hl(D,N,m),yield Ci(D,N)})).apply(this,arguments)}function xd(v,g){const m=ls.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Qu(v,g,m){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,u.Z)(function*(v,g,m){const D=(0,V.m9)(v),N=ga.credentialWithLink(g,m||he());return ne(N._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),dl(D,N)})).apply(this,arguments)}function io(v,g){return pr.apply(this,arguments)}function pr(){return(pr=(0,u.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:createAuthUri",Gt(v,g))})).apply(this,arguments)}function zi(v,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,u.Z)(function*(v,g){const D={identifier:g,continueUri:Ve()?he():"http://localhost"},{signinMethods:N}=yield io((0,V.m9)(v),D);return N||[]})).apply(this,arguments)}function Uo(v,g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,u.Z)(function*(v,g){const m=(0,V.m9)(v),N={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&hl(m.auth,N,g);const{email:O}=yield Sn(m.auth,N);O!==v.email&&(yield v.reload())})).apply(this,arguments)}function Rd(v,g,m){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(v,g,m){const D=(0,V.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&hl(D.auth,O,m);const{email:te}=yield ju(D.auth,O);te!==v.email&&(yield v.reload())})).apply(this,arguments)}function ec(v,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,u.Z)(function*(v,g){return tn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Zl(v,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const D=(0,V.m9)(v),O={idToken:yield D.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},te=yield lt(D,ec(D.auth,O));D.displayName=te.displayName||null,D.photoURL=te.photoUrl||null;const Pe=D.providerData.find(({providerId:at})=>"password"===at);Pe&&(Pe.displayName=D.displayName,Pe.photoURL=D.photoURL),yield D._updateTokensIfNecessary(te)})).apply(this,arguments)}function tc(v,g){return Kl((0,V.m9)(v),g,null)}function nc(v,g){return Kl((0,V.m9)(v),null,g)}function Kl(v,g,m){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,u.Z)(function*(v,g,m){const{auth:D}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(O.email=g),m&&(O.password=m);const te=yield lt(v,Pt(D,O));yield v._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class so{constructor(g,m,D={}){this.isNewUser=g,this.providerId=m,this.profile=D}}class rc extends so{constructor(g,m,D,N){super(g,m,D),this.username=N}}class Od extends so{constructor(g,m){super(g,"facebook.com",m)}}class pl extends rc{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Qr extends so{constructor(g,m){super(g,"google.com",m)}}class kd extends rc{constructor(g,m,D){super(g,"twitter.com",m,D)}}function Yl(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ea(v){var g,m;if(!v)return null;const{providerId:D}=v,N=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!D&&(null==v?void 0:v.idToken)){const te=null===(m=null===(g=Zt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(te)return new so(O,"anonymous"!==te&&"custom"!==te?te:null)}if(!D)return null;switch(D){case"facebook.com":return new Od(O,N);case"github.com":return new pl(O,N);case"google.com":return new Qr(O,N);case"twitter.com":return new kd(O,N,v.screenName||null);case"custom":case"anonymous":return new so(O,null);default:return new so(O,D,N)}}(m)}class fs{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new fs("enroll",g)}static _fromMfaPendingCredential(g){return new fs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,D;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return fs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(D=g.multiFactorSession)||void 0===D?void 0:D.idToken)return fs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ca{constructor(g,m,D){this.session=g,this.hints=m,this.signInResolver=D}static _fromError(g,m){const D=He(g),N=m.customData._serverResponse,O=(N.mfaInfo||[]).map(Pe=>Dt._fromServerResponse(D,Pe));ne(N.mfaPendingCredential,D,"internal-error");const te=fs._fromMfaPendingCredential(N.mfaPendingCredential);return new Ca(te,O,function(){var Pe=(0,u.Z)(function*(at){const _t=yield at._process(D,te);delete N.mfaInfo,delete N.mfaPendingCredential;const Bt=Object.assign(Object.assign({},N),{idToken:_t.idToken,refreshToken:_t.refreshToken});switch(m.operationType){case"signIn":const xn=yield Nr._fromIdTokenResponse(D,m.operationType,Bt);return yield D._updateCurrentUser(xn.user),xn;case"reauthenticate":return ne(m.user,D,"internal-error"),Nr._forOperation(m.user,m.operationType,Bt);default:ze(D,"internal-error")}});return function(at){return Pe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,u.Z)(function*(){return m.signInResolver(g)})()}}function Ia(v,g){var m;const D=(0,V.m9)(v),N=g;return ne(g.customData.operationType,D,"argument-error"),ne(null===(m=N.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,D,"argument-error"),Ca._fromError(D,N)}function ir(v,g){return tn(v,"POST","/v2/accounts/mfaEnrollment:start",Gt(v,g))}class ps{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(D=>Dt._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new ps(g)}getSession(){var g=this;return(0,u.Z)(function*(){return fs._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var D=this;return(0,u.Z)(function*(){const N=g,O=yield D.getSession(),te=yield lt(D.user,N._process(D.user.auth,O,m));return yield D.user._updateTokensIfNecessary(te),D.user.reload()})()}unenroll(g){var m=this;return(0,u.Z)(function*(){const D="string"==typeof g?g:g.uid,N=yield m.user.getIdToken(),O=yield lt(m.user,function Gf(v,g){return tn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(v,g))}(m.user.auth,{idToken:N,mfaEnrollmentId:D}));m.enrolledFactors=m.enrolledFactors.filter(({uid:te})=>te!==D),yield m.user._updateTokensIfNecessary(O);try{yield m.user.reload()}catch(te){if("auth/user-token-expired"!==te.code)throw te}})()}}const Go=new WeakMap;function ac(v){const g=(0,V.m9)(v);return Go.has(g)||Go.set(g,ps._fromUser(g)),Go.get(g)}const Sa="__sak";class Bs{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Sa,"1"),this.storage.removeItem(Sa),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const dt=(()=>{class v extends Bs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,D)=>this.onStorageEvent(m,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gl(){const v=(0,V.z$)();return q(v)||Ut(v)}()&&function $i(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Ar(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const D of Object.keys(this.listeners)){const N=this.storage.getItem(D),O=this.localCache[D];N!==O&&m(D,O,N)}}onStorageEvent(m,D=!1){if(!m.key)return void this.forAllChangedKeys((Pe,at,_t)=>{this.notifyListeners(Pe,_t)});const N=m.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pe=this.storage.getItem(N);if(m.newValue!==Pe)null!==m.newValue?this.storage.setItem(N,m.newValue):this.storage.removeItem(N);else if(this.localCache[N]===m.newValue&&!D)return}const O=()=>{const Pe=this.storage.getItem(N);!D&&this.localCache[N]===Pe||this.notifyListeners(N,Pe)},te=this.storage.getItem(N);!function jt(){return(0,V.w1)()&&10===document.documentMode}()||te===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,D){this.localCache[m]=D;const N=this.listeners[m];if(N)for(const O of Array.from(N))O(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,D,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:D,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,D){var N=()=>super._set,O=this;return(0,u.Z)(function*(){yield N().call(O,m,D),O.localCache[m]=JSON.stringify(D)})()}_get(m){var D=()=>super._get,N=this;return(0,u.Z)(function*(){const O=yield D().call(N,m);return N.localCache[m]=JSON.stringify(O),O})()}_remove(m){var D=()=>super._remove,N=this;return(0,u.Z)(function*(){yield D().call(N,m),delete N.localCache[m]})()}}return v.type="LOCAL",v})(),Ln=(()=>{class v extends Bs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,D){}_removeListener(m,D){}}return v.type="SESSION",v})();let Zi=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const D=this.receivers.find(O=>O.isListeningto(m));if(D)return D;const N=new v(m);return this.receivers.push(N),N}isListeningto(m){return this.eventTarget===m}handleEvent(m){var D=this;return(0,u.Z)(function*(){const N=m,{eventId:O,eventType:te,data:Pe}=N.data,at=D.handlersMap[te];if(!(null==at?void 0:at.size))return;N.ports[0].postMessage({status:"ack",eventId:O,eventType:te});const _t=Array.from(at).map(function(){var xn=(0,u.Z)(function*(ti){return ti(N.origin,Pe)});return function(ti){return xn.apply(this,arguments)}}()),Bt=yield function ci(v){return Promise.all(v.map(function(){var g=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(D){return{fulfilled:!1,reason:D}}});return function(m){return g.apply(this,arguments)}}()))}(_t);N.ports[0].postMessage({status:"done",eventId:O,eventType:te,response:Bt})})()}_subscribe(m,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(D)}_unsubscribe(m,D){this.handlersMap[m]&&D&&this.handlersMap[m].delete(D),(!D||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Bn(v="",g=10){let m="";for(let D=0;D<g;D++)m+=Math.floor(10*Math.random());return v+m}class Vn{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,D=50){var N=this;return(0,u.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let te,Pe;return new Promise((at,_t)=>{const Bt=Bn("",20);O.port1.start();const xn=setTimeout(()=>{_t(new Error("unsupported_event"))},D);Pe={messageChannel:O,onMessage(ti){const Ws=ti;if(Ws.data.eventId===Bt)switch(Ws.data.status){case"ack":clearTimeout(xn),te=setTimeout(()=>{_t(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),at(Ws.data.response);break;default:clearTimeout(xn),clearTimeout(te),_t(new Error("invalid_response"))}}},N.handlers.add(Pe),O.port1.addEventListener("message",Pe.onMessage),N.target.postMessage({eventType:g,eventId:Bt,data:m},[O.port2])}).finally(()=>{Pe&&N.removeMessageHandler(Pe)})})()}}function Rt(){return window}function Si(){return void 0!==Rt().WorkerGlobalScope&&"function"==typeof Rt().importScripts}function yr(){return(yr=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Jl="firebaseLocalStorageDb",ao="firebaseLocalStorage",lo="fbase_key";class vr{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Na(v,g){return v.transaction([ao],g?"readwrite":"readonly").objectStore(ao)}function uo(){const v=indexedDB.open(Jl,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const D=v.result;try{D.createObjectStore(ao,{keyPath:lo})}catch(N){m(N)}}),v.addEventListener("success",(0,u.Z)(function*(){const D=v.result;D.objectStoreNames.contains(ao)?g(D):(D.close(),yield function di(){const v=indexedDB.deleteDatabase(Jl);return new vr(v).toPromise()}(),g(yield uo()))}))})}function ml(v,g,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,u.Z)(function*(v,g,m){const D=Na(v,!0).put({[lo]:g,value:m});return new vr(D).toPromise()})).apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(v,g){const m=Na(v,!1).get(g),D=yield new vr(m).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Ai(v,g){const m=Na(v,!0).delete(g);return new vr(m).toPromise()}const gs=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield uo()),m.db})()}_withRetries(m){var D=this;return(0,u.Z)(function*(){let N=0;for(;;)try{const O=yield D._openDb();return yield m(O)}catch(O){if(N++>3)throw O;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return Si()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=Zi._getInstance(function lc(){return Si()?self:null}()),m.receiver._subscribe("keyChanged",function(){var D=(0,u.Z)(function*(N,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(N,O){return D.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var D=(0,u.Z)(function*(N,O){return["keyChanged"]});return function(N,O){return D.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var D,N;if(m.activeServiceWorker=yield function Aa(){return yr.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Vn(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(D=O[0])||void 0===D?void 0:D.fulfilled)&&(null===(N=O[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var D=this;return(0,u.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Wf(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:m},D.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield uo();return yield ml(m,Sa,"1"),yield Ai(m,Sa),!0}catch(m){}return!1})()}_withPendingWrite(m){var D=this;return(0,u.Z)(function*(){D.pendingWrites++;try{yield m()}finally{D.pendingWrites--}})()}_set(m,D){var N=this;return(0,u.Z)(function*(){return N._withPendingWrite((0,u.Z)(function*(){return yield N._withRetries(O=>ml(O,m,D)),N.localCache[m]=D,N.notifyServiceWorker(m)}))})()}_get(m){var D=this;return(0,u.Z)(function*(){const N=yield D._withRetries(O=>function _l(v,g){return Ma.apply(this,arguments)}(O,m));return D.localCache[m]=N,N})()}_remove(m){var D=this;return(0,u.Z)(function*(){return D._withPendingWrite((0,u.Z)(function*(){return yield D._withRetries(N=>Ai(N,m)),delete D.localCache[m],D.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const D=yield m._withRetries(te=>{const Pe=Na(te,!1).getAll();return new vr(Pe).toPromise()});if(!D)return[];if(0!==m.pendingWrites)return[];const N=[],O=new Set;for(const{fbase_key:te,value:Pe}of D)O.add(te),JSON.stringify(m.localCache[te])!==JSON.stringify(Pe)&&(m.notifyListeners(te,Pe),N.push(te));for(const te of Object.keys(m.localCache))m.localCache[te]&&!O.has(te)&&(m.notifyListeners(te,null),N.push(te));return N})()}notifyListeners(m,D){this.localCache[m]=D;const N=this.listeners[m];if(N)for(const O of Array.from(N))O(D)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function cc(v,g){return tn(v,"POST","/v2/accounts/mfaSignIn:start",Gt(v,g))}function Ni(){return(Ni=(0,u.Z)(function*(v){return(yield tn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wo(v){return new Promise((g,m)=>{const D=document.createElement("script");D.setAttribute("src",v),D.onload=g,D.onerror=N=>{const O=Me("internal-error");O.customData=N,m(O)},D.type="text/javascript",D.charset="UTF-8",function Ql(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(D)})}function Xl(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ki=1e12;class qf{constructor(g){this.auth=g,this.counter=Ki,this._widgets=new Map}render(g,m){const D=this.counter;return this._widgets.set(D,new hc(g,this.auth.name,m||{})),this.counter++,D}reset(g){var m;const D=g||Ki;null===(m=this._widgets.get(D))||void 0===m||m.delete(),this._widgets.delete(D)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Ki))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,u.Z)(function*(){var D;return null===(D=m._widgets.get(g||Ki))||void 0===D||D.execute(),""})()}}class hc{constructor(g,m,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof g?document.getElementById(g):g;ne(N,"argument-error",{appName:m}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Oa(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<v;D++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const eu=Xl("rcb"),zf=new Je(3e4,6e4);class Ld{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Rt().grecaptcha}load(g,m=""){return ne(function Bd(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Rt().grecaptcha):new Promise((D,N)=>{const O=Rt().setTimeout(()=>{N(Me(g,"network-request-failed"))},zf.get());Rt()[eu]=()=>{Rt().clearTimeout(O),delete Rt()[eu];const Pe=Rt().grecaptcha;if(!Pe)return void N(Me(g,"internal-error"));const at=Pe.render;Pe.render=(_t,Bt)=>{const xn=at(_t,Bt);return this.counter++,xn},this.hostLanguage=m,D(Pe)},Wo(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:eu,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),N(Me(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Rt().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fc{load(g){return(0,u.Z)(function*(){return new qf(g)})()}clearedOneInstance(){}}const tu="recaptcha",Vd={theme:"light",type:"image"};class pc{constructor(g,m=Object.assign({},Vd),D){this.parameters=m,this.type=tu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=He(D),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof g?document.getElementById(g):g;ne(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fc:new Ld,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(m)||new Promise(O=>{const te=Pe=>{!Pe||(g.tokenChangeListeners.delete(te),O(Pe))};g.tokenChangeListeners.add(te),g.isInvisible&&D.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(D=>D(m)),"function"==typeof g)g(m);else if("string"==typeof g){const D=Rt()[g];"function"==typeof D&&D(m)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const D=document.createElement("div");m.appendChild(D),m=D}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){ne(Ve()&&!Si(),g.auth,"internal-error"),yield function Zf(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function dc(v){return Ni.apply(this,arguments)}(g.auth);ne(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qo{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Po._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Tm(v,g,m){return jn.apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(v,g,m){const D=He(v),N=yield qt(D,g,(0,V.m9)(m));return new qo(N,O=>dl(D,O))})).apply(this,arguments)}function nu(v,g,m){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(v,g,m){const D=(0,V.m9)(v);yield ks(!1,D,"phone");const N=yield qt(D.auth,g,(0,V.m9)(m));return new qo(N,O=>ds(D,O))})).apply(this,arguments)}function Em(v,g,m){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(v,g,m){const D=(0,V.m9)(v),N=yield qt(D.auth,g,(0,V.m9)(m));return new qo(N,O=>Lo(D,O))})).apply(this,arguments)}function qt(v,g,m){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(v,g,m){var D;const N=yield m.verify();try{let O;if(ne("string"==typeof N,v,"argument-error"),ne(m.type===tu,v,"argument-error"),O="string"==typeof g?{phoneNumber:g}:g,"session"in O){const te=O.session;if("phoneNumber"in O)return ne("enroll"===te.type,v,"internal-error"),(yield ir(v,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{ne("signin"===te.type,v,"internal-error");const Pe=(null===(D=O.multiFactorHint)||void 0===D?void 0:D.uid)||O.multiFactorUid;return ne(Pe,v,"missing-multi-factor-info"),(yield cc(v,{mfaPendingCredential:te.credential,mfaEnrollmentId:Pe,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Ff(v,{phoneNumber:O.phoneNumber,recaptchaToken:N});return te}}finally{m._reset()}})).apply(this,arguments)}function gc(v,g){return js.apply(this,arguments)}function js(){return(js=(0,u.Z)(function*(v,g){yield mn((0,V.m9)(v),g)})).apply(this,arguments)}let ho=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=He(m)}verifyPhoneNumber(m,D){return qt(this.auth,m,(0,V.m9)(D))}static credential(m,D){return Po._fromVerification(m,D)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:D,temporaryProof:N}=m;return D&&N?Po._fromTokenResponse(D,N):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function hi(v,g){return g?re(g):(ne(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Pa extends an{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Qn(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Qn(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Qn(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function ru(v){return no(v.auth,new Pa(v),v.bypassAuthState)}function mc(v){const{auth:g,user:m}=v;return ne(m,g,"internal-error"),cl(m,new Pa(v),v.bypassAuthState)}function br(v){return yl.apply(this,arguments)}function yl(){return(yl=(0,u.Z)(function*(v){const{auth:g,user:m}=v;return ne(m,g,"internal-error"),mn(m,new Pa(v),v.bypassAuthState)})).apply(this,arguments)}class Xr{constructor(g,m,D,N,O=!1){this.auth=g,this.resolver=D,this.user=N,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,u.Z)(function*(D,N){g.pendingPromise={resolve:D,reject:N};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(O){g.reject(O)}});return function(D,N){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,u.Z)(function*(){const{urlResponse:D,sessionId:N,postBody:O,tenantId:te,error:Pe,type:at}=g;if(Pe)return void m.reject(Pe);const _t={auth:m.auth,requestUri:D,sessionId:N,tenantId:te||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(at)(_t))}catch(Bt){m.reject(Bt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ru;case"linkViaPopup":case"linkViaRedirect":return br;case"reauthViaPopup":case"reauthViaRedirect":return mc;default:ze(this.auth,"internal-error")}}resolve(g){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _c=new Je(2e3,1e4);function zo(v,g,m){return vl.apply(this,arguments)}function vl(){return(vl=(0,u.Z)(function*(v,g,m){const D=He(v);Ce(v,g,Os);const N=hi(D,m);return new Ji(D,"signInViaPopup",g,N).executeNotNull()})).apply(this,arguments)}function fo(v,g,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,u.Z)(function*(v,g,m){const D=(0,V.m9)(v);Ce(D.auth,g,Os);const N=hi(D.auth,m);return new Ji(D.auth,"reauthViaPopup",g,N,D).executeNotNull()})).apply(this,arguments)}function iu(v,g,m){return su.apply(this,arguments)}function su(){return(su=(0,u.Z)(function*(v,g,m){const D=(0,V.m9)(v);Ce(D.auth,g,Os);const N=hi(D.auth,m);return new Ji(D.auth,"linkViaPopup",g,N,D).executeNotNull()})).apply(this,arguments)}let Ji=(()=>{class v extends Xr{constructor(m,D,N,O,te){super(m,D,O,te),this.provider=N,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const D=yield m.execute();return ne(D,m.auth,"internal-error"),D})()}onExecution(){var m=this;return(0,u.Z)(function*(){Ie(1===m.filter.length,"Popup operations only handle one event");const D=Bn();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],D),m.authWindow.associatedEvent=D,m.resolver._originValidation(m.auth).catch(N=>{m.reject(N)}),m.resolver._isIframeWebStorageSupported(m.auth,N=>{N||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var D,N;this.pollId=(null===(N=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,_c.get())};m()}}return v.currentPopupAction=null,v})();const fi=new Map;class An extends Xr{constructor(g,m,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,u.Z)(function*(){let D=fi.get(m.auth._key());if(!D){try{const O=(yield function ou(v,g){return au.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;D=()=>Promise.resolve(O)}catch(N){D=()=>Promise.reject(N)}fi.set(m.auth._key(),D)}return m.bypassAuthState||fi.set(m.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,D=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(D,g);if("unknown"!==g.type){if(g.eventId){const N=yield D.auth._redirectUserForId(g.eventId);if(N)return D.user=N,m().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function au(){return(au=(0,u.Z)(function*(v,g){const m=x(g),D=C(v);if(!(yield D._isAvailable()))return!1;const N="true"===(yield D._get(m));return yield D._remove(m),N})).apply(this,arguments)}function po(v,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(v,g){return C(v)._set(x(g),"true")})).apply(this,arguments)}function wl(){fi.clear()}function E(v,g){fi.set(v._key(),g)}function C(v){return re(v._redirectPersistence)}function x(v){return Ct("pendingRedirect",v.config.apiKey,v.name)}function B(v,g,m){return function J(v,g,m){return le.apply(this,arguments)}(v,g,m)}function le(){return(le=(0,u.Z)(function*(v,g,m){const D=He(v);Ce(v,g,Os);const N=hi(D,m);return yield po(N,D),N._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function Be(v,g,m){return function ot(v,g,m){return ct.apply(this,arguments)}(v,g,m)}function ct(){return(ct=(0,u.Z)(function*(v,g,m){const D=(0,V.m9)(v);Ce(D.auth,g,Os);const N=hi(D.auth,m);yield po(N,D.auth);const O=yield En(D);return N._openRedirect(D.auth,g,"reauthViaRedirect",O)})).apply(this,arguments)}function St(v,g,m){return function Qt(v,g,m){return Et.apply(this,arguments)}(v,g,m)}function Et(){return(Et=(0,u.Z)(function*(v,g,m){const D=(0,V.m9)(v);Ce(D.auth,g,Os);const N=hi(D.auth,m);yield ks(!1,D,g.providerId),yield po(N,D.auth);const O=yield En(D);return N._openRedirect(D.auth,g,"linkViaRedirect",O)})).apply(this,arguments)}function wr(v,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,u.Z)(function*(v,g){return yield He(v)._initializationPromise,Zo(v,g,!1)})).apply(this,arguments)}function Zo(v,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,u.Z)(function*(v,g,m=!1){const D=He(v),N=hi(D,g),te=yield new An(D,N,m).execute();return te&&!m&&(delete te.user._redirectEventId,yield D._persistUserIfCurrent(te.user),yield D._setRedirectUser(null,g)),te})).apply(this,arguments)}function En(v){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(v){const g=Bn(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class go{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(m=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function lu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mr(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var D;if(g.error&&!Mr(g)){const N=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,N))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const D=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dr(g))}saveEventToCache(g){this.cachedEventUids.add(Dr(g)),this.lastProcessedEventTime=Date.now()}}function Dr(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Mr({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function uu(v){return vc.apply(this,arguments)}function vc(){return(vc=(0,u.Z)(function*(v,g={}){return tn(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Kf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cm=/^https?/;function La(){return(La=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield uu(v);for(const m of g)try{if(Yf(m))return}catch(D){}ze(v,"unauthorized-domain")})).apply(this,arguments)}function Yf(v){const g=he(),{protocol:m,hostname:D}=new URL(g);if(v.startsWith("chrome-extension://")){const te=new URL(v);return""===te.hostname&&""===D?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&te.hostname===D}if(!Cm.test(m))return!1;if(Kf.test(v))return D===v;const N=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(D)}const Tl=new Je(3e4,6e4);function pi(){const v=Rt().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let bc=null;function Sm(v){return bc=bc||function Im(v){return new Promise((g,m)=>{var D,N,O;function te(){pi(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{pi(),m(Me(v,"network-request-failed"))},timeout:Tl.get()})}if(null===(N=null===(D=Rt().gapi)||void 0===D?void 0:D.iframes)||void 0===N?void 0:N.Iframe)g(gapi.iframes.getContext());else{if(!(null===(O=Rt().gapi)||void 0===O?void 0:O.load)){const Pe=Xl("iframefcb");return Rt()[Pe]=()=>{gapi.load?te():m(Me(v,"network-request-failed"))},Wo(`https://apis.google.com/js/api.js?onload=${Pe}`).catch(at=>m(at))}te()}}).catch(g=>{throw bc=null,g})}(v),bc}const Am=new Je(5e3,15e3),Gs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ba=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Br(v){const g=v.config;ne(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?un(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,D={apiKey:g.apiKey,appName:v.name,v:R.SDK_VERSION},N=Ba.get(v.config.apiHost);N&&(D.eid=N);const O=v._getFrameworks();return O.length&&(D.fw=O.join(",")),`${m}?${(0,V.xO)(D).slice(1)}`}function Jf(){return Jf=(0,u.Z)(function*(v){const g=yield Sm(v),m=Rt().gapi;return ne(m,v,"internal-error"),g.open({where:document.body,url:Br(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gs,dontclear:!0},D=>new Promise(function(){var N=(0,u.Z)(function*(O,te){yield D.restyle({setHideOnLeave:!1});const Pe=Me(v,"network-request-failed"),at=Rt().setTimeout(()=>{te(Pe)},Am.get());function _t(){Rt().clearTimeout(at),O(D)}D.ping(_t).then(_t,()=>{te(Pe)})});return function(O,te){return N.apply(this,arguments)}}()))}),Jf.apply(this,arguments)}const ei={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mo{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Tc(v,g,m,D,N,O){ne(v.config.authDomain,v,"auth-domain-config-required"),ne(v.config.apiKey,v,"invalid-api-key");const te={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:D,v:R.SDK_VERSION,eventId:N};if(g instanceof Os){g.setDefaultLanguage(v.languageCode),te.providerId=g.providerId||"",(0,V.xb)(g.getCustomParameters())||(te.customParameters=JSON.stringify(g.getCustomParameters()));for(const[at,_t]of Object.entries(O||{}))te[at]=_t}if(g instanceof ui){const at=g.getScopes().filter(_t=>""!==_t);at.length>0&&(te.scopes=at.join(","))}v.tenantId&&(te.tid=v.tenantId);const Pe=te;for(const at of Object.keys(Pe))void 0===Pe[at]&&delete Pe[at];return`${function $s({config:v}){return v.emulator?un(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,V.xO)(Pe).slice(1)}`}const _o="webStorageSupport",tp=class Gd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ln,this._completeRedirectFn=Zo,this._overrideRedirectResult=E}_openPopup(g,m,D,N){var O=this;return(0,u.Z)(function*(){var te;Ie(null===(te=O.eventManagers[g._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Pe=Tc(g,m,D,he(),N);return function Qf(v,g,m,D=500,N=600){const O=Math.max((window.screen.availHeight-N)/2,0).toString(),te=Math.max((window.screen.availWidth-D)/2,0).toString();let Pe="";const at=Object.assign(Object.assign({},ei),{width:D.toString(),height:N.toString(),top:O,left:te}),_t=(0,V.z$)().toLowerCase();m&&(Pe=Ae(_t)?"_blank":m),K(_t)&&(g=g||"http://localhost",at.scrollbars="yes");const Bt=Object.entries(at).reduce((ti,[Ws,Yo])=>`${ti}${Ws}=${Yo},`,"");if(function Zr(v=(0,V.z$)()){var g;return Ut(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(_t)&&"_self"!==Pe)return function Xf(v,g){const m=document.createElement("a");m.href=v,m.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(D)}(g||"",Pe),new mo(null);const xn=window.open(g||"",Pe,Bt);ne(xn,v,"popup-blocked");try{xn.focus()}catch(ti){}return new mo(xn)}(g,Pe,Bn())})()}_openRedirect(g,m,D,N){var O=this;return(0,u.Z)(function*(){return yield O._originValidation(g),function wt(v){Rt().location.href=v}(Tc(g,m,D,he(),N)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:N,promise:O}=this.eventManagers[m];return N?Promise.resolve(N):(Ie(O,"If manager is not set, promise should be"),O)}const D=this.initAndGetManager(g);return this.eventManagers[m]={promise:D},D.catch(()=>{delete this.eventManagers[m]}),D}initAndGetManager(g){var m=this;return(0,u.Z)(function*(){const D=yield function Ko(v){return Jf.apply(this,arguments)}(g),N=new go(g);return D.register("authEvent",O=>(ne(null==O?void 0:O.authEvent,g,"invalid-auth-event"),{status:N.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:N},m.iframes[g._key()]=D,N})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(_o,{type:_o},N=>{var O;const te=null===(O=null==N?void 0:N[0])||void 0===O?void 0:O[_o];void 0!==te&&m(!!te),ze(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Dl(v){return La.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ar()||q()||Ut()}};class Ec extends class np{constructor(g){this.factorId=g}_process(g,m,D){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,D);case"signin":return this._finalizeSignIn(g,m.credential);default:return pe("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ec(g)}_finalizeEnroll(g,m,D){return function oc(v,g){return tn(v,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(v,g))}(g,{idToken:m,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function $o(v,g){return tn(v,"POST","/v2/accounts/mfaSignIn:finalize",Gt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $d=(()=>{class v{constructor(){}static assertion(m){return Ec._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Wd="@firebase/auth";class rp{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(D=>{var N;g((null===(N=D)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function sp(v){(0,R._registerComponent)(new _e.wA("auth",(g,{options:m})=>{const D=g.getProvider("app").getImmediate(),N=g.getProvider("heartbeat"),{apiKey:O,authDomain:te}=D.options;return((Pe,at)=>{ne(O&&!O.includes(":"),"invalid-api-key",{appName:Pe.name}),ne(!(null==te?void 0:te.includes(":")),"argument-error",{appName:Pe.name});const _t={apiKey:O,authDomain:te,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dr(v)},Bt=new Kr(Pe,at,_t);return function be(v,g){const m=(null==g?void 0:g.persistence)||[],D=(Array.isArray(m)?m:[m]).map(re);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(D,null==g?void 0:g.popupRedirectResolver)}(Bt,m),Bt})(D,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,D)=>{g.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new _e.wA("auth-internal",g=>{const m=He(g.getProvider("auth").getImmediate());return new rp(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Wd,"0.20.1",function ip(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,R.registerVersion)(Wd,"0.20.1","esm2017")}("Browser")},2090:(it,De,k)=>{k.d(De,{$s:()=>$t,BH:()=>Ke,G6:()=>ne,L:()=>ce,LL:()=>he,Mn:()=>Ce,Sg:()=>Ne,UG:()=>me,US:()=>_e,ZB:()=>j,ZR:()=>be,b$:()=>ze,d:()=>Me,eu:()=>Ie,hl:()=>pe,jU:()=>Se,m9:()=>cn,ne:()=>Hi,pd:()=>Ei,r3:()=>Gt,ru:()=>Ze,tV:()=>ye,uI:()=>$e,vZ:()=>Ir,w1:()=>xe,xO:()=>ji,xb:()=>Dn,z$:()=>Le,zI:()=>Y,zd:()=>ii});const ae=function(U){const W=[];let Z=0;for(let Te=0;Te<U.length;Te++){let G=U.charCodeAt(Te);G<128?W[Z++]=G:G<2048?(W[Z++]=G>>6|192,W[Z++]=63&G|128):55296==(64512&G)&&Te+1<U.length&&56320==(64512&U.charCodeAt(Te+1))?(G=65536+((1023&G)<<10)+(1023&U.charCodeAt(++Te)),W[Z++]=G>>18|240,W[Z++]=G>>12&63|128,W[Z++]=G>>6&63|128,W[Z++]=63&G|128):(W[Z++]=G>>12|224,W[Z++]=G>>6&63|128,W[Z++]=63&G|128)}return W},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,W){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Te=[];for(let G=0;G<U.length;G+=3){const ee=U[G],ke=G+1<U.length,nt=ke?U[G+1]:0,vt=G+2<U.length,kt=vt?U[G+2]:0;let Jn=(15&nt)<<2|kt>>6,de=63&kt;vt||(de=64,ke||(Jn=64)),Te.push(Z[ee>>2],Z[(3&ee)<<4|nt>>4],Z[Jn],Z[de])}return Te.join("")},encodeString(U,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(U):this.encodeByteArray(ae(U),W)},decodeString(U,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(U):function(U){const W=[];let Z=0,Te=0;for(;Z<U.length;){const G=U[Z++];if(G<128)W[Te++]=String.fromCharCode(G);else if(G>191&&G<224){const ee=U[Z++];W[Te++]=String.fromCharCode((31&G)<<6|63&ee)}else if(G>239&&G<365){const vt=((7&G)<<18|(63&U[Z++])<<12|(63&U[Z++])<<6|63&U[Z++])-65536;W[Te++]=String.fromCharCode(55296+(vt>>10)),W[Te++]=String.fromCharCode(56320+(1023&vt))}else{const ee=U[Z++],ke=U[Z++];W[Te++]=String.fromCharCode((15&G)<<12|(63&ee)<<6|63&ke)}}return W.join("")}(this.decodeStringToByteArray(U,W))},decodeStringToByteArray(U,W){this.init_();const Z=W?this.charToByteMapWebSafe_:this.charToByteMap_,Te=[];for(let G=0;G<U.length;){const ee=Z[U.charAt(G++)],nt=G<U.length?Z[U.charAt(G)]:0;++G;const kt=G<U.length?Z[U.charAt(G)]:64;++G;const Ct=G<U.length?Z[U.charAt(G)]:64;if(++G,null==ee||null==nt||null==kt||null==Ct)throw Error();Te.push(ee<<2|nt>>4),64!==kt&&(Te.push(nt<<4&240|kt>>2),64!==Ct&&Te.push(kt<<6&192|Ct))}return Te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},ce=function(U){return function(U){const W=ae(U);return _e.encodeByteArray(W,!0)}(U).replace(/\./g,"")},ye=function(U){try{return _e.decodeString(U,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function j(U,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return W}for(const Z in W)!W.hasOwnProperty(Z)||!se(Z)||(U[Z]=j(U[Z],W[Z]));return U}function se(U){return"__proto__"!==U}class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Z)=>{this.resolve=W,this.reject=Z})}wrapCallback(W){return(Z,Te)=>{Z?this.reject(Z):this.resolve(Te),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Z):W(Z,Te))}}}function Ne(U,W){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Te=W||"demo-project",G=U.iat||0,ee=U.sub||U.user_id;if(!ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${Te}`,aud:Te,iat:G,exp:G+3600,auth_time:G,sub:ee,user_id:ee,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(ke)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function Se(){return"object"==typeof self&&self.self===self}function Ze(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Me(){return Le().indexOf("Electron/")>=0}function xe(){const U=Le();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ce(){return Le().indexOf("MSAppHost/")>=0}function ne(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pe(){return"object"==typeof indexedDB}function Ie(){return new Promise((U,W)=>{try{let Z=!0;const Te="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(Te);G.onsuccess=()=>{G.result.close(),Z||self.indexedDB.deleteDatabase(Te),U(!0)},G.onupgradeneeded=()=>{Z=!1},G.onerror=()=>{var ee;W((null===(ee=G.error)||void 0===ee?void 0:ee.message)||"")}}catch(Z){W(Z)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class be extends Error{constructor(W,Z,Te){super(Z),this.code=W,this.customData=Te,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(W,Z,Te){this.service=W,this.serviceName=Z,this.errors=Te}create(W,...Z){const Te=Z[0]||{},G=`${this.service}/${W}`,ee=this.errors[W],ke=ee?function Ve(U,W){return U.replace(yt,(Z,Te)=>{const G=W[Te];return null!=G?String(G):`<${Te}?>`})}(ee,Te):"Error";return new be(G,`${this.serviceName}: ${ke} (${G}).`,Te)}}const yt=/\{\$([^}]+)}/g;function Gt(U,W){return Object.prototype.hasOwnProperty.call(U,W)}function Dn(U){for(const W in U)if(Object.prototype.hasOwnProperty.call(U,W))return!1;return!0}function Ir(U,W){if(U===W)return!0;const Z=Object.keys(U),Te=Object.keys(W);for(const G of Z){if(!Te.includes(G))return!1;const ee=U[G],ke=W[G];if(In(ee)&&In(ke)){if(!Ir(ee,ke))return!1}else if(ee!==ke)return!1}for(const G of Te)if(!Z.includes(G))return!1;return!0}function In(U){return null!==U&&"object"==typeof U}function ji(U){const W=[];for(const[Z,Te]of Object.entries(U))Array.isArray(Te)?Te.forEach(G=>{W.push(encodeURIComponent(Z)+"="+encodeURIComponent(G))}):W.push(encodeURIComponent(Z)+"="+encodeURIComponent(Te));return W.length?"&"+W.join("&"):""}function ii(U){const W={};return U.replace(/^\?/,"").split("&").forEach(Te=>{if(Te){const[G,ee]=Te.split("=");W[decodeURIComponent(G)]=decodeURIComponent(ee)}}),W}function Ei(U){const W=U.indexOf("?");if(!W)return"";const Z=U.indexOf("#",W);return U.substring(W,Z>0?Z:void 0)}function Hi(U,W){const Z=new bt(U,W);return Z.subscribe.bind(Z)}class bt{constructor(W,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{W(this)}).catch(Te=>{this.error(Te)})}next(W){this.forEachObserver(Z=>{Z.next(W)})}error(W){this.forEachObserver(Z=>{Z.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Z,Te){let G;if(void 0===W&&void 0===Z&&void 0===Te)throw new Error("Missing Observer.");G=function bn(U,W){if("object"!=typeof U||null===U)return!1;for(const Z of W)if(Z in U&&"function"==typeof U[Z])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Z,complete:Te},void 0===G.next&&(G.next=nn),void 0===G.error&&(G.error=nn),void 0===G.complete&&(G.complete=nn);const ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch(ke){}}),this.observers.push(G),ee}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,W)}sendOne(W,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Z(this.observers[W])}catch(Te){"undefined"!=typeof console&&console.error&&console.error(Te)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nn(){}function $t(U,W=1e3,Z=2){const Te=W*Math.pow(Z,U),G=Math.round(.5*Te*(Math.random()-.5)*2);return Math.min(144e5,Te+G)}function cn(U){return U&&U._delegate?U._delegate:U}},9730:(it,De,k)=>{var u=k(5e3);let V=null;function R(){return V}const fe=new u.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ye(){return(0,u.LFG)(j)}()},providedIn:"platform"}),n})();const $=new u.OlP("Location Initialized");let j=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){se()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){se()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ke(){return new j((0,u.LFG)(fe))}()},providedIn:"platform"}),n})();function se(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Se(n){const e=(0,u.LFG)(fe).location;return new ze((0,u.LFG)(ce),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ze=new u.OlP("appBaseHref");let ze=(()=>{class n extends me{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$e(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const d=this.prepareExternalUrl(i+$e(a));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){const d=this.prepareExternalUrl(i+$e(a));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce),u.LFG(Ze,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ne(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let d=this.prepareExternalUrl(i+$e(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){let d=this.prepareExternalUrl(i+$e(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce),u.LFG(Ze,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Le(ne(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$e(r))}normalize(t){return n.stripTrailingSlash(function Ye(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ne(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Ne,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(u.LFG(me),u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ce(){return new xe((0,u.LFG)(me),(0,u.LFG)(ce))}()},providedIn:"root"}),n})();function ne(n){return n.replace(/\/index.html$/,"")}function Xs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}class Ro{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ro(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,d),xs(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{xs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function xs(n,e){n.context.$implicit=e.item}let Sn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new dn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Uu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Uu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class dn{constructor(){this.$implicit=null,this.ngIf=null}}function Uu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Hu{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Pf{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const as=new Pf,Ff=new Hu;let ol=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,u.QGY)(t))return as;if((0,u.F4k)(t))return Ff;throw function Qn(n,e){return new u.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1}),n})(),Xn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Nr(n){return"server"===n}let ll=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new ul((0,u.LFG)(fe),window)}),n})();class ul{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function cs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$l(this.window.history)||$l(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function $l(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class mn{}class ks extends class ya extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ue(n){V||(V=n)}(new ks)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function cl(){return hn=hn||document.querySelector("base"),hn?hn.getAttribute("href"):null}();return null==t?null:function no(n){va=va||document.createElement("a"),va.setAttribute("href",n);const e=va.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){hn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xs(document.cookie,e)}}let va,hn=null;const hr=new u.OlP("TRANSITION_ID"),Fn=[{provide:u.ip1,useFactory:function dl(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[hr,fe,u.zs3],multi:!0}];class ds{static init(){(0,u.VLi)(new ds)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const f=function(_){d=d||_,a--,0==a&&r(d)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let fr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Lo=new u.OlP("EventManagerPlugins");let Wi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Lo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ql{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Yr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ps=(()=>{class n extends Yr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Fs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Fs))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Fs(n){R().remove(n)}const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ro=/%COMP%/g;function Ls(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ls(n,i,t):(i=i.replace(ro,n),t.push(i))}return t}function Oe(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let fl=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new wn(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new qi(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new zl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ls(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Wi),u.LFG(Ps),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class wn{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Dt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Dt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Dt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Oe(r)):this.eventManager.addEventListener(e,t,Oe(r))}}class qi extends wn{constructor(e,t,r,i){super(e),this.component=r;const a=Ls(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Bo(n){return"_ngcontent-%COMP%".replace(ro,n)}(i+"-"+r.id),this.hostAttr=function Md(n){return"_nghost-%COMP%".replace(ro,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class zl extends wn{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ls(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const f=document.createElement("style");f.textContent=a[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let wa=(()=>{class n extends ql{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const xd=["alt","control","meta","shift"],Xu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},io={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zi=(()=>{class n extends ql{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),d=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let d="";if(xd.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),d+=_+".")}),d+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=d,f}static getEventFullKey(t){let r="",i=function Vo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&io.hasOwnProperty(e)&&(e=io[e]))}return Xu[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xd.forEach(a=>{a!=i&&pr[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ec=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Uo(){ks.makeCurrent(),ds.init()},multi:!0},{provide:fe,useFactory:function Rd(){return(0,u.RDi)(document),document},deps:[]}]),Da=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Jr(){return new u.qLn},deps:[]},{provide:Lo,useClass:wa,multi:!0,deps:[fe,u.R0b,u.Lbi]},{provide:Lo,useClass:zi,multi:!0,deps:[fe]},{provide:fl,useClass:fl,deps:[Wi,Ps,u.AFp]},{provide:u.FYo,useExisting:fl},{provide:Yr,useExisting:Ps},{provide:Ps,useClass:Ps,deps:[fe]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Wi,useClass:Wi,deps:[Lo,u.R0b]},{provide:mn,useClass:fr,deps:[]}];let Zl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:hr,useExisting:u.AFp},Fn]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Da,imports:[Xn,u.hGG]}),n})();"undefined"!=typeof window&&window;let Sa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(gl),r},providedIn:"root"}),n})(),gl=(()=>{class n extends Sa{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Bs(n){return new gl(n.get(fe))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var Vs=k(3269),Wn=k(8996);function dt(...n){const e=(0,Vs.yG)(n);return(0,Wn.D)(n,e)}var sr=k(8306),Ln=k(5577),ci=k(576);function Zi(n,e){return(0,ci.m)(e)?(0,Ln.z)(n,e,1):(0,Ln.z)(n,1)}var Bn=k(4482),Vn=k(5403);function Rt(n,e){return(0,Bn.e)((t,r)=>{let i=0;t.subscribe((0,Vn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var wt=k(4004);class Si{}class Aa{}class yr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof yr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new yr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof yr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===a.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Wf{encodeKey(e){return ao(e)}encodeValue(e){return ao(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Jl=/%(\d[a-f0-9])/gi,Fd={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ao(n){return encodeURIComponent(n).replace(Jl,(e,t)=>{var r;return null!==(r=Fd[t])&&void 0!==r?r:e})}function lo(n){return`${n}`}class vr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Wf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lc(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[d,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],_=t.get(d)||[];_.push(f),t.set(d,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new vr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(lo(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(lo(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class di{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ml(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Us(n){return"undefined"!=typeof Blob&&n instanceof Blob}function _l(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ai{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function uo(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new yr),this.context||(this.context=new di),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new vr,this.urlWithParams=t}serializeBody(){return null===this.body?null:ml(this.body)||Us(this.body)||_l(this.body)||function Ma(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_l(this.body)?null:Us(this.body)?this.body.type||null:ml(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,I=e.params||this.params;const A=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((P,L)=>P.set(L,e.setHeaders[L]),w)),e.setParams&&(I=Object.keys(e.setParams).reduce((P,L)=>P.set(L,e.setParams[L]),I)),new Ai(r,i,d,{params:I,headers:w,context:A,reportProgress:_,responseType:a,withCredentials:f})}}var Rn=(()=>((Rn=Rn||{})[Rn.Sent=0]="Sent",Rn[Rn.UploadProgress=1]="UploadProgress",Rn[Rn.ResponseHeader=2]="ResponseHeader",Rn[Rn.DownloadProgress=3]="DownloadProgress",Rn[Rn.Response=4]="Response",Rn[Rn.User=5]="User",Rn))();class uc{constructor(e,t=200,r="OK"){this.headers=e.headers||new yr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class xa extends uc{constructor(e={}){super(e),this.type=Rn.ResponseHeader}clone(e={}){return new xa({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class gs extends uc{constructor(e={}){super(e),this.type=Rn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new gs({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cc extends uc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function $o(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let dc=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Ai)a=t;else{let _,w;_=i.headers instanceof yr?i.headers:new yr(i.headers),i.params&&(w=i.params instanceof vr?i.params:new vr({fromObject:i.params})),a=new Ai(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=dt(a).pipe(Zi(_=>this.handler.handle(_)));if(t instanceof Ai||"events"===i.observe)return d;const f=d.pipe(Rt(_=>_ instanceof gs));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,wt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,wt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,wt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,wt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new vr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,$o(i,r))}post(t,r,i={}){return this.request("POST",t,$o(i,r))}put(t,r,i={}){return this.request("PUT",t,$o(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Si))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ni{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Ql=new u.OlP("HTTP_INTERCEPTORS");let Wo=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const zf=/^\)\]\}',?\n/;let Ld=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new sr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((L,z)=>i.setRequestHeader(L,z.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const L=t.detectContentTypeHeader();null!==L&&i.setRequestHeader("Content-Type",L)}if(t.responseType){const L=t.responseType.toLowerCase();i.responseType="json"!==L?L:"text"}const a=t.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const L=i.statusText||"OK",z=new yr(i.getAllResponseHeaders()),ie=function Un(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new xa({headers:z,status:i.status,statusText:L,url:ie}),d},_=()=>{let{headers:L,status:z,statusText:ie,url:we}=f(),Ue=null;204!==z&&(Ue=void 0===i.response?i.responseText:i.response),0===z&&(z=Ue?200:0);let qe=z>=200&&z<300;if("json"===t.responseType&&"string"==typeof Ue){const Qe=Ue;Ue=Ue.replace(zf,"");try{Ue=""!==Ue?JSON.parse(Ue):null}catch(je){Ue=Qe,qe&&(qe=!1,Ue={error:je,text:Ue})}}qe?(r.next(new gs({body:Ue,headers:L,status:z,statusText:ie,url:we||void 0})),r.complete()):r.error(new cc({error:Ue,headers:L,status:z,statusText:ie,url:we||void 0}))},w=L=>{const{url:z}=f(),ie=new cc({error:L,status:i.status||0,statusText:i.statusText||"Unknown Error",url:z||void 0});r.error(ie)};let I=!1;const A=L=>{I||(r.next(f()),I=!0);let z={type:Rn.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(z.total=L.total),"text"===t.responseType&&!!i.responseText&&(z.partialText=i.responseText),r.next(z)},P=L=>{let z={type:Rn.UploadProgress,loaded:L.loaded};L.lengthComputable&&(z.total=L.total),r.next(z)};return i.addEventListener("load",_),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",A),null!==a&&i.upload&&i.upload.addEventListener("progress",P)),i.send(a),r.next({type:Rn.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",_),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",A),null!==a&&i.upload&&i.upload.removeEventListener("progress",P)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Bd=new u.OlP("XSRF_COOKIE_NAME"),fc=new u.OlP("XSRF_HEADER_NAME");class tu{}let Vd=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xs(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe),u.LFG(u.Lbi),u.LFG(Bd))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),pc=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tu),u.LFG(fc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Zf=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Ql,[]);this.chain=r.reduceRight((i,a)=>new Ni(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Aa),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),jn=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:pc,useClass:Wo}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Bd,useValue:t.cookieName}:[],t.headerName?{provide:fc,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[pc,{provide:Ql,useExisting:pc,multi:!0},{provide:tu,useClass:Vd},{provide:Bd,useValue:"XSRF-TOKEN"},{provide:fc,useValue:"X-XSRF-TOKEN"}]}),n})(),nu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[dc,{provide:Si,useClass:Zf},Ld,{provide:Aa,useExisting:Ld}],imports:[[jn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var Yi=k(515),qt=k(7579),Hn=k(8421),gc=k(1144);const{isArray:js}=Array;function hi(n){return(0,wt.U)(e=>function ho(n,e){return js(e)?n(...e):n(e)}(n,e))}const Pa=["addListener","removeListener"],ru=["addEventListener","removeEventListener"],mc=["on","off"];function br(n,e,t,r){if((0,ci.m)(t)&&(r=t,t=void 0),r)return br(n,e,t).pipe(hi(r));const[i,a]=function zo(n){return(0,ci.m)(n.addEventListener)&&(0,ci.m)(n.removeEventListener)}(n)?ru.map(d=>f=>n[d](e,f,t)):function Xr(n){return(0,ci.m)(n.addListener)&&(0,ci.m)(n.removeListener)}(n)?Pa.map(yl(n,e)):function _c(n){return(0,ci.m)(n.on)&&(0,ci.m)(n.off)}(n)?mc.map(yl(n,e)):[];if(!i&&(0,gc.z)(n))return(0,Ln.z)(d=>br(d,e,t))((0,Hn.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new sr.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function yl(n,e){return t=>r=>n[t](e,r)}var vl=k(4986),fo=k(3532);const{isArray:su}=Array;function Ji(n){return 1===n.length&&su(n[0])?n[0]:n}class An extends qt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:ou}=Array,{getPrototypeOf:au,prototype:po,keys:Fa}=Object;function wl(n){if(1===n.length){const e=n[0];if(ou(e))return{args:e,keys:null};if(function E(n){return n&&"object"==typeof n&&au(n)===po}(e)){const t=Fa(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var C=k(4671);function x(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var B=k(9672);function Be(n,e,t){n?(0,B.f)(t,n,e):e()}var ot=k(5032);function Qt(...n){const e=(0,Vs.jO)(n),t=Ji(n);return t.length?new sr.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let d=0;!r.closed&&d<t.length;d++)(0,Hn.Xf)(t[d]).subscribe((0,Vn.x)(r,f=>{if(i[d].push(f),i.every(_=>_.length)){const _=i.map(w=>w.shift());r.next(e?e(..._):_),i.some((w,I)=>!w.length&&a[I])&&r.complete()}},()=>{a[d]=!0,!i[d].length&&r.complete()}));return()=>{i=a=null}}):Yi.E}new sr.y(ot.Z);var Et=k(8189);function Nn(...n){return function wr(){return(0,Et.J)(1)}()((0,Wn.D)(n,(0,Vs.yG)(n)))}function Mn(n){return(0,Bn.e)((e,t)=>{(0,Hn.Xf)(n).subscribe((0,Vn.x)(t,()=>t.complete(),ot.Z)),!t.closed&&e.subscribe(t)})}var En=k(5698);function tr(...n){const e=(0,Vs.yG)(n);return(0,Bn.e)((t,r)=>{(e?Nn(n,t,e):Nn(n,t)).subscribe(r)})}function go(n,e){return n===e}function Dr(n,e){return(0,Bn.e)((t,r)=>{let i=null,a=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,Vn.x)(r,_=>{null==i||i.unsubscribe();let w=0;const I=a++;(0,Hn.Xf)(n(_,I)).subscribe(i=(0,Vn.x)(r,A=>r.next(e?e(_,A,I,w++):A),()=>{i=null,f()}))},()=>{d=!0,f()}))})}var Mr=k(8505);function lu(...n){const e=(0,Vs.jO)(n);return(0,Bn.e)((t,r)=>{const i=n.length,a=new Array(i);let d=n.map(()=>!1),f=!1;for(let _=0;_<i;_++)(0,Hn.Xf)(n[_]).subscribe((0,Vn.x)(r,w=>{a[_]=w,!f&&!d[_]&&(d[_]=!0,(f=d.every(C.y))&&(d=null))},ot.Z));t.subscribe((0,Vn.x)(r,_=>{if(f){const w=[_,...a];r.next(e?e(...w):w)}}))})}let Yf=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Tl=(()=>{class n extends Yf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const pi=new u.OlP("NgValueAccessor"),Sm={provide:pi,useExisting:(0,u.Gpc)(()=>Hs),multi:!0},Nm=new u.OlP("CompositionEventMode");let Hs=(()=>{class n extends Yf{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Am(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Nm,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([Sm]),u.qOj]}),n})();function Gs(n){return null==n||0===n.length}function Ba(n){return null!=n&&"number"==typeof n.length}const Br=new u.OlP("NgValidators"),Ko=new u.OlP("NgAsyncValidators"),Jf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ei{static min(e){return function wc(n){return e=>{if(Gs(e.value)||Gs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Ud(n){return e=>{if(Gs(e.value)||Gs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function jd(n){return Gs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Hd(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function mo(n){return Gs(n.value)||Jf.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Qf(n){return e=>Gs(e.value)||!Ba(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Xf(n){return e=>Ba(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function ep(n){if(!n)return Dc;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Gs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Ec(e)}static composeAsync(e){return Wd(e)}}function Dc(n){return null}function Tc(n){return null!=n}function $s(n){const e=(0,u.QGY)(n)?(0,Wn.D)(n):n;return(0,u.CqO)(e),e}function _o(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Gd(n,e){return e.map(t=>t(n))}function np(n){return n.map(e=>function tp(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ec(n){if(!n)return null;const e=n.filter(Tc);return 0==e.length?null:function(t){return _o(Gd(t,e))}}function $d(n){return null!=n?Ec(np(n)):null}function Wd(n){if(!n)return null;const e=n.filter(Tc);return 0==e.length?null:function(t){return function La(...n){const e=(0,Vs.jO)(n),{args:t,keys:r}=wl(n),i=new sr.y(a=>{const{length:d}=t;if(!d)return void a.complete();const f=new Array(d);let _=d,w=d;for(let I=0;I<d;I++){let A=!1;(0,Hn.Xf)(t[I]).subscribe((0,Vn.x)(a,P=>{A||(A=!0,w--),f[I]=P},()=>_--,void 0,()=>{(!_||!A)&&(w||a.next(r?x(r,f):f),a.complete())}))}});return e?i.pipe(hi(e)):i}(Gd(t,e).map($s)).pipe((0,wt.U)(_o))}}function cu(n){return null!=n?Wd(np(n)):null}function rp(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ip(n){return n._rawValidators}function sp(n){return n._rawAsyncValidators}function op(n){return n?Array.isArray(n)?n:[n]:[]}function v(n,e){return Array.isArray(n)?n.includes(e):n===e}function g(n,e){const t=op(e);return op(n).forEach(i=>{v(t,i)||t.push(i)}),t}function m(n,e){return op(e).filter(t=>!v(n,t))}class D{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$d(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class N extends D{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class O extends D{get formDirective(){return null}get path(){return null}}class te{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let _t=(()=>{class n extends te{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(N,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),Bt=(()=>{class n extends te{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(O,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function qn(n,e){return[...e.path,n]}function Ic(n,e){Fm(n,e),e.valueAccessor.writeValue(n.value),function dT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&p0(n,e)})}(n,e),function FM(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function hT(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&p0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function f0(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),dp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Fm(n,e){const t=ip(n);null!==e.validator?n.setValidators(rp(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=sp(n);null!==e.asyncValidator?n.setAsyncValidators(rp(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Sc(e._rawValidators,i),Sc(e._rawAsyncValidators,i)}function dp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=ip(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=sp(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return Sc(e._rawValidators,r),Sc(e._rawAsyncValidators,r),t}function p0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Vr(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Vm(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Hs?t=a:function zd(n){return Object.getPrototypeOf(n.constructor)===Tl}(a)?r=a:i=a}),i||r||t||null}function Um(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ac="VALID",fp="INVALID",hu="PENDING",Zd="DISABLED";function Kd(n){return(gp(n)?n.validators:n)||null}function g0(n){return Array.isArray(n)?$d(n):n||null}function Hm(n,e){return(gp(e)?e.asyncValidators:n)||null}function pp(n){return Array.isArray(n)?cu(n):n||null}function gp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const m0=n=>n instanceof Va,Nc=n=>n instanceof Yd;function _0(n){return m0(n)?n.value:n.getRawValue()}function y0(n,e){const t=Nc(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function v0(n,e){Nc(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class Gm{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=g0(this._rawValidators),this._composedAsyncValidatorFn=pp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ac}get invalid(){return this.status===fp}get pending(){return this.status==hu}get disabled(){return this.status===Zd}get enabled(){return this.status!==Zd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=g0(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=pp(e)}addValidators(e){this.setValidators(g(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(g(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(m(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(m(e,this._rawAsyncValidators))}hasValidator(e){return v(this._rawValidators,e)}hasAsyncValidator(e){return v(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ac,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ac||this.status===hu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zd:Ac}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hu,this._hasOwnPendingAsyncValidator=!0;const t=$s(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function mT(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Nc(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof yT)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Zd:this.errors?fp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hu)?hu:this._anyControlsHaveStatus(fp)?fp:Ac}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Va extends Gm{constructor(e=null,t,r){super(Kd(t),Hm(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Um(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Um(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Yd extends Gm{constructor(e,t,r){super(Kd(t),Hm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){v0(this,e),Object.keys(e).forEach(r=>{y0(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=_0(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class yT extends Gm{constructor(e,t,r){super(Kd(t),Hm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){v0(this,e),e.forEach((r,i)=>{y0(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>_0(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const w0={provide:N,useExisting:(0,u.Gpc)(()=>ms)},wT=(()=>Promise.resolve(null))();let ms=(()=>{class n extends N{constructor(t,r,i,a,d){super(),this._changeDetectorRef=d,this.control=new Va,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Vm(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Vr(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ic(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){wT.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;wT.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?qn(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(O,9),u.Y36(Br,10),u.Y36(Ko,10),u.Y36(pi,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([w0]),u.qOj,u.TTD]}),n})(),Xd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),qm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const C0=new u.OlP("NgModelWithFormControlWarning"),I0={provide:O,useExisting:(0,u.Gpc)(()=>eh)};let eh=(()=>{class n extends O{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ic(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){cp(t.control||null,t,!1),Um(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function hp(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(cp(r||null,t),m0(i)&&(Ic(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function fT(n,e){Fm(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function qd(n,e){return dp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fm(this.form,this),this._oldForm&&dp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Br,10),u.Y36(Ko,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([I0]),u.qOj,u.TTD]}),n})();const TT={provide:N,useExisting:(0,u.Gpc)(()=>vp)};let vp=(()=>{class n extends N{constructor(t,r,i,a,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Vm(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Vr(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return qn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(O,13),u.Y36(Br,10),u.Y36(Ko,10),u.Y36(pi,10),u.Y36(C0,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([TT]),u.qOj,u.TTD]}),n})();const A0={provide:pi,useExisting:(0,u.Gpc)(()=>th),multi:!0};function bp(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let th=(()=>{class n extends Tl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=bp(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function N0(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([A0]),u.qOj]}),n})(),M0=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(bp(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(th,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const ET={provide:pi,useExisting:(0,u.Gpc)(()=>wp),multi:!0};function Qm(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let wp=(()=>{class n extends Tl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,d)=>{a._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const d=a;for(let f=0;f<d.length;f++){const w=this._getOptionValue(d[f].value);i.push(w)}}else{const d=r.options;for(let f=0;f<d.length;f++){const _=d[f];if(_.selected){const w=this._getOptionValue(_.value);i.push(w)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function x0(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([ET]),u.qOj]}),n})(),Xm=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Qm(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Qm(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(wp,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),i_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[qm]]}),n})(),U0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[i_]}),n})(),j0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:C0,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[i_]}),n})();Math,Math,Math;const eE=["*"],vb=["dialog"];function Ur(n){return"string"==typeof n}function jr(n){return null!=n}function wo(n){return(n||document.body).getBoundingClientRect()}const mu={animation:!0,transitionTimerDelayMs:5},xb=()=>{},{transitionTimerDelayMs:Rb}=mu,Gc=new Map,gi=(n,e,t,r)=>{let i=r.context||{};const a=Gc.get(e);if(a)switch(r.runningTransition){case"continue":return Yi.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Gc.delete(e)}const d=t(e,r.animation,i)||xb;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>d()),dt(void 0).pipe(function jc(n){return e=>new sr.y(t=>e.subscribe({next:d=>n.run(()=>t.next(d)),error:d=>n.run(()=>t.error(d)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new qt.x,_=new qt.x,w=f.pipe(function Zo(...n){return e=>Nn(e,dt(...n))}(!0));Gc.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:i});const I=function Hc(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const A=br(e,"transitionend").pipe(Mn(w),Rt(({target:L})=>L===e));(function yc(...n){return 1===(n=Ji(n)).length?(0,Hn.Xf)(n[0]):new sr.y(function fi(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Hn.Xf)(n[r]).subscribe((0,Vn.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))})(function iu(n=0,e,t=vl.P){let r=-1;return null!=e&&((0,fo.K)(e)?t=e:r=e),new sr.y(i=>{let a=function bl(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(I+Rb).pipe(Mn(w)),A,_).pipe(Mn(w)).subscribe(()=>{Gc.delete(e),n.run(()=>{d(),f.next(),f.complete()})})}),f.asObservable()};let mh=(()=>{class n{constructor(){this.animation=mu.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Xn]]}),n})(),Bb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Xn]]}),n})(),Vb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Hb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Xn]]}),n})(),Gb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var gr=(()=>{return(n=gr||(gr={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",gr;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const U_=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function j_(n){const e=Array.from(n.querySelectorAll(U_)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Xn,U0]]}),n})(),Xp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class zc{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let vw=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,En.q)(1)).subscribe(()=>{gi(this._zone,this._el.nativeElement,(t,r)=>{r&&wo(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return gi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(u.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class NC{close(e){}dismiss(e){}}class It{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new qt.x,this._dismissed=new qt.x,this._hidden=new qt.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,d)=>{this._resolve=a,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Mn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Mn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function jp(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():dt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Qt(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ch=(()=>{return(n=Ch||(Ch={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Ch;var n})();let MC=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new qt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new qt.x,this.hidden=new qt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ur(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,En.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},d=Qt(gi(this._zone,t,()=>t.classList.remove("show"),r),gi(this._zone,this._dialogEl.nativeElement,()=>{},r));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const t={animation:this.animation,runningTransition:"continue"};Qt(gi(this._zone,this._elRef.nativeElement,(a,d)=>{d&&wo(a),a.classList.add("show")},t),gi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{br(t,"keydown").pipe(Mn(this._closed$),Rt(i=>i.which===gr.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Ch.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;br(this._dialogEl.nativeElement,"mousedown").pipe(Mn(this._closed$),(0,Mr.b)(()=>r=!1),Dr(()=>br(t,"mouseup").pipe(Mn(this._closed$),(0,En.q)(1))),Rt(({target:i})=>t===i)).subscribe(()=>{r=!0}),br(t,"click").pipe(Mn(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Ch.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=j_(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&gi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(fe),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.Gf(vb,7),2&t){let i;u.iGM(i=u.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:eE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&t&&u.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),xC=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:d}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=d),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eg=(()=>{class n{constructor(t,r,i,a,d,f){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=d,this._ngZone=f,this._activeWindowCmptHasChanged=new qt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=br(e,"focusin").pipe(Mn(t),(0,wt.U)(a=>a.target));br(e,"keydown").pipe(Mn(t),Rt(a=>a.which===gr.Tab),lu(i)).subscribe(([a,d])=>{const[f,_]=j_(e);(d===f||d===e)&&a.shiftKey&&(_.focus(),a.preventDefault()),d===_&&!a.shiftKey&&(f.focus(),a.preventDefault())}),r&&br(e,"click").pipe(Mn(t),lu(i),(0,wt.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i,a){const d=a.container instanceof HTMLElement?a.container:jr(a.container)?this._document.querySelector(a.container):this._document.body,f=this._rendererFactory.createRenderer(null,null);if(!d)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const _=new NC,w=this._getContentRef(t,a.injector||r,i,_,a);let I=!1!==a.backdrop?this._attachBackdrop(t,d):void 0,A=this._attachWindowComponent(t,d,w),P=new It(A,w,I,a.beforeDismiss);return this._registerModalRef(P),this._registerWindowCmpt(A),P.hidden.pipe((0,En.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(f.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),_.close=L=>{P.close(L)},_.dismiss=L=>{P.dismiss(L)},this._applyWindowOptions(A.instance,a),1===this._modalRefs.length&&f.addClass(this._document.body,"modal-open"),I&&I.instance&&(this._applyBackdropOptions(I.instance,a),I.changeDetectorRef.detectChanges()),A.changeDetectorRef.detectChanges(),P}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let a=t.resolveComponentFactory(vw).create(this._injector);return this._applicationRef.attachView(a.hostView),r.appendChild(a.location.nativeElement),a}_attachWindowComponent(t,r,i){let d=t.resolveComponentFactory(MC).create(this._injector,i.nodes);return this._applicationRef.attachView(d.hostView),r.appendChild(d.location.nativeElement),d}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{jr(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{jr(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a,d){return i?i instanceof u.Rgc?this._createFromTemplateRef(i,a):Ur(i)?this._createFromString(i):this._createFromComponent(t,r,i,a,d):new zc([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(d){r.close(d)},dismiss(d){r.dismiss(d)}});return this._applicationRef.attachView(a),new zc([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new zc([[r]])}_createFromComponent(t,r,i,a,d){const f=t.resolveComponentFactory(i),_=u.zs3.create({providers:[{provide:NC,useValue:a}],parent:r}),w=f.create(_),I=w.location.nativeElement;return d.scrollable&&I.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new zc([[I]],w.hostView,w)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(fe),u.LFG(xC),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RC=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tg=(()=>{class n{constructor(t,r,i,a){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=a}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(eg),u.LFG(RC))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ih=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[tg]}),n})(),Zc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Xn]]}),n})(),Sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Xn]]}),n})(),VC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Xn]]}),n})(),Ah=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Xn]]}),n})(),ty=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Xn]]}),n})(),Mw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Xn]]}),n})(),xw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Xn]]}),n})(),Ow=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function Pw(){return 100}});let Fw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Xn]]}),n})(),ny=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const QC=[O_,Bb,Vb,Hb,Gb,q_,Xp,Ih,Zc,ny,Sw,VC,Ah,ty,Mw,xw,Ow,Fw];let XC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[QC,O_,Bb,Vb,Hb,Gb,q_,Xp,Ih,Zc,ny,Sw,VC,Ah,ty,Mw,xw,Ow,Fw]}),n})();function Kc(n,e){const t=(0,ci.m)(n)?n:()=>n,r=i=>i.error(t());return new sr.y(e?i=>e.schedule(r,0,i):r)}const Mh=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function og(n){return new sr.y(e=>{(0,Hn.Xf)(n()).subscribe(e)})}var Bw=k(727);function Vw(){return(0,Bn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Vn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class iy extends sr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Bn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bw.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Vn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bw.w0.EMPTY)}return e}refCount(){return Vw()(this)}}function eI(n,e,t,r,i){return(a,d)=>{let f=t,_=e,w=0;a.subscribe((0,Vn.x)(d,I=>{const A=w++;_=f?n(_,I,A):(f=!0,I),r&&d.next(_)},i&&(()=>{f&&d.next(_),d.complete()})))}}function Yc(n,e){return(0,Bn.e)(eI(n,e,arguments.length>=2,!0))}function Ya(n){return(0,Bn.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Vn.x)(t,void 0,void 0,d=>{a=(0,Hn.Xf)(n(d,Ya(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function ag(n){return n<=0?()=>Yi.E:(0,Bn.e)((e,t)=>{let r=[];e.subscribe((0,Vn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Uw(n=jw){return(0,Bn.e)((e,t)=>{let r=!1;e.subscribe((0,Vn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function jw(){return new Mh}function tI(n){return(0,Bn.e)((e,t)=>{let r=!1;e.subscribe((0,Vn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ia(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Rt((i,a)=>n(i,a,r)):C.y,(0,En.q)(1),t?tI(e):Uw(()=>new Mh))}class ts{constructor(e,t){this.id=e,this.url=t}}class vu extends ts{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xh extends ts{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iI extends ts{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hw extends ts{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sI extends ts{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oI extends ts{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aI extends ts{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lI extends ts{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gw extends ts{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sy{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lg{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ug{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rh{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uI{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $w{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oy{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Xt="primary";class cI{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ol(n){return new cI(n)}const Ww="ngNavigationCancelingError";function qw(n){const e=Error("NavigationCancelingError: "+n);return e[Ww]=!0,e}function hI(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const d=r[a],f=n[a];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function To(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!bu(n[i],e[i]))return!1;return!0}function bu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function fI(n){return Array.prototype.concat.apply([],n)}function ay(n){return n.length>0?n[n.length-1]:null}function mi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Eo(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Wn.D)(Promise.resolve(n)):dt(n)}const zw={exact:function uy(n,e,t){if(!kl(n.segments,e.segments)||!dg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!uy(n.children[r],e.children[r],t))return!1;return!0},subset:Yw},cg={exact:function Zw(n,e){return To(n,e)},subset:function Kw(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bu(n[t],e[t]))},ignored:()=>!0};function ly(n,e,t){return zw[t.paths](n.root,e.root,t.matrixParams)&&cg[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Yw(n,e,t){return Jw(n,e,e.segments,t)}function Jw(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!kl(i,t)||e.hasChildren()||!dg(i,t,r))}if(n.segments.length===t.length){if(!kl(n.segments,t)||!dg(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Yw(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(kl(n.segments,i)&&dg(n.segments,i,r)&&n.children[Xt])&&Jw(n.children[Xt],e,a,r)}}function dg(n,e,t){return e.every((r,i)=>cg[t](n[i].parameters,r.parameters))}class wu{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ol(this.queryParams)),this._queryParamMap}toString(){return Xw.serialize(this)}}class rn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,mi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ph(this)}}class Oh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ol(this.parameters)),this._parameterMap}toString(){return e1(this)}}function kl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class cy{}class dy{parse(e){const t=new pg(e);return new wu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Fh(e.root,!0)}`,r=function sa(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${hg(t)}=${hg(i)}`).join("&"):`${hg(t)}=${hg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function pI(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Xw=new dy;function Ph(n){return n.segments.map(e=>e1(e)).join("/")}function Fh(n,e){if(!n.hasChildren())return Ph(n);if(e){const t=n.children[Xt]?Fh(n.children[Xt],!1):"",r=[];return mi(n.children,(i,a)=>{a!==Xt&&r.push(`${a}:${Fh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Qw(n,e){let t=[];return mi(n.children,(r,i)=>{i===Xt&&(t=t.concat(e(r,i)))}),mi(n.children,(r,i)=>{i!==Xt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Xt?[Fh(n.children[Xt],!1)]:[`${i}:${Fh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Xt]?`${Ph(n)}/${t[0]}`:`${Ph(n)}/(${t.join("//")})`}}function hy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hg(n){return hy(n).replace(/%3B/gi,";")}function fy(n){return hy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fg(n){return decodeURIComponent(n)}function Qc(n){return fg(n.replace(/\+/g,"%20"))}function e1(n){return`${fy(n.path)}${function py(n){return Object.keys(n).map(e=>`;${fy(e)}=${fy(n[e])}`).join("")}(n.parameters)}`}const gI=/^[^\/()?;=#]+/;function Xc(n){const e=n.match(gI);return e?e[0]:""}const Lh=/^[^=?&#]+/,_I=/^[^&#]+/;class pg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Xt]=new rn(e,t)),r}parseSegment(){const e=Xc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Oh(fg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Xc(this.remaining);i&&(r=i,this.capture(r))}e[fg(t)]=fg(r)}parseQueryParam(e){const t=function mI(n){const e=n.match(Lh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function yI(n){const e=n.match(_I);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=Qc(t),a=Qc(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Xt);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[Xt]:new rn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Bh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=my(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return my(e,this._root).map(t=>t.value)}}function gy(n,e){if(n===e.value)return e;for(const t of e.children){const r=gy(n,t);if(r)return r}return null}function my(n,e){if(n===e.value)return[e];for(const t of e.children){const r=my(n,t);if(r.length)return r.unshift(e),r}return[]}class oa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Du(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class gg extends Bh{constructor(e,t){super(e),this.snapshot=t,Vh(this,e)}toString(){return this.snapshot.toString()}}function _y(n,e){const t=function vI(n,e){const d=new td([],{},{},"",{},Xt,e,null,n.root,-1,{});return new vy("",new oa(d,[]))}(n,e),r=new An([new Oh("",{})]),i=new An({}),a=new An({}),d=new An({}),f=new An(""),_=new ed(r,i,d,f,a,Xt,e,t.root);return _.snapshot=t.root,new gg(new oa(_,[]),t)}class ed{constructor(e,t,r,i,a,d,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(e=>Ol(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(e=>Ol(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function yy(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class td{constructor(e,t,r,i,a,d,f,_,w,I,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ol(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ol(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vy extends Bh{constructor(e,t){super(t),this.url=e,Vh(this,t)}toString(){return mg(this._root)}}function Vh(n,e){e.value._routerState=n,e.children.forEach(t=>Vh(n,t))}function mg(n){const e=n.children.length>0?` { ${n.children.map(mg).join(", ")} } `:"";return`${n.value}${e}`}function by(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,To(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),To(e.params,t.params)||n.params.next(t.params),function Jc(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!To(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),To(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wy(n,e){const t=To(n.params,e.params)&&function kh(n,e){return kl(n,e)&&n.every((t,r)=>To(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wy(n.parent,e.parent))}function Uh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function t1(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Uh(n,r,i);return Uh(n,r)})}(n,e,t);return new oa(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>Uh(n,f)),d}}const r=function Dy(n){return new ed(new An(n.url),new An(n.params),new An(n.queryParams),new An(n.fragment),new An(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Uh(n,a));return new oa(r,i)}}function jh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function nd(n){return"object"==typeof n&&null!=n&&n.outlets}function _g(n,e,t,r,i){let a={};if(r&&mi(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),n===e)return new wu(t,a,i);const d=r1(n,e,t);return new wu(d,a,i)}function r1(n,e,t){const r={};return mi(n.children,(i,a)=>{r[a]=i===e?t:r1(i,e,t)}),new rn(n.segments,r)}class Ty{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&jh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(nd);if(i&&i!==ay(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ey{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Tu(n,e,t){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return yg(n,e,t);const r=function DI(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const d=n.segments[i],f=t[r];if(nd(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!vg(_,w,d))return a;r+=2}else{if(!vg(_,{},d))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new rn(n.segments.slice(0,r.pathIndex),{});return a.children[Xt]=new rn(n.segments.slice(r.pathIndex),n.children),yg(a,0,i)}return r.match&&0===i.length?new rn(n.segments,{}):r.match&&!n.hasChildren()?a1(n,e,t):r.match?yg(n,0,i):a1(n,e,t)}function yg(n,e,t){if(0===t.length)return new rn(n.segments,{});{const r=function Ri(n){return nd(n[0])?n[0].outlets:{[Xt]:n}}(t),i={};return mi(r,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=Tu(n.children[d],e,a))}),mi(n.children,(a,d)=>{void 0===r[d]&&(i[d]=a)}),new rn(n.segments,i)}}function a1(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(nd(a)){const _=Hh(a.outlets);return new rn(r,_)}if(0===i&&jh(t[0])){r.push(new Oh(n.segments[e].path,l1(t[0]))),i++;continue}const d=nd(a)?a.outlets[Xt]:`${a}`,f=i<t.length-1?t[i+1]:null;d&&f&&jh(f)?(r.push(new Oh(d,l1(f))),i+=2):(r.push(new Oh(d,{})),i++)}return new rn(r,{})}function Hh(n){const e={};return mi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=a1(new rn([],{}),0,t))}),e}function l1(n){const e={};return mi(n,(t,r)=>e[r]=`${t}`),e}function vg(n,e,t){return n==t.path&&To(e,t.parameters)}class u1{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),by(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Du(t);e.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],r),delete i[d]}),mi(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Du(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Du(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Du(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new $w(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Rh(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(by(i),i===a)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),by(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=function EI(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=_,d.outlet&&d.outlet.activateWith(i,_),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Cy{constructor(e,t){this.routes=e,this.module=t}}function aa(n){return"function"==typeof n}function Pl(n){return n instanceof wu}const Gh=Symbol("INITIAL_VALUE");function rd(){return Dr(n=>function J(...n){const e=(0,Vs.yG)(n),t=(0,Vs.jO)(n),{args:r,keys:i}=wl(n);if(0===r.length)return(0,Wn.D)([],e);const a=new sr.y(function le(n,e,t=C.y){return r=>{Be(e,()=>{const{length:i}=n,a=new Array(i);let d=i,f=i;for(let _=0;_<i;_++)Be(e,()=>{const w=(0,Wn.D)(n[_],e);let I=!1;w.subscribe((0,Vn.x)(r,A=>{a[_]=A,I||(I=!0,f--),f||r.next(t(a.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>x(i,d):C.y));return t?a.pipe(hi(t)):a}(n.map(e=>e.pipe((0,En.q)(1),tr(Gh)))).pipe(Yc((e,t)=>{let r=!1;return t.reduce((i,a,d)=>i!==Gh?i:(a===Gh&&(r=!0),r||!1!==a&&d!==t.length-1&&!Pl(a)?i:a),e)},Gh),Rt(e=>e!==Gh),(0,wt.U)(e=>Pl(e)?e:!0===e),(0,En.q)(1)))}class wg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new id,this.attachRef=null}}class id{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new wg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Sy=(()=>{class n{constructor(t,r,i,a,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||Xt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new Ay(t,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(id),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Ay{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ed?this.route:e===id?this.childContexts:this.parent.get(e,t)}}let Dg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Sy],encapsulation:2}),n})();function CI(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];II(r,SI(e,r))}}function II(n,e){n.children&&CI(n.children,e)}function SI(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Tg(n){const e=n.children&&n.children.map(Tg),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Xt&&(t.component=Dg),t}function bs(n){return n.outlet||Xt}function h1(n,e){const t=n.filter(r=>bs(r)===e);return t.push(...n.filter(r=>bs(r)!==e)),t}const Ny={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $h(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Ny):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||hI)(t,n,e);if(!a)return Object.assign({},Ny);const d={};mi(a.posParams,(_,w)=>{d[w]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},d),a.consumed[a.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Eg(n,e,t,r,i="corrected"){if(t.length>0&&function NI(n,e,t){return t.some(r=>Wh(n,e,r)&&bs(r)!==Xt)}(n,t,r)){const d=new rn(e,function f1(n,e,t,r){const i={};i[Xt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&bs(a)!==Xt){const d=new rn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[bs(a)]=d}return i}(n,e,r,new rn(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function p1(n,e,t){return t.some(r=>Wh(n,e,r))}(n,t,r)){const d=new rn(n.segments,function AI(n,e,t,r,i,a){const d={};for(const f of r)if(Wh(n,t,f)&&!i[bs(f)]){const _=new rn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,d[bs(f)]=_}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const a=new rn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Wh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function My(n,e,t,r){return!!(bs(n)===r||r!==Xt&&Wh(e,t,n))&&("**"===n.path||$h(e,n,t).matched)}function xy(n,e,t){return 0===e.length&&!n.children[t]}class Cg{constructor(e){this.segmentGroup=e||null}}class g1{constructor(e){this.urlTree=e}}function Ig(n){return Kc(new Cg(n))}function Ry(n){return Kc(new g1(n))}class yR{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Eg(this.urlTree.root,[],[],this.config).segmentGroup,t=new rn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Xt).pipe((0,wt.U)(a=>this.createUrlTree(m1(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ya(a=>{if(a instanceof g1)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Cg?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Xt).pipe((0,wt.U)(i=>this.createUrlTree(m1(i),e.queryParams,e.fragment))).pipe(Ya(i=>{throw i instanceof Cg?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new rn([],{[Xt]:e}):e;return new wu(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,wt.U)(a=>new rn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Wn.D)(i).pipe(Zi(a=>{const d=r.children[a],f=h1(t,a);return this.expandSegmentGroup(e,f,d,a).pipe((0,wt.U)(_=>({segment:_,outlet:a})))}),Yc((a,d)=>(a[d.outlet]=d.segment,a),{}),function nI(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Rt((i,a)=>n(i,a,r)):C.y,ag(1),t?tI(e):Uw(()=>new Mh))}())}expandSegment(e,t,r,i,a,d){return(0,Wn.D)(r).pipe(Zi(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,d).pipe(Ya(w=>{if(w instanceof Cg)return dt(null);throw w}))),ia(f=>!!f),Ya((f,_)=>{if(f instanceof Mh||"EmptyError"===f.name)return xy(t,i,a)?dt(new rn([],{})):Ig(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,d,f){return My(i,t,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d):Ig(t):Ig(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ry(a):this.lineralizeSegments(r,a).pipe((0,Ln.z)(d=>{const f=new rn(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=$h(t,i,a);if(!f)return Ig(t);const A=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?Ry(A):this.lineralizeSegments(i,A).pipe((0,Ln.z)(P=>this.expandSegment(e,t,r,P.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?dt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,wt.U)(A=>(r._loadedConfig=A,new rn(i,{})))):dt(new rn(i,{}));const{matched:d,consumedSegments:f,remainingSegments:_}=$h(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,Ln.z)(I=>{const A=I.module,P=I.routes,{segmentGroup:L,slicedSegments:z}=Eg(t,f,_,P),ie=new rn(L.segments,L.children);if(0===z.length&&ie.hasChildren())return this.expandChildren(A,P,ie).pipe((0,wt.U)(Qe=>new rn(f,Qe)));if(0===P.length&&0===z.length)return dt(new rn(f,{}));const we=bs(r)===a;return this.expandSegment(A,ie,P,z,we?Xt:a,!0).pipe((0,wt.U)(qe=>new rn(f.concat(qe.segments),qe.children)))})):Ig(t)}getChildConfig(e,t,r){return t.children?dt(new Cy(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?dt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ln.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,wt.U)(a=>(t._loadedConfig=a,a))):function mR(n){return Kc(qw(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):dt(new Cy([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?dt(i.map(d=>{const f=e.get(d);let _;if(function bg(n){return n&&aa(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!aa(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return Eo(_)})).pipe(rd(),(0,Mr.b)(d=>{if(!Pl(d))return;const f=qw(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,wt.U)(d=>!0===d)):dt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return dt(r);if(i.numberOfChildren>1||!i.children[Xt])return Kc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Xt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new wu(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return mi(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let d={};return mi(t.children,(f,_)=>{d[_]=this.createSegmentGroup(e,f,r,i)}),new rn(a,d)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function m1(n){const e={};for(const r of Object.keys(n.children)){const a=m1(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function vR(n){if(1===n.numberOfChildren&&n.children[Xt]){const e=n.children[Xt];return new rn(n.segments.concat(e.segments),e.children)}return n}(new rn(n.segments,e))}class MI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Eu{constructor(e,t){this.component=e,this.route=t}}function wR(n,e,t){const r=n._root;return od(r,e?e._root:null,t,[r.value])}function sd(n,e,t){const r=function y1(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function od(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Du(e);return n.children.forEach(d=>{(function DR(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const _=function Oy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!kl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!kl(n.url,e.url)||!To(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wy(n,e)||!To(n.queryParams,e.queryParams);default:return!wy(n,e)}}(d,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new MI(r)):(a.data=d.data,a._resolvedData=d._resolvedData),od(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Eu(f.outlet.component,d))}else d&&ad(e,f,i),i.canActivateChecks.push(new MI(r)),od(n,null,a.component?f?f.children:null:t,r,i)})(d,a[d.value.outlet],t,r.concat([d.value]),i),delete a[d.value.outlet]}),mi(a,(d,f)=>ad(d,t.getContext(f),i)),i}function ad(n,e,t){const r=Du(n),i=n.value;mi(r,(a,d)=>{ad(a,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Eu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class CR{}function PI(n){return new sr.y(e=>e.error(n))}class LI{constructor(e,t,r,i,a,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d}recognize(){const e=Eg(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Xt);if(null===t)return null;const r=new td([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Xt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new oa(r,t),a=new vy(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=bI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const d=t.children[a],f=h1(e,a),_=this.processSegmentGroup(f,d,a);if(null===_)return null;r.push(..._)}const i=Sg(r);return function BI(n){n.sort((e,t)=>e.value.outlet===Xt?-1:t.value.outlet===Xt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const d=this.processSegmentAgainstRoute(a,t,r,i);if(null!==d)return d}return xy(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!My(e,t,r,i))return null;let a,d=[],f=[];if("**"===e.path){const L=r.length>0?ay(r).parameters:{};a=new td(r,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ag(e),bs(e),e.component,e,Ks(t),b1(t)+r.length,w1(e))}else{const L=$h(t,e,r);if(!L.matched)return null;d=L.consumedSegments,f=L.remainingSegments,a=new td(d,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ag(e),bs(e),e.component,e,Ks(t),b1(t)+d.length,w1(e))}const _=function IR(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:I}=Eg(t,d,f,_.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);if(0===I.length&&w.hasChildren()){const L=this.processChildren(_,w);return null===L?null:[new oa(a,L)]}if(0===_.length&&0===I.length)return[new oa(a,[])];const A=bs(e)===i,P=this.processSegment(_,w,I,A?Xt:i);return null===P?null:[new oa(a,P)]}}function VI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Sg(n){const e=[],t=new Set;for(const r of n){if(!VI(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Sg(r.children);e.push(new oa(r.value,i))}return e.filter(r=>!t.has(r))}function Ks(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function b1(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Ag(n){return n.data||{}}function w1(n){return n.resolve||{}}function E1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Fy(n){return Dr(e=>{const t=n(e);return t?(0,Wn.D)(t).pipe((0,wt.U)(()=>e)):dt(e)})}class Ly extends class HI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ja=new u.OlP("ROUTES");class By{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,wt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=a.create(e);return new Cy(fI(d.injector.get(Ja,void 0,u.XFs.Self|u.XFs.Optional)).map(Tg),d)}),Ya(a=>{throw t._loader$=void 0,a}));return t._loader$=new iy(i,()=>new qt.x).pipe(Vw()),t._loader$}loadModuleFactory(e){return Eo(e()).pipe((0,Ln.z)(t=>t instanceof u.YKP?dt(t):(0,Wn.D)(this.compiler.compileModuleAsync(t))))}}class GI{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function AR(n){throw n}function $I(n,e,t){return e.parse("/")}function S1(n,e){return dt(null)}const WI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},A1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zn=(()=>{class n{constructor(t,r,i,a,d,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qt.x,this.errorHandler=AR,this.malformedUriErrorHandler=$I,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:S1,afterPreactivation:S1},this.urlHandlingStrategy=new GI,this.routeReuseStrategy=new Ly,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const A=d.get(u.R0b);this.isNgZoneEnabled=A instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function fR(){return new wu(new rn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new By(d,f,P=>this.triggerEvent(new sy(P)),P=>this.triggerEvent(new lg(P))),this.routerState=_y(this.currentUrlTree,this.rootComponentType),this.transitions=new An({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Rt(i=>0!==i.id),(0,wt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Dr(i=>{let a=!1,d=!1;return dt(i).pipe((0,Mr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dr(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return zI(f.source)&&(this.browserUrlTree=f.extractedUrl),dt(f).pipe(Dr(A=>{const P=this.transitions.getValue();return r.next(new vu(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),P!==this.transitions.getValue()?Yi.E:Promise.resolve(A)}),function bR(n,e,t,r){return Dr(i=>function _R(n,e,t,r,i){return new yR(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,wt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Mr.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function UI(n,e,t,r,i){return(0,Ln.z)(a=>function FI(n,e,t,r,i="emptyOnly",a="legacy"){try{const d=new LI(n,e,t,r,i,a).recognize();return null===d?PI(new CR):dt(d)}catch(d){return PI(d)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,wt.U)(d=>Object.assign(Object.assign({},a),{targetSnapshot:d}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Mr.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(L,A)}this.browserUrlTree=A.urlAfterRedirects}const P=new sI(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(P)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:L,source:z,restoredState:ie,extras:we}=f,Ue=new vu(P,this.serializeUrl(L),z,ie);r.next(Ue);const qe=_y(L,this.rootComponentType).snapshot;return dt(Object.assign(Object.assign({},f),{targetSnapshot:qe,urlAfterRedirects:L,extras:Object.assign(Object.assign({},we),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Yi.E}),Fy(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:A,extras:{skipLocationChange:P,replaceUrl:L}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:A,skipLocationChange:!!P,replaceUrl:!!L})}),(0,Mr.b)(f=>{const _=new oI(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,wt.U)(f=>Object.assign(Object.assign({},f),{guards:wR(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function xI(n,e){return(0,Ln.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?dt(Object.assign(Object.assign({},t),{guardsResult:!0})):function v1(n,e,t,r){return(0,Wn.D)(n).pipe((0,Ln.z)(i=>function ER(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?dt(a.map(f=>{const _=sd(f,e,i);let w;if(function d1(n){return n&&aa(n.canDeactivate)}(_))w=Eo(_.canDeactivate(n,e,t,r));else{if(!aa(_))throw new Error("Invalid CanDeactivate guard");w=Eo(_(n,e,t,r))}return w.pipe(ia())})).pipe(rd()):dt(!0)}(i.component,i.route,t,e,r)),ia(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Ln.z)(f=>f&&function c1(n){return"boolean"==typeof n}(f)?function TR(n,e,t,r){return(0,Wn.D)(e).pipe(Zi(i=>Nn(function OI(n,e){return null!==n&&e&&e(new ug(n)),dt(!0)}(i.route.parent,r),function RI(n,e){return null!==n&&e&&e(new uI(n)),dt(!0)}(i.route,r),function kI(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(d=>function _1(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>og(()=>dt(d.guards.map(_=>{const w=sd(_,d.node,t);let I;if(function pR(n){return n&&aa(n.canActivateChild)}(w))I=Eo(w.canActivateChild(r,n));else{if(!aa(w))throw new Error("Invalid CanActivateChild guard");I=Eo(w(r,n))}return I.pipe(ia())})).pipe(rd())));return dt(a).pipe(rd())}(n,i.path,t),function ky(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return dt(!0);const i=r.map(a=>og(()=>{const d=sd(a,e,t);let f;if(function Iy(n){return n&&aa(n.canActivate)}(d))f=Eo(d.canActivate(e,n));else{if(!aa(d))throw new Error("Invalid CanActivate guard");f=Eo(d(e,n))}return f.pipe(ia())}));return dt(i).pipe(rd())}(n,i.route,t))),ia(i=>!0!==i,!0))}(r,a,n,e):dt(f)),(0,wt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Mr.b)(f=>{if(Pl(f.guardsResult)){const w=qw(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new aI(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Rt(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Fy(f=>{if(f.guards.canActivateChecks.length)return dt(f).pipe((0,Mr.b)(_=>{const w=new lI(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),Dr(_=>{let w=!1;return dt(_).pipe(function Py(n,e){return(0,Ln.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return dt(t);let a=0;return(0,Wn.D)(i).pipe(Zi(d=>function D1(n,e,t,r){return function T1(n,e,t,r){const i=E1(n);if(0===i.length)return dt({});const a={};return(0,Wn.D)(i).pipe((0,Ln.z)(d=>function C1(n,e,t,r){const i=sd(n,e,r);return Eo(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,Mr.b)(f=>{a[d]=f}))),ag(1),(0,Ln.z)(()=>E1(a).length===i.length?dt(a):Yi.E))}(n._resolve,n,e,r).pipe((0,wt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),bI(n,t).resolve),null)))}(d.route,r,n,e)),(0,Mr.b)(()=>a++),ag(1),(0,Ln.z)(d=>a===i.length?dt(t):Yi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Mr.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Mr.b)(_=>{const w=new Gw(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Fy(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:A,extras:{skipLocationChange:P,replaceUrl:L}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:A,skipLocationChange:!!P,replaceUrl:!!L})}),(0,wt.U)(f=>{const _=function wI(n,e,t){const r=Uh(n,e._root,t?t._root:void 0);return new gg(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,Mr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,wt.U)(r=>(new u1(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Mr.b)({next(){a=!0},complete(){a=!0}}),function rI(n){return(0,Bn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),Ya(f=>{if(d=!0,function dI(n){return n&&n[Ww]}(f)){const _=Pl(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const w=new iI(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(w),_?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zI(i.source)};this.scheduleNavigation(I,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Hw(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return Yi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const _=Object.assign({},d);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){CI(t),this.config=t.map(Tg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,w=i||this.routerState.root,I=_?this.currentUrlTree.fragment:d;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),function n1(n,e,t,r,i){if(0===t.length)return _g(e.root,e.root,e.root,r,i);const a=function i1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ty(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return mi(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Ty(t,e,r)}(t);if(a.toRoot())return _g(e.root,e.root,new rn([],{}),r,i);const d=function s1(n,e,t){if(n.isAbsolute)return new Ey(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new Ey(a,a===e.root,0)}const r=jh(n.commands[0])?0:1;return function o1(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ey(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=d.processChildren?yg(d.segmentGroup,d.index,a.commands):Tu(d.segmentGroup,d.index,a.commands);return _g(e.root,d.segmentGroup,f,r,i)}(w,this.currentUrlTree,t,A,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Pl(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function qI(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},WI):!1===r?Object.assign({},A1):r,Pl(t))return ly(this.currentUrlTree,t,i);const a=this.parseUrl(t);return ly(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new xh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,d){var f,_;if(this.disposed)return Promise.resolve(!1);let w,I,A;d?(w=d.resolve,I=d.reject,A=d.promise):A=new Promise((z,ie)=>{w=z,I=ie});const P=++this.navigationId;let L;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),L=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):L=0,this.setTransition({id:P,targetPageId:L,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:w,reject:I,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(z=>Promise.reject(z))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new iI(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function zI(n){return"imperative"!==n}let Cu=(()=>{class n{constructor(t,r,i,a,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=d,this.commands=null,this.onChanges=new qt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:ld(this.skipLocationChange),replaceUrl:ld(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ld(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zn),u.Y36(ed),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function ld(n){return""===n||!!n}class Mg{}class Uy{preload(e,t){return dt(null)}}let M1=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new By(i,r,_=>t.triggerEvent(new sy(_)),_=>t.triggerEvent(new lg(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Rt(t=>t instanceof xh),Zi(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const d=a._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,Wn.D)(i).pipe((0,Et.J)(),(0,wt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?dt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ln.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zn),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Mg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),xg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof oy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new oy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Iu=new u.OlP("ROUTER_CONFIGURATION"),x1=new u.OlP("ROUTER_FORROOT_GUARD"),NR=[xe,{provide:cy,useClass:dy},{provide:Zn,useFactory:function xR(n,e,t,r,i,a,d={},f,_){const w=new Zn(null,n,e,t,r,i,fI(a));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function RR(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,w),d.enableTracing&&w.events.subscribe(I=>{var A,P;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(P=console.groupEnd)||void 0===P||P.call(console)}),w},deps:[cy,id,xe,u.zs3,u.Sil,Ja,Iu,[class I1{},new u.FiY],[class jI{},new u.FiY]]},id,{provide:ed,useFactory:function OR(n){return n.routerState.root},deps:[Zn]},M1,Uy,class Vy{preload(e,t){return t().pipe(Ya(()=>dt(null)))}},{provide:Iu,useValue:{enableTracing:!1}}];function MR(){return new u.PXZ("Router",Zn)}let jy=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[NR,XI(t),{provide:x1,useFactory:QI,deps:[[Zn,new u.FiY,new u.tp0]]},{provide:Iu,useValue:r||{}},{provide:me,useFactory:JI,deps:[ce,[new u.tBr(Ze),new u.FiY],Iu]},{provide:xg,useFactory:YI,deps:[Zn,ll,Iu]},{provide:Mg,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Uy},{provide:u.PXZ,multi:!0,useFactory:MR},[R1,{provide:u.ip1,multi:!0,useFactory:eS,deps:[R1]},{provide:O1,useFactory:Rg,deps:[R1]},{provide:u.tb,multi:!0,useExisting:O1}]]}}static forChild(t){return{ngModule:n,providers:[XI(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x1,8),u.LFG(Zn,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function YI(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new xg(n,e,t)}function JI(n,e,t={}){return t.useHash?new Me(n,e):new ze(n,e)}function QI(n){return"guarded"}function XI(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Ja,multi:!0,useValue:n}]}let R1=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new qt.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(Zn),d=this.injector.get(Iu);return"disabled"===d.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?dt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Iu),i=this.injector.get(M1),a=this.injector.get(xg),d=this.injector.get(Zn),f=this.injector.get(u.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),a.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function eS(n){return n.appInitializer.bind(n)}function Rg(n){return n.bootstrapListener.bind(n)}const O1=new u.OlP("Router Initializer");let Su=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-go-to-desktop"]],decls:4,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"p"),u._uU(1,"Go to desktop "),u._UZ(2,"br"),u._uU(3,"please"),u.qZA())},styles:["[_nghost-%COMP%]{width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}"]}),n})();var Q=k(5861),Og=k(198),Ot=k(2090),ws=k(9681),la=k(1877),Au=k(4859),kg=k(6451),Hy=k(5363),kR=k(6063);class PR extends qt.x{constructor(e=1/0,t=1/0,r=kR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:d}=this;t||(r.push(e),!i&&r.push(a.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let d=0;d<a.length&&!e.closed;d+=r?1:2)e.next(a[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const d=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)f=_;f&&r.splice(0,f+1)}}}var FR=k(3099);function Gy(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,FR.B)({connector:()=>new PR(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function k1(n,e){return(0,ci.m)(e)?Dr(()=>n,e):Dr(()=>n)}var $y=k(9468),_i=k(5813),Co=k(2011);k(5867);const iS=new Map,HR={activated:!1,tokenObservers:[]},GR={initialized:!1,enabled:!1};function Hr(n){return iS.get(n)||HR}function ua(n,e){iS.set(n,e)}function zy(){return GR}class h{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Q.Z)(function*(){t.stop();try{t.pending=new Ot.BH,yield function p(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ot.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const b=new Ot.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function S(n){if(!Hr(n).activated)throw b.create("use-before-activation",{appName:n.name})}function X(n,e){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,Q.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:r};let d,f;try{d=yield fetch(n,a)}catch(A){throw b.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==d.status)throw b.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(A){throw b.create("fetch-parse-error",{originalErrorMessage:A.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw b.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+w,issuedAtTimeMillis:I}})).apply(this,arguments)}function ht(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const zt="firebase-app-check-store";let yi=null;function Fl(){return yi||(yi=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(b.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(zt,{keyPath:"compositeKey"})}}catch(t){e(b.create("storage-open",{originalErrorMessage:t.message}))}}),yi)}function zh(){return(zh=(0,Q.Z)(function*(n,e){const r=(yield Fl()).transaction(zt,"readwrite"),a=r.objectStore(zt).put({compositeKey:n,value:e});return new Promise((d,f)=>{a.onsuccess=_=>{d()},r.onerror=_=>{var w;f(b.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Qy=new la.Yd("@firebase/app-check");function WR(n,e){return(0,Ot.hl)()?function Ky(n,e){return function Fg(n,e){return zh.apply(this,arguments)}(function Bg(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Qy.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qR(){return zy().enabled}function zR(){return aS.apply(this,arguments)}function aS(){return(aS=(0,Q.Z)(function*(){const n=zy();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const aB={error:"UNKNOWN_ERROR"};function lB(n){return Ot.US.encodeString(JSON.stringify(n),!1)}function V1(n){return lS.apply(this,arguments)}function lS(){return(lS=(0,Q.Z)(function*(n,e=!1){const t=n.app;S(t);const r=Hr(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&U1(_)&&(i=_)}if(!e&&i&&U1(i))return{token:i.token};let f,d=!1;if(qR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=X(ht(t,yield zR()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0);const _=yield r.exchangeTokenPromise;return yield WR(t,_),ua(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Qy.warn(_.message):Qy.error(_),a=_}return i?(f={token:i.token},ua(t,Object.assign(Object.assign({},r),{token:i})),yield WR(t,i)):f=cB(a),d&&KR(t,f),f})).apply(this,arguments)}function cS(n,e){const t=Hr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ua(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function ZR(n){const{app:e}=n,t=Hr(e);let r=t.tokenRefresher;r||(r=function uB(n){const{app:e}=n;return new h((0,Q.Z)(function*(){let r;if(r=Hr(e).token?yield V1(n,!0):yield V1(n),r.error)throw r.error}),()=>!0,()=>{const t=Hr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ua(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function KR(n,e){const t=Hr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function U1(n){return n.expireTimeMillis-Date.now()>0}function cB(n){return{token:lB(aB),error:n}}class dB{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hr(this.app);for(const t of e)cS(this.app,t.next);return Promise.resolve()}}const rO="app-check-internal";!function CB(){(0,ws._registerComponent)(new Au.wA("app-check",n=>function hB(n,e){return new dB(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(rO).initialize()})),(0,ws._registerComponent)(new Au.wA(rO,n=>function fB(n){return{getToken:e=>V1(n,e),addTokenListener:e=>function uS(n,e,t,r){const{app:i}=n,a=Hr(i),d={next:t,error:r,type:e};if(ua(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&U1(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),ZR(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>ZR(n))}(n,"INTERNAL",e),removeTokenListener:e=>cS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ws.registerVersion)("@firebase/app-check","0.5.8")}();class pS{constructor(){return(0,_i.vb)("app-check")}}"undefined"!=typeof window&&window,k(127);const sO=new u.OlP("angularfire2.auth.use-emulator"),oO=new u.OlP("angularfire2.auth.settings"),aO=new u.OlP("angularfire2.auth.tenant-id"),lO=new u.OlP("angularfire2.auth.langugage-code"),uO=new u.OlP("angularfire2.auth.use-device-language"),cO=new u.OlP("angularfire.auth.persistence"),dO=(n,e,t,r,i,a,d,f)=>(0,Co.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),d)for(const[w,I]of Object.entries(d))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,r,i,a,d,f]);let mS=(()=>{class n{constructor(t,r,i,a,d,f,_,w,I,A,P,L){const z=new qt.x,ie=dt(void 0).pipe((0,Hy.Q)(d.outsideAngular),Dr(()=>a.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,wt.U)(()=>(0,Co.on)(t,a,r)),(0,wt.U)(we=>dO(we,a,f,w,I,A,_,P)),Gy({bufferSize:1,refCount:!1}));if(Nr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dt(null);else{ie.pipe(ia()).subscribe();const Ue=ie.pipe(Dr(je=>je.getRedirectResult().then(rt=>rt,()=>null)),_i.iC,Gy({bufferSize:1,refCount:!1})),qe=ie.pipe(Dr(je=>new sr.y(rt=>({unsubscribe:a.runOutsideAngular(()=>je.onAuthStateChanged(ut=>rt.next(ut),ut=>rt.error(ut),()=>rt.complete()))})))),Qe=ie.pipe(Dr(je=>new sr.y(rt=>({unsubscribe:a.runOutsideAngular(()=>je.onIdTokenChanged(ut=>rt.next(ut),ut=>rt.error(ut),()=>rt.complete()))}))));this.authState=Ue.pipe(k1(qe),(0,$y.R)(d.outsideAngular),(0,Hy.Q)(d.insideAngular)),this.user=Ue.pipe(k1(Qe),(0,$y.R)(d.outsideAngular),(0,Hy.Q)(d.insideAngular)),this.idToken=this.user.pipe(Dr(je=>je?(0,Wn.D)(je.getIdToken()):dt(null))),this.idTokenResult=this.user.pipe(Dr(je=>je?(0,Wn.D)(je.getIdTokenResult()):dt(null))),this.credential=(0,kg.T)(Ue,z,this.authState.pipe(Rt(je=>!je))).pipe((0,wt.U)(je=>(null==je?void 0:je.user)?je:null),(0,$y.R)(d.outsideAngular),(0,Hy.Q)(d.insideAngular))}return(0,Co.pX)(this,ie,a,{spy:{apply:(we,Ue,qe)=>{(we.startsWith("signIn")||we.startsWith("createUser"))&&qe.then(Qe=>z.next(Qe))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Co.Dh),u.LFG(Co.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(_i.HU),u.LFG(sO,8),u.LFG(oO,8),u.LFG(aO,8),u.LFG(lO,8),u.LFG(uO,8),u.LFG(cO,8),u.LFG(pS,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function _S(){return(0,Bn.e)((n,e)=>{let t,r=!1;n.subscribe((0,Vn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}k(5881);var ft,xB=k(3942),RB="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Nu={},yS=yS||{},Vt=RB||self;function H1(){}function vS(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xy(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var bS="closure_uid_"+(1e9*Math.random()>>>0),kB=0;function PB(n,e,t){return n.call.apply(n.bind,arguments)}function FB(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Oi(n,e,t){return(Oi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?PB:FB).apply(null,arguments)}function G1(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ki(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function ud(){this.s=this.s,this.o=this.o}var BB={};ud.prototype.s=!1,ud.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function OB(n){return Object.prototype.hasOwnProperty.call(n,bS)&&n[bS]||(n[bS]=++kB)}(this);delete BB[n]}},ud.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},fO=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function pO(n){return Array.prototype.concat.apply([],arguments)}function wS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function $1(n){return/^[\s\xa0]*$/.test(n)}var Ts,gO=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ds(n,e){return-1!=n.indexOf(e)}function DS(n,e){return n<e?-1:n>e?1:0}e:{var mO=Vt.navigator;if(mO){var _O=mO.userAgent;if(_O){Ts=_O;break e}}Ts=""}function TS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function yO(n){const e={};for(const t in n)e[t]=n[t];return e}var vO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<vO.length;a++)t=vO[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ES(n){return ES[" "](n),n}ES[" "]=H1;var W1,n,jB=Ds(Ts,"Opera"),Vg=Ds(Ts,"Trident")||Ds(Ts,"MSIE"),wO=Ds(Ts,"Edge"),CS=wO||Vg,DO=Ds(Ts,"Gecko")&&!(Ds(Ts.toLowerCase(),"webkit")&&!Ds(Ts,"Edge"))&&!(Ds(Ts,"Trident")||Ds(Ts,"MSIE"))&&!Ds(Ts,"Edge"),HB=Ds(Ts.toLowerCase(),"webkit")&&!Ds(Ts,"Edge");function TO(){var n=Vt.document;return n?n.documentMode:void 0}e:{var IS="",SS=(n=Ts,DO?/rv:([^\);]+)(\)|;)/.exec(n):wO?/Edge\/([\d\.]+)/.exec(n):Vg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):HB?/WebKit\/(\S+)/.exec(n):jB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(SS&&(IS=SS?SS[1]:""),Vg){var AS=TO();if(null!=AS&&AS>parseFloat(IS)){W1=String(AS);break e}}W1=IS}var GB={};var WB=Vt.document&&Vg&&(TO()||parseInt(W1,10))||void 0,qB=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",H1,e),Vt.removeEventListener("test",H1,e)}catch(t){}return n}();function ns(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ev(n,e){if(ns.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(DO){e:{try{ES(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ev.Z.h.call(this)}}ns.prototype.h=function(){this.defaultPrevented=!0},ki(ev,ns);var zB={2:"touch",3:"pen",4:"mouse"};ev.prototype.h=function(){ev.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var tv="closure_listenable_"+(1e6*Math.random()|0),ZB=0;function KB(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++ZB,this.ca=this.fa=!1}function q1(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function z1(n){this.src=n,this.g={},this.h=0}function MS(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=hO(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(q1(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function xS(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}z1.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=xS(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new KB(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var RS="closure_lm_"+(1e6*Math.random()|0),OS={};function CO(n,e,t,r,i){if(r&&r.once)return SO(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)CO(n,e[a],t,r,i);return null}return t=LS(t),n&&n[tv]?n.N(e,t,Xy(r)?!!r.capture:!!r,i):IO(n,e,t,!1,r,i)}function IO(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var d=Xy(i)?!!i.capture:!!i,f=PS(n);if(f||(n[RS]=f=new z1(n)),(t=f.add(e,t,r,d,a)).proxy)return t;if(r=function YB(){var e=JB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)qB||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(NO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function SO(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)SO(n,e[a],t,r,i);return null}return t=LS(t),n&&n[tv]?n.O(e,t,Xy(r)?!!r.capture:!!r,i):IO(n,e,t,!0,r,i)}function AO(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)AO(n,e[a],t,r,i);else r=Xy(r)?!!r.capture:!!r,t=LS(t),n&&n[tv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=xS(a=n.g[e],t,r,i))&&(q1(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=PS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=xS(e,t,r,i)),(t=-1<n?e[n]:null)&&kS(t))}function kS(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[tv])MS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(NO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=PS(e))?(MS(t,n),0==t.h&&(t.src=null,e[RS]=null)):q1(n)}}}function NO(n){return n in OS?OS[n]:OS[n]="on"+n}function JB(n,e){if(n.ca)n=!0;else{e=new ev(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&kS(n),n=t.call(r,e)}return n}function PS(n){return(n=n[RS])instanceof z1?n:null}var FS="__closure_events_fn_"+(1e9*Math.random()>>>0);function LS(n){return"function"==typeof n?n:(n[FS]||(n[FS]=function(e){return n.handleEvent(e)}),n[FS])}function vi(){ud.call(this),this.i=new z1(this),this.P=this,this.I=null}function Pi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ns(e,n);else if(e instanceof ns)e.target=e.target||n;else{var i=e;bO(e=new ns(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];i=Z1(d,r,!0,e)&&i}if(i=Z1(d=e.g=n,r,!0,e)&&i,i=Z1(d,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Z1(d=e.g=t[a],r,!1,e)&&i}function Z1(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.ca&&d.capture==t){var f=d.listener,_=d.ia||d.src;d.fa&&MS(n.i,d),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}ki(vi,ud),vi.prototype[tv]=!0,vi.prototype.removeEventListener=function(n,e,t,r){AO(this,n,e,t,r)},vi.prototype.M=function(){if(vi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)q1(t[r]);delete n.g[e],n.h--}}this.I=null},vi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},vi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var BS=Vt.JSON.stringify;function QB(){var n=xO;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var US,MO=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new eV,n=>n.reset());class eV{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tV(n){Vt.setTimeout(()=>{throw n},0)}function VS(n,e){US||function nV(){var n=Vt.Promise.resolve(void 0);US=function(){n.then(rV)}}(),jS||(US(),jS=!0),xO.add(n,e)}var jS=!1,xO=new class XB{constructor(){this.h=this.g=null}add(e,t){const r=MO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function rV(){for(var n;n=QB();){try{n.h.call(n.g)}catch(t){tV(t)}var e=MO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}jS=!1}function K1(n,e){vi.call(this),this.h=n||1,this.g=e||Vt,this.j=Oi(this.kb,this),this.l=Date.now()}function HS(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function GS(n,e,t){if("function"==typeof n)t&&(n=Oi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Oi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function RO(n){n.g=GS(()=>{n.g=null,n.i&&(n.i=!1,RO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ki(K1,vi),(ft=K1.prototype).da=!1,ft.S=null,ft.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pi(this,"tick"),this.da&&(HS(this),this.start()))}},ft.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.M=function(){K1.Z.M.call(this),HS(this),delete this.g};class iV extends ud{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RO(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nv(n){ud.call(this),this.h=n,this.g={}}ki(nv,ud);var OO=[];function kO(n,e,t,r){Array.isArray(t)||(t&&(OO[0]=t.toString()),t=OO);for(var i=0;i<t.length;i++){var a=CO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function PO(n){TS(n.g,function(e,t){this.g.hasOwnProperty(t)&&kS(e)},n),n.g={}}function Y1(){this.g=!0}function Ug(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function lV(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return BS(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}nv.prototype.M=function(){nv.Z.M.call(this),PO(this)},nv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Y1.prototype.Aa=function(){this.g=!1},Y1.prototype.info=function(){};var Kh={},FO=null;function J1(){return FO=FO||new vi}function LO(n){ns.call(this,Kh.Ma,n)}function rv(n){const e=J1();Pi(e,new LO(e,n))}function BO(n,e){ns.call(this,Kh.STAT_EVENT,n),this.stat=e}function Es(n){const e=J1();Pi(e,new BO(e,n))}function VO(n,e){ns.call(this,Kh.Na,n),this.size=e}function iv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}Kh.Ma="serverreachability",ki(LO,ns),Kh.STAT_EVENT="statevent",ki(BO,ns),Kh.Na="timingevent",ki(VO,ns);var Q1={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},UO={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $S(){}function HO(){}$S.prototype.h=null;var zS,sv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function WS(){ns.call(this,"d")}function qS(){ns.call(this,"c")}function X1(){}function ov(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new nv(this),this.P=uV,this.W=new K1(n=CS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new GO}function GO(){this.i=null,this.g="",this.h=!1}ki(WS,ns),ki(qS,ns),ki(X1,$S),X1.prototype.g=function(){return new XMLHttpRequest},X1.prototype.i=function(){return{}},zS=new X1;var uV=45e3,ZS={},eD={};function KS(n,e,t){n.K=1,n.v=sD(Mu(e)),n.s=t,n.U=!0,$O(n,null)}function $O(n,e){n.F=Date.now(),av(n),n.A=Mu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),XO(t.h,"t",r),n.C=0,t=n.l.H,n.h=new GO,n.g=Dk(n.l,t?e:null,!n.s),0<n.O&&(n.L=new iV(Oi(n.Ia,n,n.g),n.O)),kO(n.V,n.g,"readystatechange",n.gb),e=n.H?yO(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),rv(1),function sV(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var d="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var A=I.split("_");d=2<=A.length&&"type"==A[1]?d+(I+"=")+w+"&":d+(I+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function WO(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function qO(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=cV(n,t),i==eD){4==e&&(n.o=4,Es(14),r=!1),Ug(n.j,n.m,null,"[Incomplete Response]");break}if(i==ZS){n.o=4,Es(15),Ug(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ug(n.j,n.m,i,null),YS(n,i)}WO(n)&&i!=eD&&i!=ZS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Es(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),aA(e),e.L=!0,Es(11))):(Ug(n.j,n.m,t,"[Invalid Chunked Response]"),Yh(n),lv(n))}function cV(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?eD:(t=Number(e.substring(t,r)),isNaN(t)?ZS:(r+=1)+t>e.length?eD:(e=e.substr(r,t),n.C=r+t,e))}function av(n){n.Y=Date.now()+n.P,zO(n,n.P)}function zO(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=iv(Oi(n.eb,n),e)}function tD(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function lv(n){0==n.l.G||n.I||yk(n.l,n)}function Yh(n){tD(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,HS(n.W),PO(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function YS(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||XS(t.i,n)))if(t.I=n.N,!n.J&&XS(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=iv(Oi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;dD(t),uD(t)}oA(t),Es(18)}if(1>=nk(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else Xh(t,11)}else if((n.J||t.g==n)&&dD(t),!$1(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const I=w[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const A=w[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const P=w[5];null!=P&&"number"==typeof P&&0<P&&(t.K=r=1.5*P,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const L=n.g;if(L){const z=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var a=r.i;!a.g&&(Ds(z,"spdy")||Ds(z,"quic")||Ds(z,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(eA(a,a.h),a.h=null))}if(r.D){const ie=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(r.sa=ie,ar(r.F,r.D,ie))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=wk(r,r.H?r.la:null,r.W),d.J){rk(r.i,d);var f=d,_=r.K;_&&f.setTimeout(_),f.B&&(tD(f),av(f)),r.g=d}else mk(r);0<t.l.length&&cD(t)}else"stop"!=w[0]&&"close"!=w[0]||Xh(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Xh(t,7):iA(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}rv(4)}catch(w){}}function JS(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vS(n)||"string"==typeof n)fO(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(vS(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function dV(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(vS(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function jg(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof jg)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function QS(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Jh(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Jh(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Jh(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ft=ov.prototype).setTimeout=function(n){this.P=n},ft.gb=function(n){n=n.target;const e=this.L;e&&3==xu(n)?e.l():this.Ia(n)},ft.Ia=function(n){try{if(n==this.g)e:{const I=xu(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>I)&&(3!=I||CS||this.g&&(this.h.h||this.g.ga()||dk(this.g)))){this.I||4!=I||7==e||rv(8==e||0>=A?3:2),tD(this);var t=this.g.ba();this.N=t;t:if(WO(this)){var r=dk(this.g);n="";var i=r.length,a=4==xu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Yh(this),lv(this);var d="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function oV(n,e,t,r,i,a,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$1(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Es(12),Yh(this),lv(this);break e}Ug(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,YS(this,t)}this.U?(qO(this,I,d),CS&&this.i&&3==I&&(kO(this.V,this.W,"tick",this.fb),this.W.start())):(Ug(this.j,this.m,d,null),YS(this,d)),4==I&&Yh(this),this.i&&!this.I&&(4==I?yk(this.l,this):(this.i=!1,av(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Es(12)):(this.o=0,Es(13)),Yh(this),lv(this)}}}catch(I){}},ft.fb=function(){if(this.g){var n=xu(this.g),e=this.g.ga();this.C<e.length&&(tD(this),qO(this,n,e),this.i&&4!=n&&av(this))}},ft.cancel=function(){this.I=!0,Yh(this)},ft.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function aV(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(rv(3),Es(17)),Yh(this),this.o=2,lv(this)):zO(this,this.Y-n)},(ft=jg.prototype).R=function(){QS(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ft.T=function(){return QS(this),this.g.concat()},ft.get=function(n,e){return Jh(this.h,n)?this.h[n]:e},ft.set=function(n,e){Jh(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ft.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var ZO=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qh(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Qh){this.g=void 0!==e?e:n.g,nD(this,n.j),this.s=n.s,rD(this,n.i),iD(this,n.m),this.l=n.l,e=n.h;var t=new dv;t.i=e.i,e.g&&(t.g=new jg(e.g),t.h=e.h),KO(this,t),this.o=n.o}else n&&(t=String(n).match(ZO))?(this.g=!!e,nD(this,t[1]||"",!0),this.s=uv(t[2]||""),rD(this,t[3]||"",!0),iD(this,t[4]),this.l=uv(t[5]||"",!0),KO(this,t[6]||"",!0),this.o=uv(t[7]||"")):(this.g=!!e,this.h=new dv(null,this.g))}function Mu(n){return new Qh(n)}function nD(n,e,t){n.j=t?uv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function rD(n,e,t){n.i=t?uv(e,!0):e}function iD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function KO(n,e,t){e instanceof dv?(n.h=e,function bV(n,e){e&&!n.j&&(cd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(JO(this,r),XO(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=cv(e,yV)),n.h=new dv(e,n.g))}function ar(n,e,t){n.h.set(e,t)}function sD(n){return ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function uv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function cv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gV),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gV(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(cv(e,YO,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(cv(e,YO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(cv(t,"/"==t.charAt(0)?_V:mV,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",cv(t,vV)),n.join("")};var YO=/[#\/\?@]/g,mV=/[#\?:]/g,_V=/[#\?]/g,yV=/[#\?@]/g,vV=/#/g;function dv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function cd(n){n.g||(n.g=new jg,n.h=0,n.i&&function hV(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function JO(n,e){cd(n),e=Hg(n,e),Jh(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Jh((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&QS(n)))}function QO(n,e){return cd(n),e=Hg(n,e),Jh(n.g.h,e)}function XO(n,e,t){JO(n,e),0<t.length&&(n.i=null,n.g.set(Hg(n,e),wS(t)),n.h+=t.length)}function Hg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ek(n){this.l=n||DV,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ea&&Vt.g.Ea()&&Vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=dv.prototype).add=function(n,e){cd(this),this.i=null,n=Hg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ft.forEach=function(n,e){cd(this),this.g.forEach(function(t,r){fO(t,function(i){n.call(e,i,r,this)},this)},this)},ft.T=function(){cd(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},ft.R=function(n){cd(this);var e=[];if("string"==typeof n)QO(this,n)&&(e=pO(e,this.g.get(Hg(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=pO(e,n[t])}return e},ft.set=function(n,e){return cd(this),this.i=null,QO(this,n=Hg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ft.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var d=i;""!==r[a]&&(d+="="+encodeURIComponent(String(r[a]))),n.push(d)}}return this.i=n.join("&")};var DV=10;function tk(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nk(n){return n.h?1:n.g?n.g.size:0}function XS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function eA(n,e){n.g?n.g.add(e):n.h=e}function rk(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ik(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return wS(n.i)}function tA(){}function TV(){this.g=new tA}function EV(n,e,t){const r=t||"";try{JS(n,function(i,a){let d=i;Xy(i)&&(d=BS(i)),e.push(r+a+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function oD(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function hv(n){this.l=n.$b||null,this.j=n.ib||!1}function aD(n,e){vi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=nA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ek.prototype.cancel=function(){if(this.i=ik(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},tA.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},tA.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},ki(hv,$S),hv.prototype.g=function(){return new aD(this.l,this.j)},hv.prototype.i=function(n){return function(){return n}}({}),ki(aD,vi);var nA=0;function sk(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function fv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pv(n)}function pv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=aD.prototype).open=function(n,e){if(this.readyState!=nA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,pv(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fv(this)),this.readyState=nA},ft.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pv(this)),this.g&&(this.readyState=3,pv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sk(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ft.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?fv(this):pv(this),3==this.readyState&&sk(this)}},ft.Ua=function(n){this.g&&(this.response=this.responseText=n,fv(this))},ft.Ta=function(n){this.g&&(this.response=n,fv(this))},ft.ha=function(){this.g&&fv(this)},ft.setRequestHeader=function(n,e){this.v.append(n,e)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(aD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var IV=Vt.JSON.parse;function Gr(n){vi.call(this),this.headers=new jg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ok,this.K=this.L=!1}ki(Gr,vi);var ok="",SV=/^https?$/i,AV=["POST","PUT"];function MV(n){return"content-type"==n.toLowerCase()}function ak(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,lk(n),lD(n)}function lk(n){n.D||(n.D=!0,Pi(n,"complete"),Pi(n,"error"))}function uk(n){if(n.h&&void 0!==yS&&(!n.C[1]||4!=xu(n)||2!=n.ba()))if(n.v&&4==xu(n))GS(n.Fa,0,n);else if(Pi(n,"readystatechange"),4==xu(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(ZO)[1]||null;if(!i&&Vt.self&&Vt.self.location){var a=Vt.self.location.protocol;i=a.substr(0,a.length-1)}r=!SV.test(i?i.toLowerCase():"")}t=r}if(t)Pi(n,"complete"),Pi(n,"success");else{n.m=6;try{var d=2<xu(n)?n.g.statusText:""}catch(_){d=""}n.j=d+" ["+n.ba()+"]",lk(n)}}finally{lD(n)}}}function lD(n,e){if(n.g){ck(n);const t=n.g,r=n.C[0]?H1:null;n.g=null,n.C=null,e||Pi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function ck(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function xu(n){return n.g?n.g.readyState:0}function dk(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ok:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function rA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function xV(n){let e="";return TS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ar(n,e,t))}function gv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function hk(n){this.za=0,this.l=[],this.h=new Y1,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gv("baseRetryDelayMs",5e3,n),this.$a=gv("retryDelaySeedMs",1e4,n),this.Ya=gv("forwardChannelMaxRetries",2,n),this.ra=gv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ek(n&&n.concurrentRequestLimit),this.Ca=new TV,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function iA(n){if(fk(n),3==n.G){var e=n.V++,t=Mu(n.F);ar(t,"SID",n.J),ar(t,"RID",e),ar(t,"TYPE","terminate"),mv(n,t),(e=new ov(n,n.h,e,void 0)).K=2,e.v=sD(Mu(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(t=Vt.navigator.sendBeacon(e.v.toString(),"")),!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Dk(e.l,null),e.g.ea(e.v)),e.F=Date.now(),av(e)}bk(n)}function uD(n){n.g&&(aA(n),n.g.cancel(),n.g=null)}function fk(n){uD(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),dD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function sA(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&cD(n)}function cD(n){tk(n.i)||n.m||(n.m=!0,VS(n.Ha,n),n.C=0)}function pk(n,e){var t;t=e?e.m:n.V++;const r=Mu(n.F);ar(r,"SID",n.J),ar(r,"RID",t),ar(r,"AID",n.U),mv(n,r),n.o&&n.s&&rA(r,n.o,n.s),t=new ov(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=gk(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),eA(n.i,t),KS(t,r,e)}function mv(n,e){n.j&&JS({},function(t,r){ar(e,r,t)})}function gk(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Oi(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const I=i[_].g;if(w-=a,0>w)a=Math.max(0,i[_].h-100),f=!1;else try{EV(I,d,"req"+w+"_")}catch(A){r&&r(I)}}if(f){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function mk(n){n.g||n.u||(n.Y=1,VS(n.Ga,n),n.A=0)}function oA(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=iv(Oi(n.Ga,n),vk(n,n.A)),n.A++,0))}function aA(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function _k(n){n.g=new ov(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Mu(n.oa);ar(e,"RID","rpc"),ar(e,"SID",n.J),ar(e,"CI",n.N?"0":"1"),ar(e,"AID",n.U),mv(n,e),ar(e,"TYPE","xmlhttp"),n.o&&n.s&&rA(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=sD(Mu(e)),t.s=null,t.U=!0,$O(t,n)}function dD(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function yk(n,e){var t=null;if(n.g==e){dD(n),aA(n),n.g=null;var r=2}else{if(!XS(n.i,e))return;t=e.D,rk(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Pi(r=J1(),new VO(r,t,e,i)),cD(n)}else mk(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function RV(n,e){return!(nk(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=iv(Oi(n.Ha,n,e),vk(n,n.C)),n.C++,0)))}(n,e)||2==r&&oA(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Xh(n,5);break;case 4:Xh(n,10);break;case 3:Xh(n,6);break;default:Xh(n,2)}}function vk(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Xh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Oi(n.jb,n);t||(t=new Qh("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||nD(t,"https"),sD(t)),function CV(n,e){const t=new Y1;if(Vt.Image){const r=new Image;r.onload=G1(oD,t,r,"TestLoadImage: loaded",!0,e),r.onerror=G1(oD,t,r,"TestLoadImage: error",!1,e),r.onabort=G1(oD,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=G1(oD,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Es(2);n.G=0,n.j&&n.j.va(e),bk(n),fk(n)}function bk(n){n.G=0,n.I=-1,n.j&&((0!=ik(n.i).length||0!=n.l.length)&&(n.i.i.length=0,wS(n.l),n.l.length=0),n.j.ua())}function wk(n,e,t){let r=function fV(n){return n instanceof Qh?Mu(n):new Qh(n,void 0)}(t);if(""!=r.i)e&&rD(r,e+"."+r.i),iD(r,r.m);else{const i=Vt.location;r=function pV(n,e,t,r){var i=new Qh(null,void 0);return n&&nD(i,n),e&&rD(i,e),t&&iD(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&TS(n.aa,function(i,a){ar(r,a,i)}),t=n.sa,(e=n.D)&&t&&ar(r,e,t),ar(r,"VER",n.ma),mv(n,r),r}function Dk(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gr(t&&n.Ba&&!n.qa?new hv({ib:!0}):n.qa)).L=n.H,e}function Tk(){}function hD(){if(Vg&&!(10<=Number(WB)))throw Error("Environmental error: no available transport.")}function Io(n,e){vi.call(this),this.g=new hk(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!$1(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$1(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Gg(this)}function Ek(n){WS.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ck(){qS.call(this),this.status=1}function Gg(n){this.g=n}(ft=Gr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zS.g(),this.C=function jO(n){return n.h||(n.h=n.i())}(this.u?this.u:zS),this.g.onreadystatechange=Oi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void ak(this,a)}n=t||"";const i=new jg(this.headers);r&&JS(r,function(a,d){i.set(d,a)}),r=function VB(n){e:{var e=MV;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Vt.FormData&&n instanceof Vt.FormData,!(0<=hO(AV,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,d){this.g.setRequestHeader(d,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ck(this),0<this.B&&((this.K=function NV(n){return Vg&&function $B(){return function UB(n){var e=GB;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=gO(String(W1)).split("."),t=gO("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",a=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=DS(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||DS(0==i[2].length,0==a[2].length)||DS(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oi(this.pa,this)):this.A=GS(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){ak(this,a)}},ft.pa=function(){void 0!==yS&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pi(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pi(this,"complete"),Pi(this,"abort"),lD(this))},ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lD(this,!0)),Gr.Z.M.call(this)},ft.Fa=function(){this.s||(this.F||this.v||this.l?uk(this):this.cb())},ft.cb=function(){uk(this)},ft.ba=function(){try{return 2<xu(this)?this.g.status:-1}catch(n){return-1}},ft.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ft.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),IV(e)}},ft.Da=function(){return this.m},ft.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=hk.prototype).ma=8,ft.G=1,ft.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ft.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new ov(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=yO(a),bO(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gk(this,i,e),ar(t=Mu(this.F),"RID",n),ar(t,"CVER",22),this.D&&ar(t,"X-HTTP-Session-Id",this.D),mv(this,t),this.o&&a&&rA(t,this.o,a),eA(this.i,i),this.Ra&&ar(t,"TYPE","init"),this.ja?(ar(t,"$req",e),ar(t,"SID","null"),i.$=!0,KS(i,t,null)):KS(i,t,e),this.G=2}}else 3==this.G&&(n?pk(this,n):0==this.l.length||tk(this.i)||pk(this))},ft.Ga=function(){if(this.u=null,_k(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=iv(Oi(this.bb,this),n)}},ft.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Es(10),uD(this),_k(this))},ft.ab=function(){null!=this.v&&(this.v=null,uD(this),oA(this),Es(19))},ft.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Es(2)):(this.h.info("Failed to ping google.com"),Es(1))},(ft=Tk.prototype).xa=function(){},ft.wa=function(){},ft.va=function(){},ft.ua=function(){},ft.Oa=function(){},hD.prototype.g=function(n,e){return new Io(n,e)},ki(Io,vi),Io.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),VS(Oi(n.hb,n,e))),Es(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=wk(n,null,n.W),cD(n)},Io.prototype.close=function(){iA(this.g)},Io.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,sA(this.g,e)}else this.v?((e={}).__data__=BS(n),sA(this.g,e)):sA(this.g,n)},Io.prototype.M=function(){this.g.j=null,delete this.j,iA(this.g),delete this.g,Io.Z.M.call(this)},ki(Ek,WS),ki(Ck,qS),ki(Gg,Tk),Gg.prototype.xa=function(){Pi(this.g,"a")},Gg.prototype.wa=function(n){Pi(this.g,new Ek(n))},Gg.prototype.va=function(n){Pi(this.g,new Ck(n))},Gg.prototype.ua=function(){Pi(this.g,"b")},hD.prototype.createWebChannel=hD.prototype.g,Io.prototype.send=Io.prototype.u,Io.prototype.open=Io.prototype.m,Io.prototype.close=Io.prototype.close,Q1.NO_ERROR=0,Q1.TIMEOUT=8,Q1.HTTP_ERROR=6,UO.COMPLETE="complete",HO.EventType=sv,sv.OPEN="a",sv.CLOSE="b",sv.ERROR="c",sv.MESSAGE="d",vi.prototype.listen=vi.prototype.N,Gr.prototype.listenOnce=Gr.prototype.O,Gr.prototype.getLastError=Gr.prototype.La,Gr.prototype.getLastErrorCode=Gr.prototype.Da,Gr.prototype.getStatus=Gr.prototype.ba,Gr.prototype.getResponseJson=Gr.prototype.Qa,Gr.prototype.getResponseText=Gr.prototype.ga,Gr.prototype.send=Gr.prototype.ea;var OV=Nu.createWebChannelTransport=function(){return new hD},kV=Nu.getStatEventTarget=function(){return J1()},lA=Nu.ErrorCode=Q1,PV=Nu.EventType=UO,FV=Nu.Event=Kh,Ik=Nu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},LV=Nu.FetchXmlHttpFactory=hv,fD=Nu.WebChannel=HO,BV=Nu.XhrIo=Gr;const Sk="@firebase/firestore";class Fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fi.UNAUTHENTICATED=new Fi(null),Fi.GOOGLE_CREDENTIALS=new Fi("google-credentials-uid"),Fi.FIRST_PARTY=new Fi("first-party-uid"),Fi.MOCK_USER=new Fi("mock-user");let $g="9.8.0";const dd=new la.Yd("@firebase/firestore");function uA(){return dd.logLevel}function We(n,...e){if(dd.logLevel<=la.in.DEBUG){const t=e.map(cA);dd.debug(`Firestore (${$g}): ${n}`,...t)}}function $r(n,...e){if(dd.logLevel<=la.in.ERROR){const t=e.map(cA);dd.error(`Firestore (${$g}): ${n}`,...t)}}function _v(n,...e){if(dd.logLevel<=la.in.WARN){const t=e.map(cA);dd.warn(`Firestore (${$g}): ${n}`,...t)}}function cA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function gt(n="Unexpected state"){const e=`FIRESTORE (${$g}) INTERNAL ASSERTION FAILED: `+n;throw $r(e),new Error(e)}function Ft(n,e){n||gt()}function st(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Ot.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ak{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fi.UNAUTHENTICATED))}shutdown(){}}class HV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GV{constructor(e){this.t=e,this.currentUser=Fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new bi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=d;e.enqueueRetryable((0,Q.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},_=w=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new bi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft("string"==typeof r.accessToken),new Ak(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new Fi(e)}}class $V{constructor(e,t,r){this.type="FirstParty",this.user=Fi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class WV{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new $V(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qV{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.p;return this.p=a.token,We("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),this.p=t.token,new Nk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class So{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function zV(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}So.A=-1;class Mk{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=zV(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Yt(n,e){return n<e?-1:n>e?1:0}function Wg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function xk(n){return n+"\0"}class Rr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rr.fromMillis(Date.now())}static fromDate(e){return Rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Rr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Rr(0,0))}static max(){return new Nt(new Rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Rk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ef(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ok(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class yv{constructor(e,t,r){void 0===t?t=0:t>e.length&&gt(),void 0===r?r=e.length-t:r>e.length-t&&gt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===yv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),d=t.get(i);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fn extends yv{construct(e,t,r){return new fn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new fn(t)}static emptyPath(){return new fn([])}}const ZV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends yv{construct(e,t,r){return new ni(e,t,r)}static isValidIdentifier(e){return ZV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ni(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Fe(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Fe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Fe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(a(),i++)}if(a(),d)throw new Fe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ni(t)}static emptyPath(){return new ni([])}}class qg{constructor(e){this.fields=e,e.sort(ni.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ri(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const YV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hd(n){if(Ft(!!n),"string"==typeof n){let e=0;const t=YV.exec(n);if(Ft(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tr(n.seconds),nanos:Tr(n.nanos)}}function Tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function tf(n){return"string"==typeof n?ri.fromBase64String(n):ri.fromUint8Array(n)}function dA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function kk(n){const e=n.mapValue.fields.__previous_value__;return dA(e)?kk(e):e}function vv(n){const e=hd(n.mapValue.fields.__local_write_time__.timestampValue);return new Rr(e.seconds,e.nanos)}class JV{constructor(e,t,r,i,a,d,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Ru{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ru("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}function bv(n){return null==n}function wv(n){return 0===n&&1/n==-1/0}function Pk(n){return"number"==typeof n&&Number.isInteger(n)&&!wv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(fn.fromString(e))}static fromName(e){return new tt(fn.fromString(e).popFirst(5))}static empty(){return new tt(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new fn(e.slice()))}}const fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pD={nullValue:"NULL_VALUE"};function nf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dA(n)?4:Vk(n)?9007199254740991:10:gt()}function Ll(n,e){if(n===e)return!0;const t=nf(n);if(t!==nf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vv(n).isEqual(vv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=hd(r.timestampValue),d=hd(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,tf(n.bytesValue).isEqual(tf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Tr(r.geoPointValue.latitude)===Tr(i.geoPointValue.latitude)&&Tr(r.geoPointValue.longitude)===Tr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Tr(r.integerValue)===Tr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Tr(r.doubleValue),d=Tr(i.doubleValue);return a===d?wv(a)===wv(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return Wg(n.arrayValue.values||[],e.arrayValue.values||[],Ll);case 10:return function(r,i){const a=r.mapValue.fields||{},d=i.mapValue.fields||{};if(Rk(a)!==Rk(d))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===d[f]||!Ll(a[f],d[f])))return!1;return!0}(n,e);default:return gt()}var i}function Dv(n,e){return void 0!==(n.values||[]).find(t=>Ll(t,e))}function pd(n,e){if(n===e)return 0;const t=nf(n),r=nf(e);if(t!==r)return Yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const d=Tr(i.integerValue||i.doubleValue),f=Tr(a.integerValue||a.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Fk(n.timestampValue,e.timestampValue);case 4:return Fk(vv(n),vv(e));case 5:return Yt(n.stringValue,e.stringValue);case 6:return function(i,a){const d=tf(i),f=tf(a);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const d=i.split("/"),f=a.split("/");for(let _=0;_<d.length&&_<f.length;_++){const w=Yt(d[_],f[_]);if(0!==w)return w}return Yt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const d=Yt(Tr(i.latitude),Tr(a.latitude));return 0!==d?d:Yt(Tr(i.longitude),Tr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const d=i.values||[],f=a.values||[];for(let _=0;_<d.length&&_<f.length;++_){const w=pd(d[_],f[_]);if(w)return w}return Yt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===fd.mapValue&&a===fd.mapValue)return 0;if(i===fd.mapValue)return 1;if(a===fd.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const A=Yt(f[I],w[I]);if(0!==A)return A;const P=pd(d[f[I]],_[w[I]]);if(0!==P)return P}return Yt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw gt()}}function Fk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yt(n,e);const t=hd(n),r=hd(e),i=Yt(t.seconds,r.seconds);return 0!==i?i:Yt(t.nanos,r.nanos)}function zg(n){return hA(n)}function hA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=hd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?tf(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const d of r.values||[])a?a=!1:i+=",",i+=hA(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",d=!0;for(const f of i)d?d=!1:a+=",",a+=`${f}:${hA(r.fields[f])}`;return a+"}"}(n.mapValue):gt();var e}function rf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fA(n){return!!n&&"integerValue"in n}function Tv(n){return!!n&&"arrayValue"in n}function Lk(n){return!!n&&"nullValue"in n}function Bk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gD(n){return!!n&&"mapValue"in n}function Ev(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ef(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ev(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ev(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Vk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function QV(n){return"nullValue"in n?pD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?rf(Ru.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gt()}function XV(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?rf(Ru.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?fd:gt()}function Uk(n,e){const t=pd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function jk(n,e){const t=pd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ev(t)}setAll(e){let t=ni.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=Ev(d):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());gD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ll(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];gD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ef(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new rs(Ev(this.value))}}function Hk(n){const e=[];return ef(n.fields,(t,r)=>{const i=new ni([t]);if(gD(r)){const a=Hk(r.mapValue).fields;if(0===a.length)e.push(i);else for(const d of a)e.push(i.child(d))}else e.push(i)}),new qg(e)}class nr{constructor(e,t,r,i,a,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=d}static newInvalidDocument(e){return new nr(e,0,Nt.min(),Nt.min(),rs.empty(),0)}static newFoundDocument(e,t,r){return new nr(e,1,t,Nt.min(),r,0)}static newNoDocument(e,t){return new nr(e,2,t,Nt.min(),rs.empty(),0)}static newUnknownDocument(e,t){return new nr(e,3,t,Nt.min(),rs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mD{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function pA(n){return n.fields.find(e=>2===e.kind)}function sf(n){return n.fields.filter(e=>2!==e.kind)}mD.UNKNOWN_ID=-1;class _D{constructor(e,t){this.fieldPath=e,this.kind=t}}class Cv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Cv(0,Qa.min())}}function Gk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new Rr(t+1,0):new Rr(t,r));return new Qa(i,tt.empty(),e)}function eU(n){return new Qa(n.readTime,n.key,-1)}class Qa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qa(Nt.min(),tt.empty(),-1)}static max(){return new Qa(Nt.max(),tt.empty(),-1)}}function $k(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=tt.comparator(n.documentKey,e.documentKey),0!==t?t:Yt(n.largestBatchId,e.largestBatchId))}class Or{constructor(e,t){this.comparator=e,this.root=t||Li.EMPTY}insert(e,t){return new Or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(e){return new Or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yD(this.root,e,this.comparator,!1)}getReverseIterator(){return new yD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yD(this.root,e,this.comparator,!0)}}class yD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Li{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:Li.RED,this.left=null!=i?i:Li.EMPTY,this.right=null!=a?a:Li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Li(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Li.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1,Li.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Li(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kn{constructor(e){this.comparator=e,this.data=new Or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wk(this.data.getIterator())}getIteratorFrom(e){return new Wk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kn(this.comparator);return t.data=e,t}}class Wk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zg(n){return n.hasNext()?n.getNext():void 0}class tU{constructor(e,t=null,r=[],i=[],a=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=d,this.endAt=f,this.P=null}}function qk(n,e=null,t=[],r=[],i=null,a=null,d=null){return new tU(n,e,t,r,i,a,d)}function af(n){const e=st(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+zg(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),bv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zg(r)).join(",")),e.P=t}return e.P}function Iv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!cU(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ll(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jk(n.startAt,e.startAt)&&Jk(n.endAt,e.endAt)}function vD(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function bD(n,e){return n.filters.filter(t=>t instanceof Bi&&t.field.isEqual(e))}function zk(n,e,t){let r=pD,i=!0;for(const a of bD(n,e)){let d=pD,f=!0;switch(a.op){case"<":case"<=":d=QV(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,f=!1;break;case"!=":case"not-in":d=pD}Uk({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];Uk({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function Zk(n,e,t){let r=fd,i=!0;for(const a of bD(n,e)){let d=fd,f=!0;switch(a.op){case">=":case">":d=XV(a.value),f=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,f=!1;break;case"!=":case"not-in":d=fd}jk({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];jk({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Bi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new rU(e,t,r):"array-contains"===t?new oU(e,r):"in"===t?new aU(e,r):"not-in"===t?new lU(e,r):"array-contains-any"===t?new uU(e,r):new Bi(e,t,r)}static V(e,t,r){return"in"===t?new iU(e,r):new sU(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(pd(t,this.value)):null!==t&&nf(this.value)===nf(t)&&this.v(pd(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rU extends Bi{constructor(e,t,r){super(e,t,r),this.key=tt.fromName(r.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.v(t)}}class iU extends Bi{constructor(e,t){super(e,"in",t),this.keys=Kk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sU extends Bi{constructor(e,t){super(e,"not-in",t),this.keys=Kk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Kk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>tt.fromName(r.referenceValue))}class oU extends Bi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tv(t)&&Dv(t.arrayValue,this.value)}}class aU extends Bi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Dv(this.value.arrayValue,t)}}class lU extends Bi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Dv(this.value.arrayValue,t)}}class uU extends Bi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Dv(this.value.arrayValue,r))}}class gd{constructor(e,t){this.position=e,this.inclusive=t}}class Kg{constructor(e,t="asc"){this.field=e,this.dir=t}}function cU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Yk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],d=n.position[i];if(r=a.field.isKeyField()?tt.comparator(tt.fromName(d.referenceValue),t.key):pd(d,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Jk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ll(n.position[t],e.position[t]))return!1;return!0}class Ou{constructor(e,t=null,r=[],i=[],a=null,d="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=d,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function Qk(n,e,t,r,i,a,d,f){return new Ou(n,e,t,r,i,a,d,f)}function Yg(n){return new Ou(n)}function gA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function mA(n){for(const e of n.filters)if(e.S())return e.field;return null}function _A(n){return null!==n.collectionGroup}function Jg(n){const e=st(n);if(null===e.D){e.D=[];const t=mA(e),r=gA(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Kg(t)),e.D.push(new Kg(ni.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Kg(ni.keyField(),a))}}}return e.D}function ca(n){const e=st(n);if(!e.C)if("F"===e.limitType)e.C=qk(e.path,e.collectionGroup,Jg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Jg(e))t.push(new Kg(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new gd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new gd(e.startAt.position,e.startAt.inclusive):null;e.C=qk(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function Xk(n,e,t){return new Ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sv(n,e){return Iv(ca(n),ca(e))&&n.limitType===e.limitType}function eP(n){return`${af(ca(n))}|lt:${n.limitType}`}function yA(n){return`Query(target=${function nU(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${zg(r.value)}`;var r}).join(", ")}]`),bv(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>zg(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>zg(t)).join(",")),`Target(${e})`}(ca(n))}; limitType=${n.limitType})`}function vA(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):tt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,d){const f=Yk(i,a,d);return i.inclusive?f<=0:f<0}(t.startAt,Jg(t),r)||t.endAt&&!function(i,a,d){const f=Yk(i,a,d);return i.inclusive?f>=0:f>0}(t.endAt,Jg(t),r)));var t,r}function tP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nP(n){return(e,t)=>{let r=!1;for(const i of Jg(n)){const a=hU(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function hU(n,e,t){const r=n.field.isKeyField()?tt.comparator(e.key,t.key):function(i,a,d){const f=a.data.field(i),_=d.data.field(i);return null!==f&&null!==_?pd(f,_):gt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}function rP(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wv(e)?"-0":e}}function iP(n){return{integerValue:""+n}}function sP(n,e){return Pk(e)?iP(e):rP(n,e)}class wD{constructor(){this._=void 0}}function fU(n,e,t){return n instanceof Qg?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof lf?aP(n,e):n instanceof uf?lP(n,e):function(r,i){const a=oP(r,i),d=uP(a)+uP(r.k);return fA(a)&&fA(r.k)?iP(d):rP(r.M,d)}(n,e)}function pU(n,e,t){return n instanceof lf?aP(n,e):n instanceof uf?lP(n,e):t}function oP(n,e){return n instanceof Xg?fA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Qg extends wD{}class lf extends wD{constructor(e){super(),this.elements=e}}function aP(n,e){const t=cP(e);for(const r of n.elements)t.some(i=>Ll(i,r))||t.push(r);return{arrayValue:{values:t}}}class uf extends wD{constructor(e){super(),this.elements=e}}function lP(n,e){let t=cP(e);for(const r of n.elements)t=t.filter(i=>!Ll(i,r));return{arrayValue:{values:t}}}class Xg extends wD{constructor(e,t){super(),this.M=e,this.k=t}}function uP(n){return Tr(n.integerValue||n.doubleValue)}function cP(n){return Tv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Av{constructor(e,t){this.field=e,this.transform=t}}class mU{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function DD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class TD{}function _U(n,e,t){n instanceof Nv?function(r,i,a){const d=r.value.clone(),f=pP(r.fieldTransforms,i,a.transformResults);d.setAll(f),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof cf?function(r,i,a){if(!DD(r.precondition,i))return void i.convertToUnknownDocument(a.version);const d=pP(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(fP(r)),f.setAll(d),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bA(n,e,t){var i;n instanceof Nv?function(r,i,a){if(!DD(r.precondition,i))return;const d=r.value.clone(),f=gP(r.fieldTransforms,a,i);d.setAll(f),i.convertToFoundDocument(hP(i),d).setHasLocalMutations()}(n,e,t):n instanceof cf?function(r,i,a){if(!DD(r.precondition,i))return;const d=gP(r.fieldTransforms,a,i),f=i.data;f.setAll(fP(r)),f.setAll(d),i.convertToFoundDocument(hP(i),f).setHasLocalMutations()}(n,e,t):DD(n.precondition,i=e)&&i.convertToNoDocument(Nt.min())}function yU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=oP(r.transform,i||null);null!=a&&(null==t&&(t=rs.empty()),t.set(r.field,a))}return t||null}function dP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Wg(t,r,(i,a)=>function gU(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof lf&&r instanceof lf||t instanceof uf&&r instanceof uf?Wg(t.elements,r.elements,Ll):t instanceof Xg&&r instanceof Xg?Ll(t.k,r.k):t instanceof Qg&&r instanceof Qg);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function hP(n){return n.isFoundDocument()?n.version:Nt.min()}class Nv extends TD{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class cf extends TD{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function fP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pP(n,e,t){const r=new Map;Ft(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],d=a.transform,f=e.data.field(a.field);r.set(a.field,pU(d,f,t[i]))}return r}function gP(n,e,t){const r=new Map;for(const i of n){const a=i.transform,d=t.data.field(i.field);r.set(i.field,fU(a,d,e))}return r}class Mv extends TD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class wA extends TD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class vU{constructor(e){this.count=e}}var qr,pn;function mP(n){switch(n){default:return gt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function _P(n){if(void 0===n)return $r("GRPC error has no .code"),ge.UNKNOWN;switch(n){case qr.OK:return ge.OK;case qr.CANCELLED:return ge.CANCELLED;case qr.UNKNOWN:return ge.UNKNOWN;case qr.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case qr.INTERNAL:return ge.INTERNAL;case qr.UNAVAILABLE:return ge.UNAVAILABLE;case qr.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case qr.NOT_FOUND:return ge.NOT_FOUND;case qr.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case qr.ABORTED:return ge.ABORTED;case qr.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case qr.DATA_LOSS:return ge.DATA_LOSS;default:return gt()}}(pn=qr||(qr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";class md{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ef(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Ok(this.inner)}size(){return this.innerSize}}const bU=new Or(tt.comparator);function da(){return bU}const wU=new Or(tt.comparator);function DA(...n){let e=wU;for(const t of n)e=e.insert(t.key,t);return e}function xv(){return new md(n=>n.toString(),(n,e)=>n.isEqual(e))}const DU=new Or(tt.comparator),TU=new Kn(tt.comparator);function Cn(...n){let e=TU;for(const t of n)e=e.add(t);return e}const EU=new Kn(Yt);function ED(){return EU}class Rv{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Ov.createSynthesizedTargetChangeForCurrentChange(e,t)),new Rv(Nt.min(),r,ED(),da(),Cn())}}class Ov{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ov(ri.EMPTY_BYTE_STRING,t,Cn(),Cn(),Cn())}}class CD{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class yP{constructor(e,t){this.targetId=e,this.$=t}}class vP{constructor(e,t,r=ri.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class bP{constructor(){this.B=0,this.L=DP(),this.U=ri.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Cn(),t=Cn(),r=Cn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new Ov(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=DP()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class CU{constructor(e){this.nt=e,this.st=new Map,this.it=da(),this.rt=wP(),this.ot=new Kn(Yt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(vD(a))if(0===r){const d=new tt(a.path);this.ct(t,d,nr.newNoDocument(d,Nt.min()))}else Ft(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,d)=>{const f=this.wt(d);if(f){if(a.current&&vD(f.target)){const _=new tt(f.target.path);null!==this.it.get(_)||this.It(d,_)||this.ct(d,_,nr.newNoDocument(_,e))}a.j&&(t.set(d,a.H()),a.J())}});let r=Cn();this.rt.forEach((a,d)=>{let f=!0;d.forEachWhile(_=>{const w=this.wt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,d)=>d.setReadTime(e));const i=new Rv(e,t,this.ot,this.it,r);return this.it=da(),this.rt=wP(),this.ot=new Kn(Yt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new bP,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Kn(Yt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||We("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new bP),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function wP(){return new Or(tt.comparator)}function DP(){return new Or(tt.comparator)}const IU={asc:"ASCENDING",desc:"DESCENDING"},SU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class AU{constructor(e,t){this.databaseId=e,this.N=t}}function kv(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TP(n,e){return n.N?e.toBase64():e.toUint8Array()}function NU(n,e){return kv(n,e.toTimestamp())}function wi(n){return Ft(!!n),Nt.fromTimestamp(function(e){const t=hd(e);return new Rr(t.seconds,t.nanos)}(n))}function TA(n,e){return(t=n,new fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function EP(n){const e=fn.fromString(n);return Ft(OP(e)),e}function Pv(n,e){return TA(n.databaseId,e.path)}function Bl(n,e){const t=EP(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(IP(t))}function EA(n,e){return TA(n.databaseId,e)}function CP(n){const e=EP(n);return 4===e.length?fn.emptyPath():IP(e)}function Fv(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IP(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function SP(n,e,t){return{name:Pv(n,e),fields:t.value.mapValue.fields}}function AP(n,e,t){const r=Bl(n,e.name),i=wi(e.updateTime),a=new rs({mapValue:{fields:e.fields}}),d=nr.newFoundDocument(r,i,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Lv(n,e){let t;if(e instanceof Nv)t={update:SP(n,e.key,e.value)};else if(e instanceof Mv)t={delete:Pv(n,e.key)};else if(e instanceof cf)t={update:SP(n,e.key,e.data),updateMask:BU(e.fieldMask)};else{if(!(e instanceof wA))return gt();t={verify:Pv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const d=a.transform;if(d instanceof Qg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof lf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof uf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xg)return{fieldPath:a.field.canonicalString(),increment:d.k};throw gt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:NU(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:gt()),t;var i}function CA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Wr.updateTime(wi(i.updateTime)):void 0!==i.exists?Wr.exists(i.exists):Wr.none():Wr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,d){let f=null;"setToServerValue"in d?(Ft("REQUEST_TIME"===d.setToServerValue),f=new Qg):"appendMissingElements"in d?f=new lf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new uf(d.removeAllFromArray.values||[]):"increment"in d?f=new Xg(a,d.increment):gt();const _=ni.fromServerFormat(d.fieldPath);return new Av(_,f)}(n,i)):[];var i;if(e.update){const i=Bl(n,e.update.name),a=new rs({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new qg((e.updateMask.fieldPaths||[]).map(w=>ni.fromServerFormat(w)));return new cf(i,a,d,t,r)}return new Nv(i,a,t,r)}if(e.delete){const i=Bl(n,e.delete);return new Mv(i,t)}if(e.verify){const i=Bl(n,e.verify);return new wA(i,t)}return gt()}function NP(n,e){return{documents:[EA(n,e.path)]}}function MP(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=EA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=EA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(I=>function(A){if("=="===A.op){if(Bk(A.value))return{unaryFilter:{field:em(A.field),op:"IS_NAN"}};if(Lk(A.value))return{unaryFilter:{field:em(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(Bk(A.value))return{unaryFilter:{field:em(A.field),op:"IS_NOT_NAN"}};if(Lk(A.value))return{unaryFilter:{field:em(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:em(A.field),op:PU(A.op),value:A.value}}}(I));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:em((I=w).field),direction:kU(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(w=e.limit,n.N||bv(w)?w:{value:w});var w,f,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function xP(n){let e=CP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ft(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=RP(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(I=>{return new Kg(tm((A=I).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(I){let A;return A="object"==typeof I?I.value:I,bv(A)?null:A}(t.limit));let _=null;var I;t.startAt&&(_=new gd((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new gd(I.values||[],!I.before)}(t.endAt)),Qk(e,i,d,a,f,"F",_,w)}function RP(n){return n?void 0!==n.unaryFilter?[LU(n)]:void 0!==n.fieldFilter?[FU(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>RP(e)).reduce((e,t)=>e.concat(t)):gt():[]}function kU(n){return IU[n]}function PU(n){return SU[n]}function em(n){return{fieldPath:n.canonicalString()}}function tm(n){return ni.fromServerFormat(n.fieldPath)}function FU(n){return Bi.create(tm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(n.fieldFilter.op),n.fieldFilter.value)}function LU(n){switch(n.unaryFilter.op){case"IS_NAN":const e=tm(n.unaryFilter.field);return Bi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=tm(n.unaryFilter.field);return Bi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=tm(n.unaryFilter.field);return Bi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=tm(n.unaryFilter.field);return Bi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}function BU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Cs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kP(e)),e=VU(n.get(t),e);return kP(e)}function VU(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function kP(n){return n+"\x01\x01"}function Vl(n){const e=n.length;if(Ft(e>=2),2===e)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&gt(),n.charAt(d+1)){case"\x01":const f=n.substring(a,d);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,d),i+="\0";break;case"\x11":i+=n.substring(a,d+1);break;default:gt()}a=d+2}return new fn(r)}const PP=["userId","batchId"];function ID(n,e){return[n,Cs(e)]}function FP(n,e,t){return[n,Cs(e),t]}const UU={},jU=["prefixPath","collectionGroup","readTime","documentId"],HU=["prefixPath","collectionGroup","documentId"],GU=["collectionGroup","readTime","prefixPath","documentId"],$U=["canonicalId","targetId"],WU=["targetId","path"],qU=["path","targetId"],zU=["collectionId","parent"],ZU=["indexId","uid"],KU=["uid","sequenceNumber"],YU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],JU=["indexId","uid","orderedDocumentKey"],QU=["userId","collectionPath","documentId"],XU=["userId","collectionPath","largestBatchId"],ej=["userId","collectionGroup","largestBatchId"],LP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tj=[...LP,"documentOverlays"],BP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nj=[...BP,"indexConfiguration","indexState","indexEntries"],VP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ve?t:ve.resolve(t)}catch(t){return ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.reject(t)}static resolve(e){return new ve((t,r)=>{t(e)})}static reject(e){return new ve((t,r)=>{r(e)})}static waitFor(e){return new ve((t,r)=>{let i=0,a=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++a,d&&a===i&&t()},_=>r(_))}),d=!0,a===i&&t()})}static or(e){let t=ve.resolve(!1);for(const r of e)t=t.next(i=>i?ve.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class SD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new bi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Bv(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=IA(r.target.error);this.At.reject(new Bv(e,i))}}static open(e,t,r,i){try{return new SD(t,e.transaction(i,r))}catch(a){throw new Bv(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(We("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ij(t)}}class Xa{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Xa.Vt((0,Ot.z$)())&&$r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return We("SimpleDb","Removing database:",e),hf(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Ot.hl)())return!1;if(Xa.St())return!0;const e=(0,Ot.z$)(),t=Xa.Vt(e),r=0<t&&t<10,i=Xa.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Q.Z)(function*(){return t.db||(We("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{r(d.target.result)},a.onblocked=()=>{i(new Bv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Fe(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Fe(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Bv(e,f))},a.onupgradeneeded=d=>{We("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{We("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Q.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const _=SD.open(a.db,e,d?"readonly":"readwrite",r),w=i(_).next(I=>(_.bt(),I)).catch(I=>(_.abort(I),ve.reject(I))).toPromise();return w.catch(()=>{}),yield _.Rt,w}catch(_){const w="FirebaseError"!==_.name&&f<3;if(We("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),a.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rj{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return hf(this.Ft.delete())}}class Bv extends Fe{constructor(e,t){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function df(n){return"IndexedDbTransactionError"===n.name}class ij{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(We("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(We("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hf(r)}add(e){return We("SimpleDb","ADD",this.store.name,e,e),hf(this.store.add(e))}get(e){return hf(this.store.get(e)).next(t=>(void 0===t&&(t=null),We("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return We("SimpleDb","DELETE",this.store.name,e),hf(this.store.delete(e))}count(){return We("SimpleDb","COUNT",this.store.name),hf(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(d,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ve((a,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ve((i,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){We("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,d,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new ve((r,i)=>{t.onerror=a=>{const d=IA(a.target.error);i(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new ve((i,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const _=new rj(f),w=t(f.primaryKey,f.value,_);if(w instanceof ve){const I=w.catch(A=>(_.done(),ve.reject(A)));r.push(I)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>ve.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function hf(n){return new ve((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=IA(r.target.error);t(i)}})}let jP=!1;function IA(n){const e=Xa.Vt((0,Ot.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jP||(jP=!0,setTimeout(()=>{throw r},0)),r}}return n}class HP extends UP{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Di(n,e){const t=st(n);return Xa.xt(t.Ht,e)}class SA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&_U(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&bA(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&bA(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Nt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&Wg(this.mutations,e.mutations,(t,r)=>dP(t,r))&&Wg(this.baseMutations,e.baseMutations,(t,r)=>dP(t,r))}}class AA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ft(e.mutations.length===r.length);let i=DU;const a=e.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,r[d].version);return new AA(e,t,r,i)}}class NA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _d{constructor(e,t,r,i,a=Nt.min(),d=Nt.min(),f=ri.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new _d(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _d(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _d(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class GP{constructor(e){this.Jt=e}}function $P(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:AD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Pv(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:kv(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ff(e.version)};else{if(!e.isUnknownDocument())return gt();r.unknownDocument={path:t.path.toArray(),version:ff(e.version)}}var i,a;return r}function AD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ff(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pf(n){const e=new Rr(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function nm(n,e){const t=(e.baseMutations||[]).map(a=>CA(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const d=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(d.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>CA(n.Jt,a)),i=Rr.fromMillis(e.localWriteTimeMs);return new SA(e.batchId,i,t,r)}function Vv(n){const e=pf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?pf(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(Ft(1===(i=n.query).documents.length),r=ca(Yg(CP(i.documents[0])))):r=ca(xP(n.query)),new _d(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ri.fromBase64String(n.resumeToken))}function WP(n,e){const t=ff(e.snapshotVersion),r=ff(e.lastLimboFreeSnapshotVersion);let i;i=vD(e.target)?NP(n.Jt,e.target):MP(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:af(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function MA(n){const e=xP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Xk(e,e.limit,"L"):e}function xA(n,e){return new NA(e.largestBatchId,CA(n.Jt,e.overlayMutation))}function qP(n,e){const t=e.path.lastSegment();return[n,Cs(e.path.popLast()),t]}class oj{getBundleMetadata(e,t){return zP(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:pf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return zP(e).put({bundleId:(r=t).id,createTime:ff(wi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return ZP(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:MA(i.bundledQuery),readTime:pf(i.readTime)};var i})}saveNamedQuery(e,t){return ZP(e).put({name:(r=t).name,readTime:ff(wi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function zP(n){return Di(n,"bundles")}function ZP(n){return Di(n,"namedQueries")}class RA{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new RA(e,t.uid||"")}getOverlay(e,t){return Uv(e).get(qP(this.userId,t)).next(r=>r?xA(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,d)=>{const f=new NA(t,d);i.push(this.Xt(e,f))}),ve.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Cs(d.getCollectionPath())));const a=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);a.push(Uv(e).Qt("collectionPathOverlayIndex",f))}),ve.waitFor(a)}getOverlaysForCollection(e,t,r){const i=xv(),a=Cs(t),d=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Uv(e).qt("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const w=xA(this.M,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=xv();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Uv(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const A=xA(this.M,w);a.size()<i||A.largestBatchId===d?(a.set(A.getKey(),A),d=A.largestBatchId):I.done()}).next(()=>a)}Xt(e,t){return Uv(e).put(function(r,i,a){const[d,f,_]=qP(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Lv(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function Uv(n){return Di(n,"documentOverlays")}class gf{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Tr(e.integerValue));else if("doubleValue"in e){const r=Tr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),wv(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(tf(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Vk(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):gt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),tt.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function aj(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function KP(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=aj(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}gf.fe=new gf;class lj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=KP(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=KP(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class uj{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class cj{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class jv{constructor(){this.De=new lj,this.Ce=new uj(this.De),this.xe=new cj(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class mf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new mf(this.indexId,this.documentKey,this.arrayValue,r)}}function _f(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=YP(n.arrayValue,e.arrayValue),0!==t?t:(t=YP(n.directionalValue,e.directionalValue),0!==t?t:tt.comparator(n.documentKey,e.documentKey)))}function YP(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class dj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=pA(e);if(void 0!==t&&!this.Be(t))return!1;const r=sf(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[a++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class hj{constructor(){this.qe=new OA}addToCollectionParentIndex(e,t){return this.qe.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getIndexType(e,t){return ve.resolve(0)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,t){return ve.resolve(Qa.min())}updateCollectionGroup(e,t,r){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}}class OA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Kn(fn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kn(fn.comparator)).toArray()}}const ND=new Uint8Array(0);class fj{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new OA,this.Ge=new md(r=>af(r),(r,i)=>Iv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:Cs(i)};return JP(e).put(a)}return ve.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[xk(t),""],!1,!0);return JP(e).qt(i).next(a=>{for(const d of a){if(d.collectionId!==t)break;r.push(Vl(d.parent))}return r})}addFieldIndex(e,t){const r=MD(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=MD(e),i=xD(e),a=Hv(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Hv(e);let i=!0;const a=new Map;return ve.forEach(this.Qe(t),d=>this.je(e,d).next(f=>{i&&(i=!!f),a.set(d,f)})).next(()=>{if(i){let d=Cn();const f=[];return ve.forEach(a,(_,w)=>{var I;We("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Qe=>`${Qe.fieldPath}:${Qe.kind}`).join(",")}`} to execute ${af(t)}`);const A=function(Qe,je){const rt=pA(je);if(void 0===rt)return null;for(const ut of bD(Qe,rt.fieldPath))switch(ut.op){case"array-contains-any":return ut.value.arrayValue.values||[];case"array-contains":return[ut.value]}return null}(w,_),P=function(Qe,je){const rt=new Map;for(const ut of sf(je))for(const Mt of bD(Qe,ut.fieldPath))switch(Mt.op){case"==":case"in":rt.set(ut.fieldPath.canonicalString(),Mt.value);break;case"not-in":case"!=":return rt.set(ut.fieldPath.canonicalString(),Mt.value),Array.from(rt.values())}return null}(w,_),L=function(Qe,je){const rt=[];let ut=!0;for(const Mt of sf(je)){const Jt=0===Mt.kind?zk(Qe,Mt.fieldPath,Qe.startAt):Zk(Qe,Mt.fieldPath,Qe.startAt);rt.push(Jt.value),ut&&(ut=Jt.inclusive)}return new gd(rt,ut)}(w,_),z=function(Qe,je){const rt=[];let ut=!0;for(const Mt of sf(je)){const Jt=0===Mt.kind?Zk(Qe,Mt.fieldPath,Qe.endAt):zk(Qe,Mt.fieldPath,Qe.endAt);rt.push(Jt.value),ut&&(ut=Jt.inclusive)}return new gd(rt,ut)}(w,_),ie=this.We(_,w,L),we=this.We(_,w,z),Ue=this.ze(_,w,P),qe=this.He(_.indexId,A,ie,L.inclusive,we,z.inclusive,Ue);return ve.forEach(qe,Qe=>r.Gt(Qe,t.limit).next(je=>{je.forEach(rt=>{const ut=tt.fromSegments(rt.documentKey);d.has(ut)||(d=d.add(ut),f.push(ut))})}))}).next(()=>f)}return ve.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,a,d,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),w=_/(null!=t?t.length:1),I=[];for(let A=0;A<_;++A){const P=t?this.Je(t[A/w]):ND,L=this.Ye(e,P,r[A%w],i),z=this.Xe(e,P,a[A%w],d),ie=f.map(we=>this.Ye(e,P,we,!0));I.push(...this.createRange(L,z,ie))}return I}Ye(e,t,r,i){const a=new mf(e,tt.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new mf(e,tt.empty(),t,r);return i?a.ke():a}je(e,t){const r=new dj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let d=null;for(const f of a)r.$e(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;return ve.forEach(this.Qe(t),i=>this.je(e,i).next(a=>{a?0!==r&&a.fields.length<function(d){let f=new Kn(ni.comparator),_=!1;for(const w of d.filters){const I=w;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:f=f.add(I.field))}for(const w of d.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new jv;for(const i of sf(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const d=r.Ne(i.kind);gf.fe.Zt(a,d)}return r.Se()}Je(e){const t=new jv;return gf.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new jv;return gf.fe.Zt(rf(this.databaseId,t),r.Ne(function(i){const a=sf(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new jv);let a=0;for(const d of sf(e)){const f=r[a++];for(const _ of i)if(this.en(t,d.fieldPath)&&Tv(f))i=this.nn(i,d,f);else{const w=_.Ne(d.kind);gf.fe.Zt(f,w)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const d of r.arrayValue.values||[])for(const f of i){const _=new jv;_.seed(f.Se()),gf.fe.Zt(d,_.Ne(t.kind)),a.push(_)}return a}en(e,t){return!!e.filters.find(r=>r instanceof Bi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=MD(e),i=xD(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const d=[];return ve.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{d.push(function(w,I){const A=I?new Cv(I.sequenceNumber,new Qa(pf(I.readTime),new tt(Vl(I.documentKey)),I.largestBatchId)):Cv.empty(),P=w.fields.map(([L,z])=>new _D(ni.fromServerFormat(L),z));return new mD(w.indexId,w.collectionGroup,P,A)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Yt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=MD(e),a=xD(e);return this.rn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ve.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:ff((P=r).readTime),documentKey:Cs(P.documentKey.path),largestBatchId:P.largestBatchId});var P})))}updateIndexEntries(e,t){const r=new Map;return ve.forEach(t,(i,a)=>{const d=r.get(i.collectionGroup);return(d?ve.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ve.forEach(f,_=>this.on(e,i,_).next(w=>{const I=this.un(a,_);return w.isEqual(I)?ve.resolve():this.an(e,a,_,w,I)}))))})}cn(e,t,r,i){return Hv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Hv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Hv(e);let a=new Kn(_f);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,f)=>{a=a.add(new mf(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}un(e,t){let r=new Kn(_f);const i=this.Ze(t,e);if(null==i)return r;const a=pA(t);if(null!=a){const d=e.data.field(a.fieldPath);if(Tv(d))for(const f of d.arrayValue.values||[])r=r.add(new mf(t.indexId,e.key,this.Je(f),i))}else r=r.add(new mf(t.indexId,e.key,ND,i));return r}an(e,t,r,i,a){We("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,_,w,I,A){const P=f.getIterator(),L=_.getIterator();let z=Zg(P),ie=Zg(L);for(;z||ie;){let we=!1,Ue=!1;if(z&&ie){const qe=w(z,ie);qe<0?Ue=!0:qe>0&&(we=!0)}else null!=z?Ue=!0:we=!0;we?(I(ie),ie=Zg(L)):Ue?(A(z),z=Zg(P)):(z=Zg(P),ie=Zg(L))}}(i,a,_f,f=>{d.push(this.cn(e,t,r,f))},f=>{d.push(this.hn(e,t,r,f))}),ve.waitFor(d)}rn(e){let t=1;return xD(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>_f(d,f)).filter((d,f,_)=>!f||0!==_f(d,_[f-1]));const i=[];i.push(e);for(const d of r){const f=_f(d,e),_=_f(d,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(d),i.push(d.ke());else if(_>0)break}i.push(t);const a=[];for(let d=0;d<i.length;d+=2)a.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,ND,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,ND,[]]));return a}getMinOffset(e,t){let r;return ve.forEach(this.Qe(t),i=>this.je(e,i).next(a=>{a?(!r||$k(a.indexState.offset,r)<0)&&(r=a.indexState.offset):r=Qa.min()})).next(()=>r)}}function JP(n){return Di(n,"collectionParents")}function Hv(n){return Di(n,"indexEntries")}function MD(n){return Di(n,"indexConfiguration")}function xD(n){return Di(n,"indexState")}const QP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ys{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ys(e,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function XP(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:d},(I,A,P)=>(f++,P.delete()));a.push(_.next(()=>{Ft(1===f)}));const w=[];for(const I of t.mutations){const A=FP(e,I.key.path,t.batchId);a.push(i.delete(A)),w.push(I.key)}return ve.waitFor(a).next(()=>w)}function RD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw gt();e=n.noDocument}return JSON.stringify(e).length}Ys.DEFAULT_COLLECTION_PERCENTILE=10,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ys.DEFAULT=new Ys(41943040,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ys.DISABLED=new Ys(-1,0,0);class kA{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Ft(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new kA(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yd(e).Wt({index:"userMutationsIndex",range:r},(i,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=rm(e),d=yd(e);return d.add({}).next(f=>{Ft("number"==typeof f);const _=new SA(f,t,r,i),w=function(P,L,z){const ie=z.baseMutations.map(Ue=>Lv(P.Jt,Ue)),we=z.mutations.map(Ue=>Lv(P.Jt,Ue));return{userId:L,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:ie,mutations:we}}(this.M,this.userId,_),I=[];let A=new Kn((P,L)=>Yt(P.canonicalString(),L.canonicalString()));for(const P of i){const L=FP(this.userId,P.key.path,f);A=A.add(P.key.path.popLast()),I.push(d.put(w)),I.push(a.put(L,UU))}return A.forEach(P=>{I.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.ln[f]=_.keys()}),ve.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return yd(e).get(t).next(r=>r?(Ft(r.userId===this.userId),nm(this.M,r)):null)}fn(e,t){return this.ln[t]?ve.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return yd(e).Wt({index:"userMutationsIndex",range:i},(d,f,_)=>{f.userId===this.userId&&(Ft(f.batchId>=r),a=nm(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return yd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,d)=>{r=a.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yd(e).qt("userMutationsIndex",t).next(r=>r.map(i=>nm(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ID(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return rm(e).Wt({range:i},(d,f,_)=>{const[w,I,A]=d,P=Vl(I);if(w===this.userId&&t.path.isEqual(P))return yd(e).get(A).next(L=>{if(!L)throw gt();Ft(L.userId===this.userId),a.push(nm(this.M,L))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kn(Yt);const i=[];return t.forEach(a=>{const d=ID(this.userId,a.path),f=IDBKeyRange.lowerBound(d),_=rm(e).Wt({range:f},(w,I,A)=>{const[P,L,z]=w,ie=Vl(L);P===this.userId&&a.path.isEqual(ie)?r=r.add(z):A.done()});i.push(_)}),ve.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=ID(this.userId,r),d=IDBKeyRange.lowerBound(a);let f=new Kn(Yt);return rm(e).Wt({range:d},(_,w,I)=>{const[A,P,L]=_,z=Vl(P);A===this.userId&&r.isPrefixOf(z)?z.length===i&&(f=f.add(L)):I.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(yd(e).get(a).next(d=>{if(null===d)throw gt();Ft(d.userId===this.userId),r.push(nm(this.M,d))}))}),ve.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return XP(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),ve.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ve.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return rm(e).Wt({range:r},(a,d,f)=>{if(a[0]===this.userId){const _=Vl(a[1]);i.push(_)}else f.done()}).next(()=>{Ft(0===i.length)})})}containsKey(e,t){return eF(e,this.userId,t)}wn(e){return tF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function eF(n,e,t){const r=ID(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let d=!1;return rm(n).Wt({range:a,jt:!0},(f,_,w)=>{const[I,A,P]=f;I===e&&A===i&&(d=!0),w.done()}).next(()=>d)}function yd(n){return Di(n,"mutations")}function rm(n){return Di(n,"documentMutations")}function tF(n){return Di(n,"mutationQueues")}class yf{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new yf(0)}static yn(){return new yf(-1)}}class pj{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new yf(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Nt.fromTimestamp(new Rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>im(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Ft(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return im(e).Wt((d,f)=>{const _=Vv(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ve.waitFor(a)).next(()=>i)}forEachTarget(e,t){return im(e).Wt((r,i)=>{const a=Vv(i);t(a)})}pn(e){return nF(e).get("targetGlobalKey").next(t=>(Ft(null!==t),t))}In(e,t){return nF(e).put("targetGlobalKey",t)}Tn(e,t){return im(e).put(WP(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=af(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return im(e).Wt({range:i,index:"queryTargetsIndex"},(d,f,_)=>{const w=Vv(f);Iv(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=vd(e);return t.forEach(d=>{const f=Cs(d.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),ve.waitFor(i)}removeMatchingKeys(e,t,r){const i=vd(e);return ve.forEach(t,a=>{const d=Cs(a.path);return ve.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=vd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=vd(e);let a=Cn();return i.Wt({range:r,jt:!0},(d,f,_)=>{const w=Vl(d[1]),I=new tt(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=Cs(t.path),i=IDBKeyRange.bound([r],[xk(r)],!1,!0);let a=0;return vd(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,f],_,w)=>{0!==d&&(a++,w.done())}).next(()=>a>0)}Et(e,t){return im(e).get(t).next(r=>r?Vv(r):null)}}function im(n){return Di(n,"targets")}function nF(n){return Di(n,"targetGlobal")}function vd(n){return Di(n,"targetDocuments")}function vf(n){return PA.apply(this,arguments)}function PA(){return PA=(0,Q.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==VP)throw n;We("LocalStore","Unexpectedly lost primary lease")}),PA.apply(this,arguments)}function rF([n,e],[t,r]){const i=Yt(n,t);return 0===i?Yt(e,r):i}class gj{constructor(e){this.An=e,this.buffer=new Kn(rF),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mj{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;We("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Q.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){df(i)?We("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield vf(i)}yield t.Sn(e)}))}}class _j{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ve.resolve(So.A);const r=new gj(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(QP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QP):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,d,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,d=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(a=A,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(w=Date.now(),uA()<=la.in.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-I}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class yj{constructor(e,t){this.db=e,this.garbageCollector=new _j(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return OD(e,r)}removeReference(e,t,r){return OD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return OD(e,t)}On(e,t){return function(r,i){let a=!1;return tF(r).zt(d=>eF(r,d,i).next(f=>(f&&(a=!0),ve.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(d,f)=>{if(f<=t){const _=this.On(e,d).next(w=>{if(!w)return a++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Nt.min()),vd(e).delete([0,Cs(d.path)])))});i.push(_)}}).next(()=>ve.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return OD(e,t)}Mn(e,t){const r=vd(e);let i,a=So.A;return r.Wt({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:w})=>{0===d?(a!==So.A&&t(new tt(Vl(i)),a),a=w,i=_):a=So.A}).next(()=>{a!==So.A&&t(new tt(Vl(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function OD(n,e){return vd(n).put((r=n.currentSequenceNumber,{targetId:0,path:Cs(e.path),sequenceNumber:r}));var r}class iF{constructor(){this.changes=new md(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ve.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vj{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return bf(e).put(r)}removeEntry(e,t,r){return bf(e).delete(function(i,a){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],AD(a),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=nr.newInvalidDocument(t);return bf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Gv(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:nr.newInvalidDocument(t)};return bf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Gv(t))},(i,a)=>{r={document:this.$n(t,a),size:RD(a)}}).next(()=>r)}getEntries(e,t){let r=da();return this.Ln(e,t,(i,a)=>{const d=this.$n(i,a);r=r.insert(i,d)}).next(()=>r)}Un(e,t){let r=da(),i=new Or(tt.comparator);return this.Ln(e,t,(a,d)=>{const f=this.$n(a,d);r=r.insert(a,f),i=i.insert(a,RD(d))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return ve.resolve();let i=new Kn(aF);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Gv(i.first()),Gv(i.last())),d=i.getIterator();let f=d.getNext();return bf(e).Wt({index:"documentKeyIndex",range:a},(_,w,I)=>{const A=tt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&aF(f,A)<0;)r(f,null),f=d.getNext();f&&f.isEqual(A)&&(r(f,w),f=d.hasNext()?d.getNext():null),f?I.Ut(Gv(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),AD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bf(e).qt(IDBKeyRange.bound(i,a,!0)).next(d=>{let f=da();for(const _ of d){const w=this.$n(tt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=da();const d=oF(t,r),f=oF(t,Qa.max());return bf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,w,I)=>{const A=this.$n(tt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(A.key,A),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new bj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sF(e).get("remoteDocumentGlobalKey").next(t=>(Ft(!!t),t))}Fn(e,t){return sF(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function sj(n,e){let t;if(e.document)t=AP(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=tt.fromSegments(e.noDocument.path),i=pf(e.noDocument.readTime);t=nr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gt();{const r=tt.fromSegments(e.unknownDocument.path),i=pf(e.unknownDocument.version);t=nr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Rr(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return nr.newInvalidDocument(e)}}class bj extends iF{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new md(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Kn((a,d)=>Yt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const f=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,f.readTime)),d.isValidDocument()){const _=$P(this.Kn.M,d);i=i.add(a.path.popLast()),r+=RD(_)-f.size,t.push(this.Kn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=$P(this.Kn.M,d.convertToNoDocument(Nt.min()));t.push(this.Kn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),ve.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,d)=>{this.Gn.set(a,{size:d,readTime:r.get(a).readTime})}),r))}}function sF(n){return Di(n,"remoteDocumentGlobal")}function bf(n){return Di(n,"remoteDocumentsV14")}function Gv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oF(n,e){const t=e.documentKey.path.toArray();return[n,AD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aF(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Yt(t[a],r[a]),i)return i;return i=Yt(t.length,r.length),i||(i=Yt(t[t.length-2],r[r.length-2]),i||Yt(t[t.length-1],r[r.length-1]))}class wj{constructor(e){this.M=e}kt(e,t,r,i){const a=new SD("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PP,{unique:!0}),f.createObjectStore("documentMutations"),lF(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=ve.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),lF(e)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,_){return _.store("mutations").qt().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PP,{unique:!0});const I=_.store("mutations"),A=w.map(P=>I.put(P));return ve.waitFor(A)})}(e,a))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Qn(a))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(d=d.next(()=>this.Wn(a))),r<8&&i>=8&&(d=d.next(()=>this.zn(e,a))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.Hn(a))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:QU});_.createIndex("collectionPathOverlayIndex",XU,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",ej,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:jU});_.createIndex("documentKeyIndex",HU),_.createIndex("collectionGroupIndex",GU)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:ZU}).createIndex("sequenceNumberIndex",KU,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:YU}).createIndex("documentKeyIndex",JU,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=RD(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>ve.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(f=>ve.forEach(f,_=>{Ft(_.userId===a.userId);const w=nm(this.M,_);return XP(e,a.userId,w).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((d,f)=>{const _=new fn(d),w=[0,Cs(_)];a.push(t.get(w).next(I=>I?ve.resolve():t.put({targetId:0,path:Cs(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ve.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:zU});const r=t.store("collectionParents"),i=new OA,a=d=>{if(i.add(d)){const f=d.lastSegment(),_=d.popLast();return r.put({collectionId:f,parent:Cs(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,f)=>{const _=new fn(d);return a(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,f,_],w)=>{const I=Vl(f);return a(I.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=Vv(i),d=WP(this.M,a);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,d)=>{const f=t.store("remoteDocumentsV14"),_=(w=d,w.document?new tt(fn.fromString(w.document.name).popFirst(5)):w.noDocument?tt.fromSegments(w.noDocument.path):w.unknownDocument?tt.fromSegments(w.unknownDocument.path):gt()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(I))}).next(()=>ve.waitFor(i))}}function lF(n){n.createObjectStore("targetDocuments",{keyPath:WU}).createIndex("documentTargetsIndex",qU,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$U,{unique:!0}),n.createObjectStore("targetGlobal")}const FA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class LA{constructor(e,t,r,i,a,d,f,_,w,I,A=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=d,this.document=f,this.Xn=w,this.Zn=I,this.ts=A,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=P=>Promise.resolve(),!LA.vt())throw new Fe(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yj(this,i),this.hs=t+"main",this.M=new GP(_),this.ls=new Xa(this.hs,this.ts,new wj(this.M)),this.fs=new pj(this.referenceDelegate,this.M),this.ds=new vj(this.M),this._s=new oj,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===I&&$r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(ge.FAILED_PRECONDITION,FA);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new So(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Q.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Q.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Q.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(df(e))return We("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return We("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return $v(e).get("owner").next(t=>ve.resolve(this.Ps(t)))}Vs(e){return kD(e).delete(this.clientId)}vs(){var e=this;return(0,Q.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Di(r,"clientMetadata");return i.qt().next(a=>{const d=e.Ds(a,18e5),f=a.filter(_=>-1===d.indexOf(_));return ve.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ve.resolve(!0):$v(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Fe(ge.FAILED_PRECONDITION,FA);return!1}}return!(!this.networkEnabled||!this.inForeground)||kD(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&We("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Q.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new HP(t,So.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>kD(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return kA.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new fj(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return RA.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){We("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(d=this.ts)?nj:13===d?BP:12===d?tj:11===d?LP:void gt();var d;let f;return this.ls.runTransaction(e,i,a,_=>(f=new HP(_,this.es?this.es.next():So.A),"readwrite-primary"===t?this.Es(f).next(w=>!!w||this.As(f)).next(w=>{if(!w)throw $r(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Fe(ge.FAILED_PRECONDITION,VP);return r(f)}).next(w=>this.bs(f).next(()=>w)):this.$s(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}$s(e){return $v(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(ge.FAILED_PRECONDITION,FA)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $v(e).put("owner",t)}static vt(){return Xa.vt()}Rs(e){const t=$v(e);return t.get("owner").next(r=>this.Ps(r)?(We("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ve.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&($r(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Ot.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return We("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $r("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){$r("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $v(n){return Di(n,"owner")}function kD(n){return Di(n,"clientMetadata")}function BA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Dj{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return tt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):_A(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new tt(t)).next(r=>{let i=DA();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=DA();return this.indexManager.getCollectionParents(e,i).next(d=>ve.forEach(d,f=>{const _=(w=t,I=f.child(i),new Ou(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.zs(e,_,r).next(w=>{w.forEach((I,A)=>{a=a.insert(I,A)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const d of a)for(const f of d.mutations){const _=f.key;let w=i.get(_);null==w&&(w=nr.newInvalidDocument(_),i=i.insert(_,w)),bA(f,w,d.localWriteTime),w.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((a,d)=>{vA(t,d)||(i=i.remove(a))}),i))}}class VA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Cn(),i=Cn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new VA(e,t.fromCache,r,i)}}class uF{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(a=>a||this.ei(e,t,i,r)).next(a=>a||this.ni(e,t))}ti(e,t){return ve.resolve(null)}ei(e,t,r,i){return function dU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Nt.min())?this.ni(e,t):this.Zs.Ks(e,r).next(a=>{const d=this.si(t,a);return this.ii(t,d,r,i)?this.ni(e,t):(uA()<=la.in.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yA(t)),this.ri(e,d,t,Gk(i,-1)))})}si(e,t){let r=new Kn(nP(e));return t.forEach((i,a)=>{vA(e,a)&&(r=r.add(a))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ni(e,t){return uA()<=la.in.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",yA(t)),this.Zs.Qs(e,t,Qa.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(a=>(t.forEach(d=>{a=a.insert(d.key,d)}),a))}}class Tj{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new Or(Yt),this.ai=new md(a=>af(a),Iv),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Dj(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function cF(n,e,t,r){return new Tj(n,e,t,r)}function dF(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,Q.Z)(function*(n,e){const t=st(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.li(e),t.Bs.getAllMutationBatches(r))).next(a=>{const d=[],f=[];let _=Cn();for(const w of i){d.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.fi.Ks(r,_).next(w=>({di:w,removedBatchIds:d,addedBatchIds:f}))})})}),UA.apply(this,arguments)}function Ej(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.hi.newChangeBuffer({trackRemovals:!0});return function(d,f,_,w){const I=_.batch,A=I.keys();let P=ve.resolve();return A.forEach(L=>{P=P.next(()=>w.getEntry(f,L)).next(z=>{const ie=_.docVersions.get(L);Ft(null!==ie),z.version.compareTo(ie)<0&&(I.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),w.addEntry(z)))})}),P.next(()=>d.Bs.removeMutationBatch(f,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function hF(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Cj(n,e){const t=st(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const f=[];e.targetChanges.forEach((w,I)=>{const A=i.get(I);if(!A)return;f.push(t.fs.removeMatchingKeys(a,w.removedDocuments,I).next(()=>t.fs.addMatchingKeys(a,w.addedDocuments,I)));let P=A.withSequenceNumber(a.currentSequenceNumber);var L,z,ie;e.targetMismatches.has(I)?P=P.withResumeToken(ri.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):w.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(w.resumeToken,r)),i=i.insert(I,P),z=P,ie=w,(0===(L=A).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(a,P))});let _=da();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),f.push(fF(a,d,e.documentUpdates).next(w=>{_=w})),!r.isEqual(Nt.min())){const w=t.fs.getLastRemoteSnapshotVersion(a).next(I=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(w)}return ve.waitFor(f).next(()=>d.apply(a)).next(()=>t.fi.Gs(a,_)).next(()=>_)}).then(a=>(t.ui=i,a))}function fF(n,e,t){let r=Cn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=da();return t.forEach((d,f)=>{const _=i.get(d);f.isNoDocument()&&f.version.isEqual(Nt.min())?(e.removeEntry(d,f.readTime),a=a.insert(d,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),a=a.insert(d,f)):We("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",f.version)}),a})}function Ij(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function sm(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,ve.resolve(i)):t.fs.allocateTargetId(r).next(d=>(i=new _d(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function om(n,e,t){return jA.apply(this,arguments)}function jA(){return jA=(0,Q.Z)(function*(n,e,t){const r=st(n),i=r.ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!df(d))throw d;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),jA.apply(this,arguments)}function PD(n,e,t){const r=st(n);let i=Nt.min(),a=Cn();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,_,w){const I=st(f),A=I.ai.get(w);return void 0!==A?ve.resolve(I.ui.get(A)):I.fs.getTargetData(_,w)}(r,d,ca(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,f.targetId).next(_=>{a=_})}).next(()=>r.oi.Qs(d,e,t?i:Nt.min(),t?a:Cn())).next(f=>(mF(r,tP(e),f),{documents:f,_i:a})))}function pF(n,e){const t=st(n),r=st(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(d=>d?d.target:null))}function gF(n,e){const t=st(n),r=t.ci.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,Gk(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(mF(t,e,i),i))}function mF(n,e,t){let r=Nt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ci.set(e,r)}function HA(){return HA=(0,Q.Z)(function*(n,e,t,r){const i=st(n);let a=Cn(),d=da();for(const w of t){const I=e.wi(w.metadata.name);w.document&&(a=a.add(I));const A=e.mi(w);A.setReadTime(e.gi(w.metadata.readTime)),d=d.insert(I,A)}const f=i.hi.newChangeBuffer({trackRemovals:!0}),_=yield sm(i,(w=r,ca(Yg(fn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>fF(w,f,d).next(I=>(f.apply(w),I)).next(I=>i.fs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.fs.addMatchingKeys(w,a,_.targetId)).next(()=>i.fi.Gs(w,I)).next(()=>I)))}),HA.apply(this,arguments)}function Aj(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,Q.Z)(function*(n,e,t=Cn()){const r=yield sm(n,ca(MA(e.bundledQuery))),i=st(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=wi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i._s.saveNamedQuery(a,e);const f=r.withResumeToken(ri.EMPTY_BYTE_STRING,d);return i.ui=i.ui.insert(f.targetId,f),i.fs.updateTargetData(a,f).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),GA.apply(this,arguments)}class Nj{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return ve.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:wi(r.createTime)}),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:MA(r.bundledQuery),readTime:wi(r.readTime)}),ve.resolve();var r}}class Mj{constructor(){this.overlays=new Or(tt.comparator),this.Ii=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),ve.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ii.delete(r)),ve.resolve()}getOverlaysForCollection(e,t,r){const i=xv(),a=t.length+1,d=new tt(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Or((w,I)=>w-I);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let I=a.get(w.largestBatchId);null===I&&(I=xv(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=xv(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=i)););return ve.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new NA(t,r));let a=this.Ii.get(t);void 0===a&&(a=Cn(),this.Ii.set(t,a)),this.Ii.set(t,a.add(r.key))}}class $A{constructor(){this.Ti=new Kn(Ti.Ei),this.Ai=new Kn(Ti.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new Ti(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new Ti(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new tt(new fn([])),r=new Ti(t,e),i=new Ti(t,e+1),a=[];return this.Ai.forEachInRange([r,i],d=>{this.Pi(d),a.push(d.key)}),a}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new tt(new fn([])),r=new Ti(t,e),i=new Ti(t,e+1);let a=Cn();return this.Ai.forEachInRange([r,i],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new Ti(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ti{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return tt.comparator(e.key,t.key)||Yt(e.Ci,t.Ci)}static Ri(e,t){return Yt(e.Ci,t.Ci)||tt.comparator(e.key,t.key)}}class xj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Kn(Ti.Ei)}checkEmpty(e){return ve.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.xi;this.xi++;const d=new SA(a,t,r,i);this.Bs.push(d);for(const f of i)this.Ni=this.Ni.add(new Ti(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ve.resolve(d)}lookupMutationBatch(e,t){return ve.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),a=i<0?0:i;return ve.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return ve.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ti(t,0),i=new Ti(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],d=>{const f=this.ki(d.Ci);a.push(f)}),ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kn(Yt);return t.forEach(i=>{const a=new Ti(i,0),d=new Ti(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([a,d],f=>{r=r.add(f.Ci)})}),ve.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;tt.isDocumentKey(a)||(a=a.child(""));const d=new Ti(new tt(a),0);let f=new Kn(Yt);return this.Ni.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.Ci)),!0)},d),ve.resolve(this.Oi(f))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ft(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return ve.forEach(t.mutations,i=>{const a=new Ti(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new Ti(t,0),i=this.Ni.firstAfterOrEqual(r);return ve.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ve.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Rj{constructor(e){this.$i=e,this.docs=new Or(tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,d=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ve.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let r=da();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():nr.newInvalidDocument(i))}),ve.resolve(r)}getAllFromCollection(e,t,r){let i=da();const a=new tt(t.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||$k(eU(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return ve.resolve(i)}getAllFromCollectionGroup(e,t,r,i){gt()}Bi(e,t){return ve.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Oj(this)}getSize(e){return ve.resolve(this.size)}}class Oj extends iF{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),ve.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class kj{constructor(e){this.persistence=e,this.Li=new md(t=>af(t),Iv),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new $A,this.targetCount=0,this.Ki=yf.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),ve.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new yf(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.Tn(t),ve.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Li.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Li.delete(d),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ve.waitFor(a).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return ve.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),ve.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(d=>{a.push(i.markPotentiallyOrphaned(e,d))}),ve.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),ve.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return ve.resolve(r)}containsKey(e,t){return ve.resolve(this.qi.containsKey(t))}}class Pj{constructor(e,t){this.Gi={},this.overlays={},this.es=new So(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new kj(this),this.indexManager=new hj,this.ds=new Rj(r=>this.referenceDelegate.Qi(r)),this.M=new GP(t),this._s=new Nj(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new xj(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){We("MemoryPersistence","Starting transaction:",e);const i=new Fj(this.es.next());return this.referenceDelegate.ji(),r(i).next(a=>this.referenceDelegate.Wi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}zi(e,t){return ve.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class Fj extends UP{constructor(e){super(),this.currentSequenceNumber=e}}class WA{constructor(e){this.persistence=e,this.Hi=new $A,this.Ji=null}static Yi(e){return new WA(e)}get Xi(){if(this.Ji)return this.Ji;throw gt()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),ve.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),ve.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Xi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Xi,r=>{const i=tt.fromPath(r);return this.Zi(e,i).next(a=>{a||t.removeEntry(i,Nt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return ve.or([()=>ve.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function _F(n,e){return`firestore_clients_${n}_${e}`}function yF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function qA(n,e){return`firestore_targets_${n}_${e}`}class FD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Fe(i.error.code,i.error.message))),d?new FD(e,t,i.state,a):($r("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Fe(r.error.code,r.error.message))),a?new Wv(e,r.state,i):($r("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class LD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ED();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Pk(r.activeTargetIds[d]),a=a.add(r.activeTargetIds[d]);return i?new LD(e,a):($r("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zA{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zA(t.clientId,t.onlineState):($r("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ZA{constructor(){this.activeTargetIds=ED()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KA{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Or(Yt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=_F(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new ZA),this.dr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Q.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const a=e.getItem(_F(e.persistenceKey,i));if(a){const d=LD.tr(i,a);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(qA(this.persistenceKey,e));if(r){const i=Wv.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qA(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return We("SharedClientState","READ",e,t),t}setItem(e,t){We("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){We("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(We("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void $r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Q.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(a){let d=So.A;if(null!=a)try{const f=JSON.parse(a);Ft("number"==typeof f),d=f}catch(f){$r("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==So.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Fr(a)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new FD(this.currentUser,e,t,r),a=yF(this.persistenceKey,this.currentUser,e);this.setItem(a,i.er())}Ar(e){const t=yF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=qA(this.persistenceKey,e),a=new Wv(e,t,r);this.setItem(i,a.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return LD.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return FD.tr(new Fi(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return Wv.tr(i,t)}pr(e){return zA.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,Q.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);We("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),d=[],f=[];return a.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Lr(d,f).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=ED();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class vF{constructor(){this.Ur=new ZA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new ZA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lj{Kr(e){}shutdown(){}}class bF{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Bj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Vj{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Uj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,a){const d=this.ho(e,t);We("RestConnection","Sending: ",d,r);const f={};return this.lo(f,i,a),this.fo(e,d,f,r).then(_=>(We("RestConnection","Received: ",_),_),_=>{throw _v("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}_o(e,t,r,i,a){return this.co(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$g,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.uo}/v1/${t}:${Bj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,d)=>{const f=new BV;f.listenOnce(PV.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case lA.NO_ERROR:const w=f.getResponseJson();We("Connection","XHR received:",JSON.stringify(w)),a(w);break;case lA.TIMEOUT:We("Connection",'RPC "'+e+'" timed out'),d(new Fe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case lA.HTTP_ERROR:const I=f.getStatus();if(We("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const P=function(L){const z=L.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(z)>=0?z:ge.UNKNOWN}(A.status);d(new Fe(P,A.message))}else d(new Fe(ge.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Fe(ge.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{We("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=OV(),d=kV(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new LV({})),this.lo(f.initMessageHeaders,t,r),(0,Ot.uI)()||(0,Ot.b$)()||(0,Ot.d)()||(0,Ot.w1)()||(0,Ot.Mn)()||(0,Ot.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");We("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let I=!1,A=!1;const P=new Vj({Jr:z=>{A?We("Connection","Not sending because WebChannel is closed:",z):(I||(We("Connection","Opening WebChannel transport."),w.open(),I=!0),We("Connection","WebChannel sending:",z),w.send(z))},Yr:()=>w.close()}),L=(z,ie,we)=>{z.listen(ie,Ue=>{try{we(Ue)}catch(qe){setTimeout(()=>{throw qe},0)}})};return L(w,fD.EventType.OPEN,()=>{A||We("Connection","WebChannel transport opened.")}),L(w,fD.EventType.CLOSE,()=>{A||(A=!0,We("Connection","WebChannel transport closed"),P.ro())}),L(w,fD.EventType.ERROR,z=>{A||(A=!0,_v("Connection","WebChannel transport errored:",z),P.ro(new Fe(ge.UNAVAILABLE,"The operation could not be completed")))}),L(w,fD.EventType.MESSAGE,z=>{var ie;if(!A){const we=z.data[0];Ft(!!we);const Ue=we,qe=Ue.error||(null===(ie=Ue[0])||void 0===ie?void 0:ie.error);if(qe){We("Connection","WebChannel received error:",qe);const Qe=qe.status;let je=function(ut){const Mt=qr[ut];if(void 0!==Mt)return _P(Mt)}(Qe),rt=qe.message;void 0===je&&(je=ge.INTERNAL,rt="Unknown error status: "+Qe+" with message "+qe.message),A=!0,P.ro(new Fe(je,rt)),w.close()}else We("Connection","WebChannel received:",we),P.oo(we)}}),L(d,FV.STAT_EVENT,z=>{z.stat===Ik.PROXY?We("Connection","Detected buffering proxy"):z.stat===Ik.NOPROXY&&We("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.io()},0),P}}function wF(){return"undefined"!=typeof window?window:null}function BD(){return"undefined"!=typeof document?document:null}function qv(n){return new AU(n,!0)}class YA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class DF{constructor(e,t,r,i,a,d,f,_){this.Yn=e,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new YA(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Q.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Q.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,Q.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?($r(t.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Fe(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,Q.Z)(function*(){e.state=0,e.start()}))}jo(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jj extends DF{constructor(e,t,r,i,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=a}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function xU(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:gt(),i=e.targetChange.targetIds||[],a=function(_,w){return _.N?(Ft(void 0===w||"string"==typeof w),ri.fromBase64String(w||"")):(Ft(void 0===w||w instanceof Uint8Array),ri.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const w=void 0===_.code?ge.UNKNOWN:_P(_.code);return new Fe(w,_.message||"")}(d);t=new vP(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Bl(n,r.document.name),a=wi(r.document.updateTime),d=new rs({mapValue:{fields:r.document.fields}}),f=nr.newFoundDocument(i,a,d);t=new CD(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Bl(n,r.document),a=r.readTime?wi(r.readTime):Nt.min(),d=nr.newNoDocument(i,a);t=new CD([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Bl(n,r.document);t=new CD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return gt();{const r=e.filter,a=new vU(r.count||0);t=new yP(r.targetId,a)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Nt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Nt.min():a.readTime?wi(a.readTime):Nt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Fv(this.M),t.addTarget=function(i,a){let d;const f=a.target;return d=vD(f)?{documents:NP(i,f)}:{query:MP(i,f)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=TP(i,a.resumeToken):a.snapshotVersion.compareTo(Nt.min())>0&&(d.readTime=kv(i,a.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function OU(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Fv(this.M),t.removeTarget=e,this.Lo(t)}}class Hj extends DF{constructor(e,t,r,i,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=a,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function RU(n,e){return n&&n.length>0?(Ft(void 0!==e),n.map(t=>function(r,i){let a=wi(r.updateTime?r.updateTime:i);return a.isEqual(Nt.min())&&(a=wi(i)),new mU(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=wi(e.commitTime);return this.listener.tu(r,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Fv(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Lv(this.M,r))};this.Lo(t)}}class Gj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new Fe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(ge.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So._o(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(ge.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class $j{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?($r(t),this.uu=!1):We("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Wj{constructor(e,t,r,i,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr(f=>{r.enqueueAndForget((0,Q.Z)(function*(){var _;bd(d)&&(We("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Q.Z)(function*(w){const I=st(w);I.wu.add(4),yield am(I),I.yu.set("Unknown"),I.wu.delete(4),yield zv(I)}),function(w){return _.apply(this,arguments)})(d))}))}),this.yu=new $j(r,i)}}function zv(n){return JA.apply(this,arguments)}function JA(){return JA=(0,Q.Z)(function*(n){if(bd(n))for(const e of n.mu)yield e(!0)}),JA.apply(this,arguments)}function am(n){return QA.apply(this,arguments)}function QA(){return QA=(0,Q.Z)(function*(n){for(const e of n.mu)yield e(!1)}),QA.apply(this,arguments)}function VD(n,e){const t=st(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),tN(t)?eN(t):um(t).Mo()&&XA(t,e))}function Zv(n,e){const t=st(n),r=um(t);t._u.delete(e),r.Mo()&&TF(t,e),0===t._u.size&&(r.Mo()?r.$o():bd(t)&&t.yu.set("Unknown"))}function XA(n,e){n.pu.Z(e.targetId),um(n).Ho(e)}function TF(n,e){n.pu.Z(e),um(n).Jo(e)}function eN(n){n.pu=new CU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),um(n).start(),n.yu.au()}function tN(n){return bd(n)&&!um(n).ko()&&n._u.size>0}function bd(n){return 0===st(n).wu.size}function EF(n){n.pu=void 0}function qj(n){return nN.apply(this,arguments)}function nN(){return nN=(0,Q.Z)(function*(n){n._u.forEach((e,t)=>{XA(n,e)})}),nN.apply(this,arguments)}function zj(n,e){return rN.apply(this,arguments)}function rN(){return rN=(0,Q.Z)(function*(n,e){EF(n),tN(n)?(n.yu.lu(e),eN(n)):n.yu.set("Unknown")}),rN.apply(this,arguments)}function Zj(n,e,t){return iN.apply(this,arguments)}function iN(){return iN=(0,Q.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof vP&&2===e.state&&e.cause)try{yield(r=(0,Q.Z)(function*(i,a){const d=a.cause;for(const f of a.targetIds)i._u.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i._u.delete(f),i.pu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield UD(n,r)}else if(e instanceof CD?n.pu.ut(e):e instanceof yP?n.pu._t(e):n.pu.ht(e),!t.isEqual(Nt.min()))try{const r=yield hF(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const d=i.pu.yt(a);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i._u.get(_);w&&i._u.set(_,w.withResumeToken(f.resumeToken,a))}}),d.targetMismatches.forEach(f=>{const _=i._u.get(f);if(!_)return;i._u.set(f,_.withResumeToken(ri.EMPTY_BYTE_STRING,_.snapshotVersion)),TF(i,f);const w=new _d(_.target,f,1,_.sequenceNumber);XA(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){We("RemoteStore","Failed to raise snapshot:",r),yield UD(n,r)}var r}),iN.apply(this,arguments)}function UD(n,e,t){return sN.apply(this,arguments)}function sN(){return sN=(0,Q.Z)(function*(n,e,t){if(!df(e))throw e;n.wu.add(1),yield am(n),n.yu.set("Offline"),t||(t=()=>hF(n.localStore)),n.asyncQueue.enqueueRetryable((0,Q.Z)(function*(){We("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield zv(n)}))}),sN.apply(this,arguments)}function CF(n,e){return e().catch(t=>UD(n,t,e))}function lm(n){return oN.apply(this,arguments)}function oN(){return oN=(0,Q.Z)(function*(n){const e=st(n),t=wd(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Kj(e);)try{const i=yield Ij(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,Yj(e,i)}catch(i){yield UD(e,i)}IF(e)&&SF(e)}),oN.apply(this,arguments)}function Kj(n){return bd(n)&&n.du.length<10}function Yj(n,e){n.du.push(e);const t=wd(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function IF(n){return bd(n)&&!wd(n).ko()&&n.du.length>0}function SF(n){wd(n).start()}function Jj(n){return aN.apply(this,arguments)}function aN(){return aN=(0,Q.Z)(function*(n){wd(n).nu()}),aN.apply(this,arguments)}function Qj(n){return lN.apply(this,arguments)}function lN(){return lN=(0,Q.Z)(function*(n){const e=wd(n);for(const t of n.du)e.Zo(t.mutations)}),lN.apply(this,arguments)}function Xj(n,e,t){return uN.apply(this,arguments)}function uN(){return uN=(0,Q.Z)(function*(n,e,t){const r=n.du.shift(),i=AA.from(r,e,t);yield CF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield lm(n)}),uN.apply(this,arguments)}function eH(n,e){return cN.apply(this,arguments)}function cN(){return cN=(0,Q.Z)(function*(n,e){var t;e&&wd(n).Xo&&(yield(t=(0,Q.Z)(function*(r,i){if(mP(a=i.code)&&a!==ge.ABORTED){const d=r.du.shift();wd(r).Fo(),yield CF(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield lm(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),IF(n)&&SF(n)}),cN.apply(this,arguments)}function AF(n,e){return dN.apply(this,arguments)}function dN(){return dN=(0,Q.Z)(function*(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=bd(t);t.wu.add(3),yield am(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield zv(t)}),dN.apply(this,arguments)}function hN(n,e){return fN.apply(this,arguments)}function fN(){return fN=(0,Q.Z)(function*(n,e){const t=st(n);e?(t.wu.delete(2),yield zv(t)):e||(t.wu.add(2),yield am(t),t.yu.set("Unknown"))}),fN.apply(this,arguments)}function um(n){return n.Iu||(n.Iu=function(e,t,r){const i=st(e);return i.iu(),new jj(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:qj.bind(null,n),eo:zj.bind(null,n),zo:Zj.bind(null,n)}),n.mu.push(function(){var e=(0,Q.Z)(function*(t){t?(n.Iu.Fo(),tN(n)?eN(n):n.yu.set("Unknown")):(yield n.Iu.stop(),EF(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function wd(n){return n.Tu||(n.Tu=function(e,t,r){const i=st(e);return i.iu(),new Hj(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:Jj.bind(null,n),eo:eH.bind(null,n),eu:Qj.bind(null,n),tu:Xj.bind(null,n)}),n.mu.push(function(){var e=(0,Q.Z)(function*(t){t?(n.Tu.Fo(),yield lm(n)):(yield n.Tu.stop(),n.du.length>0&&(We("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class pN{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,a){const d=Date.now()+r,f=new pN(e,t,d,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cm(n,e){if($r("AsyncQueue",`${e}: ${n}`),df(n))return new Fe(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class dm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||tt.comparator(t.key,r.key):(t,r)=>tt.comparator(t.key,r.key),this.keyedMap=DA(),this.sortedSet=new Or(this.comparator)}static emptySet(e){return new dm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new dm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class NF{constructor(){this.Eu=new Or(tt.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):gt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class hm{constructor(e,t,r,i,a,d,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new hm(e,t,dm.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class tH{constructor(){this.Ru=void 0,this.listeners=[]}}class nH{constructor(){this.queries=new md(e=>eP(e),Sv),this.onlineState="Unknown",this.bu=new Set}}function gN(n,e){return mN.apply(this,arguments)}function mN(){return mN=(0,Q.Z)(function*(n,e){const t=st(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new tH),i)try{a.Ru=yield t.onListen(r)}catch(d){const f=cm(d,`Initialization of query '${yA(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Pu(t.onlineState),a.Ru&&e.Vu(a.Ru)&&vN(t)}),mN.apply(this,arguments)}function _N(n,e){return yN.apply(this,arguments)}function yN(){return yN=(0,Q.Z)(function*(n,e){const t=st(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),yN.apply(this,arguments)}function rH(n,e){const t=st(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Vu(i)&&(r=!0);d.Ru=i}}r&&vN(t)}function iH(n,e,t){const r=st(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function vN(n){n.bu.forEach(e=>{e.next()})}class bN{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new hm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=hm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class sH{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class MF{constructor(e){this.M=e}wi(e){return Bl(this.M,e)}mi(e){return e.metadata.exists?AP(this.M,e.document,!1):nr.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return wi(e)}}class oH{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xF(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=fn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new MF(this.M);for(const i of e)if(i.metadata.queries){const a=r.wi(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||Cn()).add(a);t.set(d,f)}}return t}complete(){var e=this;return(0,Q.Z)(function*(){const t=yield function Sj(n,e,t,r){return HA.apply(this,arguments)}(e.localStore,new MF(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield Aj(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function xF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class RF{constructor(e){this.key=e}}class OF{constructor(e){this.key=e}}class kF{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Cn(),this.mutatedKeys=Cn(),this.Gu=nP(e),this.Qu=new dm(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new NF,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,A)=>{const P=i.get(I),L=vA(this.query,A)?A:null,z=!!P&&this.mutatedKeys.has(P.key),ie=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let we=!1;P&&L?P.data.isEqual(L.data)?z!==ie&&(r.track({type:3,doc:L}),we=!0):this.Hu(P,L)||(r.track({type:2,doc:L}),we=!0,(_&&this.Gu(L,_)>0||w&&this.Gu(L,w)<0)&&(f=!0)):!P&&L?(r.track({type:0,doc:L}),we=!0):P&&!L&&(r.track({type:1,doc:P}),we=!0,(_||w)&&(f=!0)),we&&(L?(d=d.add(L),a=ie?a.add(I):a.delete(I)):(d=d.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const I="F"===this.query.limitType?d.last():d.first();d=d.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{Qu:d,zu:r,ii:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Au();a.sort((w,I)=>function(A,P){const L=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return L(A)-L(P)}(w.type,I.type)||this.Gu(w.doc,I.doc)),this.Ju(r);const d=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,_=f!==this.qu;return this.qu=f,0!==a.length||_?{snapshot:new hm(this.query,e.Qu,i,a,e.mutatedKeys,0===f,_,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new NF,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Cn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new OF(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new RF(r))}),t}ta(e){this.Uu=e._i,this.Ku=Cn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return hm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class aH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lH{constructor(e){this.key=e,this.na=!1}}class uH{constructor(e,t,r,i,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.sa={},this.ia=new md(f=>eP(f),Sv),this.ra=new Map,this.oa=new Set,this.ua=new Or(tt.comparator),this.aa=new Map,this.ca=new $A,this.ha={},this.la=new Map,this.fa=yf.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function cH(n,e){return wN.apply(this,arguments)}function wN(){return wN=(0,Q.Z)(function*(n,e){const t=$N(n);let r,i;const a=t.ia.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ea();else{const d=yield sm(t.localStore,ca(e));t.isPrimaryClient&&VD(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield DN(t,e,r,"current"===f)}return i}),wN.apply(this,arguments)}function DN(n,e,t,r){return TN.apply(this,arguments)}function TN(){return TN=(0,Q.Z)(function*(n,e,t,r){n._a=(I,A,P)=>{return(L=(0,Q.Z)(function*(z,ie,we,Ue){let qe=ie.view.Wu(we);qe.ii&&(qe=yield PD(z.localStore,ie.query,!1).then(({documents:rt})=>ie.view.Wu(rt,qe)));const Qe=Ue&&Ue.targetChanges.get(ie.targetId),je=ie.view.applyChanges(qe,z.isPrimaryClient,Qe);return ON(z,ie.targetId,je.Xu),je.snapshot}),function(z,ie,we,Ue){return L.apply(this,arguments)})(n,I,A,P);var L};const i=yield PD(n.localStore,e,!0),a=new kF(e,i._i),d=a.Wu(i.documents),f=Ov.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(d,n.isPrimaryClient,f);ON(n,t,_.Xu);const w=new aH(e,t,a);return n.ia.set(e,w),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),_.snapshot}),TN.apply(this,arguments)}function dH(n,e){return EN.apply(this,arguments)}function EN(){return EN=(0,Q.Z)(function*(n,e){const t=st(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(a=>!Sv(a,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield om(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zv(t.remoteStore,r.targetId),fm(t,r.targetId)}).catch(vf))):(fm(t,r.targetId),yield om(t.localStore,r.targetId,!0))}),EN.apply(this,arguments)}function CN(){return CN=(0,Q.Z)(function*(n,e,t){const r=WN(n);try{const i=yield function(a,d){const f=st(a),_=Rr.now(),w=d.reduce((A,P)=>A.add(P.key),Cn());let I;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.fi.Ks(A,w).next(P=>{I=P;const L=[];for(const z of d){const ie=yU(z,I.get(z.key));null!=ie&&L.push(new cf(z.key,ie,Hk(ie.value.mapValue),Wr.exists(!0)))}return f.Bs.addMutationBatch(A,_,L,d)})).then(A=>(A.applyToLocalDocumentSet(I),{batchId:A.batchId,changes:I}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,d,f){let _=a.ha[a.currentUser.toKey()];_||(_=new Or(Yt)),_=_.insert(d,f),a.ha[a.currentUser.toKey()]=_}(r,i.batchId,t),yield ku(r,i.changes),yield lm(r.remoteStore)}catch(i){const a=cm(i,"Failed to persist write");t.reject(a)}}),CN.apply(this,arguments)}function PF(n,e){return IN.apply(this,arguments)}function IN(){return IN=(0,Q.Z)(function*(n,e){const t=st(n);try{const r=yield Cj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const d=t.aa.get(a);d&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.na=!0:i.modifiedDocuments.size>0?Ft(d.na):i.removedDocuments.size>0&&(Ft(d.na),d.na=!1))}),yield ku(t,r,e)}catch(r){yield vf(r)}}),IN.apply(this,arguments)}function FF(n,e,t){const r=st(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((a,d)=>{const f=d.view.Pu(e);f.snapshot&&i.push(f.snapshot)}),function(a,d){const f=st(a);f.onlineState=d;let _=!1;f.queries.forEach((w,I)=>{for(const A of I.listeners)A.Pu(d)&&(_=!0)}),_&&vN(f)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fH(n,e,t){return SN.apply(this,arguments)}function SN(){return SN=(0,Q.Z)(function*(n,e,t){const r=st(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),a=i&&i.key;if(a){let d=new Or(tt.comparator);d=d.insert(a,nr.newNoDocument(a,Nt.min()));const f=Cn().add(a),_=new Rv(Nt.min(),new Map,new Kn(Yt),d,f);yield PF(r,_),r.ua=r.ua.remove(a),r.aa.delete(e),kN(r)}else yield om(r.localStore,e,!1).then(()=>fm(r,e,t)).catch(vf)}),SN.apply(this,arguments)}function pH(n,e){return AN.apply(this,arguments)}function AN(){return AN=(0,Q.Z)(function*(n,e){const t=st(n),r=e.batch.batchId;try{const i=yield Ej(t.localStore,e);RN(t,r,null),xN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ku(t,i)}catch(i){yield vf(i)}}),AN.apply(this,arguments)}function gH(n,e,t){return NN.apply(this,arguments)}function NN(){return NN=(0,Q.Z)(function*(n,e,t){const r=st(n);try{const i=yield function(a,d){const f=st(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.Bs.lookupMutationBatch(_,d).next(I=>(Ft(null!==I),w=I.keys(),f.Bs.removeMutationBatch(_,I))).next(()=>f.Bs.performConsistencyCheck(_)).next(()=>f.fi.Ks(_,w))})}(r.localStore,e);RN(r,e,t),xN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ku(r,i)}catch(i){yield vf(i)}}),NN.apply(this,arguments)}function MN(){return MN=(0,Q.Z)(function*(n,e){const t=st(n);bd(t.remoteStore)||We("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const d=st(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=cm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),MN.apply(this,arguments)}function xN(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function RN(n,e,t){const r=st(n);let i=r.ha[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function fm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||LF(n,r)})}function LF(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(Zv(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),kN(n))}function ON(n,e,t){for(const r of t)r instanceof RF?(n.ca.addReference(r.key,e),_H(n,r)):r instanceof OF?(We("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||LF(n,r.key)):gt()}function _H(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(We("SyncEngine","New document in limbo: "+t),n.oa.add(r),kN(n))}function kN(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new tt(fn.fromString(e)),r=n.fa.next();n.aa.set(r,new lH(t)),n.ua=n.ua.insert(t,r),VD(n.remoteStore,new _d(ca(Yg(t.path)),r,2,So.A))}}function ku(n,e,t){return PN.apply(this,arguments)}function PN(){return PN=(0,Q.Z)(function*(n,e,t){const r=st(n),i=[],a=[],d=[];var f;r.ia.isEmpty()||(r.ia.forEach((f,_)=>{d.push(r._a(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),i.push(w);const I=VA.Ys(_.targetId,w);a.push(I)}}))}),yield Promise.all(d),r.sa.zo(i),yield(f=(0,Q.Z)(function*(_,w){const I=st(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ve.forEach(w,P=>ve.forEach(P.Hs,L=>I.persistence.referenceDelegate.addReference(A,P.targetId,L)).next(()=>ve.forEach(P.Js,L=>I.persistence.referenceDelegate.removeReference(A,P.targetId,L)))))}catch(A){if(!df(A))throw A;We("LocalStore","Failed to update sequence numbers: "+A)}for(const A of w){const P=A.targetId;if(!A.fromCache){const L=I.ui.get(P),ie=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);I.ui=I.ui.insert(P,ie)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,a))}),PN.apply(this,arguments)}function yH(n,e){return FN.apply(this,arguments)}function FN(){return FN=(0,Q.Z)(function*(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=yield dF(t.localStore,e);t.currentUser=e,(i=t).la.forEach(d=>{d.forEach(f=>{f.reject(new Fe(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ku(t,r.di)}var i}),FN.apply(this,arguments)}function vH(n,e){const t=st(n),r=t.aa.get(e);if(r&&r.na)return Cn().add(r.key);{let i=Cn();const a=t.ra.get(e);if(!a)return i;for(const d of a){const f=t.ia.get(d);i=i.unionWith(f.view.ju)}return i}}function bH(n,e){return LN.apply(this,arguments)}function LN(){return LN=(0,Q.Z)(function*(n,e){const t=st(n),r=yield PD(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&ON(t,e.targetId,i.Xu),i}),LN.apply(this,arguments)}function wH(n,e){return BN.apply(this,arguments)}function BN(){return BN=(0,Q.Z)(function*(n,e){const t=st(n);return gF(t.localStore,e).then(r=>ku(t,r))}),BN.apply(this,arguments)}function DH(n,e,t,r){return VN.apply(this,arguments)}function VN(){return VN=(0,Q.Z)(function*(n,e,t,r){const i=st(n),a=yield function(d,f){const _=st(d),w=st(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.fn(I,f).next(A=>A?_.fi.Ks(I,A):ve.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield lm(i.remoteStore):"acknowledged"===t||"rejected"===t?(RN(i,e,r||null),xN(i,e),f=e,st(st(i.localStore).Bs)._n(f)):gt(),yield ku(i,a)):We("SyncEngine","Cannot apply mutation batch with id: "+e)}),VN.apply(this,arguments)}function UN(){return UN=(0,Q.Z)(function*(n,e){const t=st(n);if($N(t),WN(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield BF(t,r.toArray());t.da=!0,yield hN(t.remoteStore,!0);for(const a of i)VD(t.remoteStore,a)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(fm(t,d),om(t.localStore,d,!0))),Zv(t.remoteStore,d)}),yield i,yield BF(t,r),function(a){const d=st(a);d.aa.forEach((f,_)=>{Zv(d.remoteStore,_)}),d.ca.Si(),d.aa=new Map,d.ua=new Or(tt.comparator)}(t),t.da=!1,yield hN(t.remoteStore,!1)}}),UN.apply(this,arguments)}function BF(n,e,t){return jN.apply(this,arguments)}function jN(){return jN=(0,Q.Z)(function*(n,e,t){const r=st(n),i=[],a=[];for(const d of e){let f;const _=r.ra.get(d);if(_&&0!==_.length){f=yield sm(r.localStore,ca(_[0]));for(const w of _){const I=r.ia.get(w),A=yield bH(r,I);A.snapshot&&a.push(A.snapshot)}}else{const w=yield pF(r.localStore,d);f=yield sm(r.localStore,w),yield DN(r,VF(w),d,!1)}i.push(f)}return r.sa.zo(a),i}),jN.apply(this,arguments)}function VF(n){return Qk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function EH(n){const e=st(n);return st(st(e.localStore).persistence).Fs()}function CH(n,e,t,r){return HN.apply(this,arguments)}function HN(){return HN=(0,Q.Z)(function*(n,e,t,r){const i=st(n);if(i.da)return void We("SyncEngine","Ignoring unexpected query state notification.");const a=i.ra.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield gF(i.localStore,tP(a[0])),f=Rv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ku(i,d,f);break}case"rejected":yield om(i.localStore,e,!0),fm(i,e,r);break;default:gt()}}),HN.apply(this,arguments)}function IH(n,e,t){return GN.apply(this,arguments)}function GN(){return GN=(0,Q.Z)(function*(n,e,t){const r=$N(n);if(r.da){for(const i of e){if(r.ra.has(i)){We("SyncEngine","Adding an already active target "+i);continue}const a=yield pF(r.localStore,i),d=yield sm(r.localStore,a);yield DN(r,VF(a),d.targetId,!1),VD(r.remoteStore,d)}for(const i of t)r.ra.has(i)&&(yield om(r.localStore,i,!1).then(()=>{Zv(r.remoteStore,i),fm(r,i)}).catch(vf))}}),GN.apply(this,arguments)}function $N(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fH.bind(null,e),e.sa.zo=rH.bind(null,e.eventManager),e.sa.wa=iH.bind(null,e.eventManager),e}function WN(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gH.bind(null,e),e}class UF{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Q.Z)(function*(){t.M=qv(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return cF(this.persistence,new uF,e.initialUser,this.M)}ya(e){return new Pj(WA.Yi,this.M)}ga(e){return new vF}terminate(){var e=this;return(0,Q.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jF extends UF{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Q.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield WN(r.Ta.syncEngine),yield lm(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return cF(this.persistence,new uF,e.initialUser,this.M)}pa(e){return new mj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=BA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ys.withCacheSize(this.cacheSizeBytes):Ys.DEFAULT;return new LA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,wF(),BD(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new vF}}class AH extends jF{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Q.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof KA&&(r.sharedClientState.syncEngine={$r:DH.bind(null,i),Br:CH.bind(null,i),Lr:IH.bind(null,i),Fs:EH.bind(null,i),Fr:wH.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,Q.Z)(function*(d){yield function TH(n,e){return UN.apply(this,arguments)}(r.Ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}ga(e){const t=wF();if(!KA.vt(t))throw new Fe(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=BA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new KA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class qN{initialize(e,t){var r=this;return(0,Q.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>FF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=yH.bind(null,r.syncEngine),yield hN(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nH}createDatastore(e){const t=qv(e.databaseInfo.databaseId),r=new Uj(e.databaseInfo);return new Gj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>FF(this.syncEngine,f,0),d=bF.vt()?new bF:new Lj,new Wj(t,r,i,a,d);var t,r,i,a,d}createSyncEngine(e,t){return function(r,i,a,d,f,_,w){const I=new uH(r,i,a,d,f,_);return w&&(I.da=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Q.Z)(function*(t){const r=st(t);We("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield am(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function HF(n,e=10240){let t=0;return{read:()=>(0,Q.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Q.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class jD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class NH{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new bi,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,Q.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,Q.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,Q.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const a=yield e.Sa(i);return new sH(JSON.parse(a),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,Q.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,Q.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,Q.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class MH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Q.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Q.Z)(function*(a,d){const f=st(a),_=Fv(f.M)+"/documents",w={documents:d.map(L=>Pv(f.M,L))},I=yield f._o("BatchGetDocuments",_,w),A=new Map;I.forEach(L=>{const z=function MU(n,e){return"found"in e?function(t,r){Ft(!!r.found);const i=Bl(t,r.found.name),a=wi(r.found.updateTime),d=new rs({mapValue:{fields:r.found.fields}});return nr.newFoundDocument(i,a,d)}(n,e):"missing"in e?function(t,r){Ft(!!r.missing),Ft(!!r.readTime);const i=Bl(t,r.missing),a=wi(r.readTime);return nr.newNoDocument(i,a)}(n,e):gt()}(f.M,L);A.set(z.key.toString(),z)});const P=[];return d.forEach(L=>{const z=A.get(L.toString());Ft(!!z),P.push(z)}),P}),function(a,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Q.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=tt.fromPath(i);e.mutations.push(new wA(a,e.precondition(a)))}),yield(r=(0,Q.Z)(function*(i,a){const d=st(i),f=Fv(d.M)+"/documents",_={writes:a.map(w=>Lv(d.M,w))};yield d.co("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gt();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Wr.updateTime(t):Wr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Fe(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wr.updateTime(t)}return Wr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xH{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new YA(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,Q.Z)(function*(){const t=new MH(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Ma(a)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!bv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!mP(t)}return!1}}class RH{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fi.UNAUTHENTICATED,this.clientId=Mk.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Q.Z)(function*(f){We("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(We("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Q.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Q.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=cm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function GF(n,e){return zN.apply(this,arguments)}function zN(){return zN=(0,Q.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Q.Z)(function*(a){r.isEqual(a)||(yield dF(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),zN.apply(this,arguments)}function $F(n,e){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,Q.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield KN(n);We("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>AF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>AF(e.remoteStore,a)),n.onlineComponents=e}),ZN.apply(this,arguments)}function KN(n){return YN.apply(this,arguments)}function YN(){return YN=(0,Q.Z)(function*(n){return n.offlineComponents||(We("FirestoreClient","Using default OfflineComponentProvider"),yield GF(n,new UF)),n.offlineComponents}),YN.apply(this,arguments)}function HD(n){return JN.apply(this,arguments)}function JN(){return JN=(0,Q.Z)(function*(n){return n.onlineComponents||(We("FirestoreClient","Using default OnlineComponentProvider"),yield $F(n,new qN)),n.onlineComponents}),JN.apply(this,arguments)}function WF(n){return KN(n).then(e=>e.persistence)}function QN(n){return KN(n).then(e=>e.localStore)}function qF(n){return HD(n).then(e=>e.remoteStore)}function XN(n){return HD(n).then(e=>e.syncEngine)}function pm(n){return eM.apply(this,arguments)}function eM(){return eM=(0,Q.Z)(function*(n){const e=yield HD(n),t=e.eventManager;return t.onListen=cH.bind(null,e.syncEngine),t.onUnlisten=dH.bind(null,e.syncEngine),t}),eM.apply(this,arguments)}function zF(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function(i,a,d,f,_){const w=new jD({next:A=>{a.enqueueAndForget(()=>_N(i,I));const P=A.docs.has(d);!P&&A.fromCache?_.reject(new Fe(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&f&&"server"===f.source?_.reject(new Fe(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),I=new bN(Yg(d.path),w,{includeMetadataChanges:!0,ku:!0});return gN(i,I)}(yield pm(n),n.asyncQueue,e,t,r)})),r.promise}function ZF(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function(i,a,d,f,_){const w=new jD({next:A=>{a.enqueueAndForget(()=>_N(i,I)),A.fromCache&&"server"===f.source?_.reject(new Fe(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),I=new bN(d,w,{includeMetadataChanges:!0,ku:!0});return gN(i,I)}(yield pm(n),n.asyncQueue,e,t,r)})),r.promise}const KF=new Map;function tM(n,e,t){if(!t)throw new Fe(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YF(n,e,t,r){if(!0===e&&!0===r)throw new Fe(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JF(n){if(!tt.isDocumentKey(n))throw new Fe(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QF(n){if(tt.isDocumentKey(n))throw new Fe(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":gt()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=GD(n);throw new Fe(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function XF(n,e){if(e<=0)throw new Fe(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class eL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,YF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kv{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eL({}),this._settingsFrozen=!1,e instanceof Ru?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Fe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(i.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new jV;switch(t.type){case"gapi":const r=t.client;return Ft(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new WV(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=KF.get(e);t&&(We("ComponentProvider","Removing Datastore"),KF.delete(e),t.terminate())}(this),Promise.resolve()}}class rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class is{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class Ul extends is{constructor(e,t,r){super(e,t,Yg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new tt(e))}withConverter(e){return new Ul(this.firestore,e,this._path)}}function tL(n,e,...t){if(n=(0,Ot.m9)(n),tM("collection","path",e),n instanceof Kv){const r=fn.fromString(e,...t);return QF(r),new Ul(n,null,r)}{if(!(n instanceof rr||n instanceof Ul))throw new Fe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return QF(r),new Ul(n.firestore,null,r)}}function $D(n,e,...t){if(n=(0,Ot.m9)(n),1===arguments.length&&(e=Mk.R()),tM("doc","path",e),n instanceof Kv){const r=fn.fromString(e,...t);return JF(r),new rr(n,null,new tt(r))}{if(!(n instanceof rr||n instanceof Ul))throw new Fe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return JF(r),new rr(n.firestore,n instanceof Ul?n.converter:null,new tt(r))}}function nL(n,e){return n=(0,Ot.m9)(n),e=(0,Ot.m9)(e),(n instanceof rr||n instanceof Ul)&&(e instanceof rr||e instanceof Ul)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function rL(n,e){return n=(0,Ot.m9)(n),e=(0,Ot.m9)(e),n instanceof is&&e instanceof is&&n.firestore===e.firestore&&Sv(n._query,e._query)&&n.converter===e.converter}class GH{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new YA(this,"async_queue_retry"),this.Qa=()=>{const t=BD();t&&We("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=BD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=BD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new bi;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,Q.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!df(t))throw t;We("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,$r("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=pN.createAndSchedule(this,e,t,r,a=>this.Ha(a));return this.La.push(i),i}ja(){this.Ua&&gt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,Q.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function nM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class $H{constructor(){this._progressObserver={},this._taskCompletionResolver=new bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class lr extends Kv{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new GH,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||iL(this),this._firestoreClient.terminate()}}function zr(n){return n._firestoreClient||iL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function iL(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new JV(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new RH(n._authCredentials,n._appCheckCredentials,n._queue,r)}function sL(n,e,t){const r=new bi;return n.asyncQueue.enqueue((0,Q.Z)(function*(){try{yield GF(n,t),yield $F(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===ge.FAILED_PRECONDITION||a.code===ge.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function oL(n){if(n._initialized||n._terminated)throw new Fe(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(ri.fromBase64String(e))}catch(t){throw new Fe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wf{constructor(e){this._methodName=e}}class WD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const eG=/^__.*__$/;class tG{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new cf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nv(e,this.data,t,this.fieldTransforms)}}class aL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class qD{constructor(e,t,r,i,a,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new qD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return KD(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(lL(this.ec)&&eG.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class nG{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||qv(e)}lc(e,t,r,i=!1){return new qD({ec:e,methodName:t,hc:r,path:ni.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Df(n){const e=n._freezeSettings(),t=qv(n._databaseId);return new nG(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zD(n,e,t,r,i,a={}){const d=n.lc(a.merge||a.mergeFields?2:0,e,t,i);oM("Data must be an object, but it was:",d,r);const f=dL(r,d);let _,w;if(a.merge)_=new qg(d.fieldMask),w=d.fieldTransforms;else if(a.mergeFields){const I=[];for(const A of a.mergeFields){const P=aM(e,A,t);if(!d.contains(P))throw new Fe(ge.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);fL(I,P)||I.push(P)}_=new qg(I),w=d.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,w=d.fieldTransforms;return new tG(new rs(f),_,w)}class Yv extends wf{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yv}}function uL(n,e,t){return new qD({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class rM extends wf{_toFieldTransform(e){return new Av(e.path,new Qg)}isEqual(e){return e instanceof rM}}class rG extends wf{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=uL(this,e,!0),r=this.fc.map(a=>Tf(a,t)),i=new lf(r);return new Av(e.path,i)}isEqual(e){return this===e}}class iG extends wf{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=uL(this,e,!0),r=this.fc.map(a=>Tf(a,t)),i=new uf(r);return new Av(e.path,i)}isEqual(e){return this===e}}class sG extends wf{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Xg(e.M,sP(e.M,this.dc));return new Av(e.path,t)}isEqual(e){return this===e}}function iM(n,e,t,r){const i=n.lc(1,e,t);oM("Data must be an object, but it was:",i,r);const a=[],d=rs.empty();ef(r,(_,w)=>{const I=ZD(e,_,t);w=(0,Ot.m9)(w);const A=i.oc(I);if(w instanceof Yv)a.push(I);else{const P=Tf(w,A);null!=P&&(a.push(I),d.set(I,P))}});const f=new qg(a);return new aL(d,f,i.fieldTransforms)}function sM(n,e,t,r,i,a){const d=n.lc(1,e,t),f=[aM(e,r,t)],_=[i];if(a.length%2!=0)throw new Fe(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<a.length;P+=2)f.push(aM(e,a[P])),_.push(a[P+1]);const w=[],I=rs.empty();for(let P=f.length-1;P>=0;--P)if(!fL(w,f[P])){const L=f[P];let z=_[P];z=(0,Ot.m9)(z);const ie=d.oc(L);if(z instanceof Yv)w.push(L);else{const we=Tf(z,ie);null!=we&&(w.push(L),I.set(L,we))}}const A=new qg(w);return new aL(I,A,d.fieldTransforms)}function cL(n,e,t,r=!1){return Tf(t,n.lc(r?4:3,e))}function Tf(n,e){if(hL(n=(0,Ot.m9)(n)))return oM("Unsupported field value:",e,n),dL(n,e);if(n instanceof wf)return function(t,r){if(!lL(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const d of t){let f=Tf(d,r.uc(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ot.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sP(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Rr.fromDate(t);return{timestampValue:kv(r.M,i)}}if(t instanceof Rr){const i=new Rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:kv(r.M,i)}}if(t instanceof WD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jl)return{bytesValue:TP(r.M,t._byteString)};if(t instanceof rr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ac(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:TA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${GD(t)}`)}(n,e)}function dL(n,e){const t={};return Ok(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ef(n,(r,i)=>{const a=Tf(i,e.sc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function hL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Rr||n instanceof WD||n instanceof jl||n instanceof rr||n instanceof wf)}function oM(n,e,t){if(!hL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=GD(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function aM(n,e,t){if((e=(0,Ot.m9)(e))instanceof Pu)return e._internalPath;if("string"==typeof e)return ZD(n,e);throw KD("Field path arguments must be of type string or ",n,!1,void 0,t)}const oG=new RegExp("[~\\*/\\[\\]]");function ZD(n,e,t){if(e.search(oG)>=0)throw KD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pu(...e.split("."))._internalPath}catch(r){throw KD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function KD(n,e,t,r,i){const a=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||d)&&(_+=" (found",a&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new Fe(ge.INVALID_ARGUMENT,f+n+_)}function fL(n,e){return n.some(t=>t.isEqual(e))}class Jv{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(YD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class aG extends Jv{data(){return super.data()}}function YD(n,e){return"string"==typeof e?ZD(n,e):e instanceof Pu?e._internalPath:e._delegate._internalPath}class Ef{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fu extends Jv{constructor(e,t,r,i,a,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(YD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Qv extends Fu{data(e={}){return super.data(e)}}class Dd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ef(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qv(this._firestore,this._userDataWriter,r.key,r,new Ef(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Qv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ef(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new Qv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ef(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==d.type&&(_=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),w=a.indexOf(d.doc.key)),{type:lG(d.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function pL(n,e){return n instanceof Fu&&e instanceof Fu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Dd&&e instanceof Dd&&n._firestore===e._firestore&&rL(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function gL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xv{}function Td(n,...e){for(const t of e)n=t._apply(n);return n}class uG extends Xv{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Df(e.firestore),r=function(i,a,d,f,_,w,I){let A;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Fe(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){wL(I,w);const L=[];for(const z of I)L.push(bL(f,i,z));A={arrayValue:{values:L}}}else A=bL(f,i,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||wL(I,w),A=cL(d,"where",I,"in"===w||"not-in"===w);const P=Bi.create(_,w,A);return function(L,z){if(z.S()){const we=mA(L);if(null!==we&&!we.isEqual(z.field))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${we.toString()}' and '${z.field.toString()}'`);const Ue=gA(L);null!==Ue&&DL(0,z.field,Ue)}const ie=function(we,Ue){for(const qe of we.filters)if(Ue.indexOf(qe.op)>=0)return qe.op;return null}(L,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(z.op));if(null!==ie)throw new Fe(ge.INVALID_ARGUMENT,ie===z.op?`Invalid query. You cannot use more than one '${z.op.toString()}' filter.`:`Invalid query. You cannot use '${z.op.toString()}' filters with '${ie.toString()}' filters.`)}(i,P),P}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new is(e.firestore,e.converter,function(i,a){const d=i.filters.concat([a]);return new Ou(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class dG extends Xv{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Fe(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Kg(i,a);return function(f,_){if(null===gA(f)){const w=mA(f);null!==w&&DL(0,w,_.field)}}(r,d),d}(e._query,this._c,this.gc);return new is(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Ou(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class mL extends Xv{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new is(e.firestore,e.converter,Xk(e._query,this.yc,this.Ic))}}class _L extends Xv{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=vL(e,this.type,this.Tc,this.Ec);return new is(e.firestore,e.converter,(i=t,new Ou((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class yL extends Xv{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=vL(e,this.type,this.Tc,this.Ec);return new is(e.firestore,e.converter,(i=t,new Ou((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function vL(n,e,t,r){if(t[0]=(0,Ot.m9)(t[0]),t[0]instanceof Jv)return function(i,a,d,f,_){if(!f)throw new Fe(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const I of Jg(i))if(I.field.isKeyField())w.push(rf(a,f.key));else{const A=f.data.field(I.field);if(dA(A))throw new Fe(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const P=I.field.canonicalString();throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}w.push(A)}return new gd(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Df(n.firestore);return function(a,d,f,_,w,I){const A=a.explicitOrderBy;if(w.length>A.length)throw new Fe(ge.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let L=0;L<w.length;L++){const z=w[L];if(A[L].field.isKeyField()){if("string"!=typeof z)throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof z}`);if(!_A(a)&&-1!==z.indexOf("/"))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${z}' contains a slash.`);const ie=a.path.child(fn.fromString(z));if(!tt.isDocumentKey(ie))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const we=new tt(ie);P.push(rf(d,we))}else{const ie=cL(f,_,z);P.push(ie)}}return new gd(P,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function bL(n,e,t){if("string"==typeof(t=(0,Ot.m9)(t))){if(""===t)throw new Fe(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_A(e)&&-1!==t.indexOf("/"))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(fn.fromString(t));if(!tt.isDocumentKey(r))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rf(n,new tt(r))}if(t instanceof rr)return rf(n,t._key);throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${GD(t)}.`)}function wL(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(ge.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function DL(n,e,t){if(!t.isEqual(e))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const vG={maxAttempts:5};class lM{convertValue(e,t="none"){switch(nf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gt()}}convertObject(e,t){const r={};return ef(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new WD(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=kk(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vv(e));default:return null}}convertTimestamp(e){const t=hd(e);return new Rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=fn.fromString(e);Ft(OP(r));const i=new Ru(r.get(1),r.get(3)),a=new tt(r.popFirst(5));return i.isEqual(t)||$r(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function JD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class bG extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}class TL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Df(e)}set(e,t,r){this._verifyNotCommitted();const i=Ed(e,this._firestore),a=JD(i.converter,t,r),d=zD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Wr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Ed(e,this._firestore);let d;return d="string"==typeof(t=(0,Ot.m9)(t))||t instanceof Pu?sM(this._dataReader,"WriteBatch.update",a._key,t,r,i):iM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,Wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ed(e,this._firestore);return this._mutations=this._mutations.concat(new Mv(t._key,Wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ed(n,e){if((n=(0,Ot.m9)(n)).firestore!==e)throw new Fe(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Cf extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}function EL(n,e,t){n=ln(n,rr);const r=ln(n.firestore,lr),i=JD(n.converter,e,t);return gm(r,[zD(Df(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Wr.none())])}function CL(n,e,t,...r){n=ln(n,rr);const i=ln(n.firestore,lr),a=Df(i);let d;return d="string"==typeof(e=(0,Ot.m9)(e))||e instanceof Pu?sM(a,"updateDoc",n._key,e,t,r):iM(a,"updateDoc",n._key,e),gm(i,[d.toMutation(n._key,Wr.exists(!0))])}function IL(n,...e){var t,r,i;n=(0,Ot.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||nM(e[d])||(a=e[d],d++);const f={includeMetadataChanges:a.includeMetadataChanges};if(nM(e[d])){const A=e[d];e[d]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[d+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[d+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let _,w,I;if(n instanceof rr)w=ln(n.firestore,lr),I=Yg(n._key.path),_={next:A=>{e[d]&&e[d](uM(w,n,A))},error:e[d+1],complete:e[d+2]};else{const A=ln(n,is);w=ln(A.firestore,lr),I=A._query;const P=new Cf(w);_={next:L=>{e[d]&&e[d](new Dd(w,P,A,L))},error:e[d+1],complete:e[d+2]},gL(n._query)}return function(A,P,L,z){const ie=new jD(z),we=new bN(P,ie,L);return A.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return gN(yield pm(A),we)})),()=>{ie.Aa(),A.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return _N(yield pm(A),we)}))}}(zr(w),I,f,_)}function gm(n,e){return function(t,r){const i=new bi;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function hH(n,e,t){return CN.apply(this,arguments)}(yield XN(t),r,i)})),i.promise}(zr(n),e)}function uM(n,e,t){const r=t.docs.get(e._key),i=new Cf(n);return new Fu(n,i,e._key,r,new Ef(t.hasPendingWrites,t.fromCache),e.converter)}class MG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Df(e)}get(e){const t=Ed(e,this._firestore),r=new bG(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return gt();const a=i[0];if(a.isFoundDocument())return new Jv(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Jv(this._firestore,r,t._key,null,t.converter);throw gt()})}set(e,t,r){const i=Ed(e,this._firestore),a=JD(i.converter,t,r),d=zD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const a=Ed(e,this._firestore);let d;return d="string"==typeof(t=(0,Ot.m9)(t))||t instanceof Pu?sM(this._dataReader,"Transaction.update",a._key,t,r,i):iM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=Ed(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ed(e,this._firestore),r=new Cf(this._firestore);return super.get(e).then(i=>new Fu(this._firestore,r,t._key,i._document,new Ef(!1,!1),t.converter))}}function cM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function AL(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function NL(){if(!function KV(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){$g=ws.SDK_VERSION,(0,ws._registerComponent)(new Au.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new lr(i,new GV(t.getProvider("auth-internal")),new qV(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,ws.registerVersion)(Sk,"3.4.9",n),(0,ws.registerVersion)(Sk,"3.4.9","esm2017")}();class e0{constructor(e){this._delegate=e}static fromBase64String(e){return NL(),new e0(jl.fromBase64String(e))}static fromUint8Array(e){return AL(),new e0(jl.fromUint8Array(e))}toBase64(){return NL(),this._delegate.toBase64()}toUint8Array(){return AL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dM(n){return function VG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class UG{enableIndexedDbPersistence(e,t){return function qH(n,e){oL(n=ln(n,lr));const t=zr(n),r=n._freezeSettings(),i=new qN;return sL(t,i,new jF(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function zH(n){oL(n=ln(n,lr));const e=zr(n),t=n._freezeSettings(),r=new qN;return sL(e,r,new AH(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ZH(n){if(n._initialized&&!n._terminated)throw new Fe(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Q.Z)(function*(){try{yield(t=(0,Q.Z)(function*(r){if(!Xa.vt())return Promise.resolve();const i=r+"main";yield Xa.delete(i)}),function(r){return t.apply(this,arguments)})(BA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ML{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ru||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&_v("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function jH(n,e,t,r={}){var i;const a=(n=ln(n,Kv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&_v("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=Fi.MOCK_USER;else{d=(0,Ot.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Fe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Fi(_)}n._authCredentials=new HV(new Ak(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function YH(n){return function OH(n){return n.asyncQueue.enqueue((0,Q.Z)(function*(){const e=yield WF(n),t=yield qF(n);return e.setNetworkEnabled(!0),function(r){const i=st(r);return i.wu.delete(0),zv(i)}(t)}))}(zr(n=ln(n,lr)))}(this._delegate)}disableNetwork(){return function JH(n){return function kH(n){return n.asyncQueue.enqueue((0,Q.Z)(function*(){const e=yield WF(n),t=yield qF(n);return e.setNetworkEnabled(!1),(r=(0,Q.Z)(function*(i){const a=st(i);a.wu.add(0),yield am(a),a.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(zr(n=ln(n,lr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,YF("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function KH(n){return function(e){const t=new bi;return e.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function mH(n,e){return MN.apply(this,arguments)}(yield XN(e),t)})),t.promise}(zr(n=ln(n,lr)))}(this._delegate)}onSnapshotsInSync(e){return function NG(n,e){return function LH(n,e){const t=new jD(e);return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return r=yield pm(n),i=t,st(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return r=yield pm(n),i=t,void st(r).bu.delete(i);var r,i}))}}(zr(n=ln(n,lr)),nM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new mm(this,tL(this._delegate,e))}catch(t){throw Is(t,"collection()","Firestore.collection()")}}doc(e){try{return new ha(this,$D(this._delegate,e))}catch(t){throw Is(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ss(this,function HH(n,e){if(n=ln(n,Kv),tM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new is(n,null,(t=e,new Ou(fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Is(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function xG(n,e,t){n=ln(n,lr);const r=Object.assign(Object.assign({},vG),t);return function(i){if(i.maxAttempts<1)throw new Fe(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function BH(n,e,t){const r=new bi;return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){const i=yield(a=n,HD(a).then(d=>d.datastore));var a;new xH(n.asyncQueue,i,t,e,r).run()})),r.promise}(zr(n),i=>e(new MG(n,i)),r)}(this._delegate,t=>e(new xL(this,t)))}batch(){return zr(this._delegate),new RL(new TL(this._delegate,e=>gm(this._delegate,e)))}loadBundle(e){return function QH(n,e){const t=zr(n=ln(n,lr)),r=new $H;return function VH(n,e,t,r){const i=function(a,d){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return HF(_,w);if(_ instanceof ArrayBuffer)return HF(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new NH(_,d);var _}(t,qv(e));n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){!function SH(n,e,t){const r=st(n);var i;(i=(0,Q.Z)(function*(a,d,f){try{const _=yield d.getMetadata();if(yield function(P,L){const z=st(P),ie=wi(L.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",we=>z._s.getBundleMetadata(we,L.id)).then(we=>!!we&&we.createTime.compareTo(ie)>=0)}(a.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(P=_).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);f._updateProgress(xF(_));const w=new oH(_,a.localStore,d.M);let I=yield d.ma();for(;I;){const P=yield w.Fu(I);P&&f._updateProgress(P),I=yield d.ma()}const A=yield w.complete();return yield ku(a,A.Lu,void 0),yield function(P,L){const z=st(P);return z.persistence.runTransaction("Save bundle","readwrite",ie=>z._s.saveBundleMetadata(ie,L))}(a.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Bu)}catch(_){return _v("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var P}),function(a,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield XN(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function XH(n,e){return function UH(n,e){return n.asyncQueue.enqueue((0,Q.Z)(function*(){return function(t,r){const i=st(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield QN(n),e)}))}(zr(n=ln(n,lr)),e).then(t=>t?new is(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ss(this,t):null)}}class QD extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new e0(new jl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ha.forKey(t,this.firestore,null)}}class xL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new QD(e)}get(e){const t=Sf(e);return this._delegate.get(t).then(r=>new t0(this._firestore,new Fu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Sf(e);return r?(cM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Sf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Sf(e);return this._delegate.delete(t),this}}class RL{constructor(e){this._delegate=e}set(e,t,r){const i=Sf(e);return r?(cM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Sf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Sf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class If{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Qv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new n0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=If.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new If(e,new QD(e),t),i.set(t,a)),a}}If.INSTANCES=new WeakMap;class ha{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new QD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ha(t,new rr(t._delegate,r,new tt(e)))}static forKey(e,t,r){return new ha(t,new rr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new mm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new mm(this.firestore,tL(this._delegate,e))}catch(t){throw Is(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ot.m9)(e))instanceof rr&&nL(this._delegate,e)}set(e,t){t=cM("DocumentReference.set",t);try{return t?EL(this._delegate,e,t):EL(this._delegate,e)}catch(r){throw Is(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?CL(this._delegate,e):CL(this._delegate,e,t,...r)}catch(i){throw Is(i,"updateDoc()","DocumentReference.update()")}}delete(){return function SG(n){return gm(ln(n.firestore,lr),[new Mv(n._key,Wr.none())])}(this._delegate)}onSnapshot(...e){const t=OL(e),r=kL(e,i=>new t0(this.firestore,new Fu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return IL(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function DG(n){n=ln(n,rr);const e=ln(n.firestore,lr),t=zr(e),r=new Cf(e);return function PH(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return(r=(0,Q.Z)(function*(i,a,d){try{const f=yield function(_,w){const I=st(_);return I.persistence.runTransaction("read document","readonly",A=>I.fi.Ls(A,w))}(i,a);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Fe(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=cm(f,`Failed to get document '${a} from cache`);d.reject(_)}}),function(i,a,d){return r.apply(this,arguments)})(yield QN(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Fu(e,r,n._key,i,new Ef(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function TG(n){n=ln(n,rr);const e=ln(n.firestore,lr);return zF(zr(e),n._key,{source:"server"}).then(t=>uM(e,n,t))}(this._delegate):function wG(n){n=ln(n,rr);const e=ln(n.firestore,lr);return zF(zr(e),n._key).then(t=>uM(e,n,t))}(this._delegate),t.then(r=>new t0(this.firestore,new Fu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ha(this.firestore,this._delegate.withConverter(e?If.getInstance(this.firestore,e):null))}}function Is(n,e,t){return n.message=n.message.replace(e,t),n}function OL(n){for(const e of n)if("object"==typeof e&&!dM(e))return e;return{}}function kL(n,e){var t,r;let i;return i=dM(n[0])?n[0]:dM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class t0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ha(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return pL(this._delegate,e._delegate)}}class n0 extends t0{data(e){const t=this._delegate.data(e);return function UV(n,e){n||gt()}(void 0!==t),t}}class Ss{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new QD(e)}where(e,t,r){try{return new Ss(this.firestore,Td(this._delegate,function cG(n,e,t){const r=e,i=YD("where",n);return new uG(i,r,t)}(e,t,r)))}catch(i){throw Is(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ss(this.firestore,Td(this._delegate,function hG(n,e="asc"){const t=e,r=YD("orderBy",n);return new dG(r,t)}(e,t)))}catch(r){throw Is(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ss(this.firestore,Td(this._delegate,function fG(n){return XF("limit",n),new mL("limit",n,"F")}(e)))}catch(t){throw Is(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ss(this.firestore,Td(this._delegate,function pG(n){return XF("limitToLast",n),new mL("limitToLast",n,"L")}(e)))}catch(t){throw Is(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ss(this.firestore,Td(this._delegate,function gG(...n){return new _L("startAt",n,!0)}(...e)))}catch(t){throw Is(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ss(this.firestore,Td(this._delegate,function mG(...n){return new _L("startAfter",n,!1)}(...e)))}catch(t){throw Is(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ss(this.firestore,Td(this._delegate,function _G(...n){return new yL("endBefore",n,!1)}(...e)))}catch(t){throw Is(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ss(this.firestore,Td(this._delegate,function yG(...n){return new yL("endAt",n,!0)}(...e)))}catch(t){throw Is(t,"endAt()","Query.endAt()")}}isEqual(e){return rL(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function CG(n){n=ln(n,is);const e=ln(n.firestore,lr),t=zr(e),r=new Cf(e);return function FH(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return(r=(0,Q.Z)(function*(i,a,d){try{const f=yield PD(i,a,!0),_=new kF(a,f._i),w=_.Wu(f.documents),I=_.applyChanges(w,!1);d.resolve(I.snapshot)}catch(f){const _=cm(f,`Failed to execute query '${a} against cache`);d.reject(_)}}),function(i,a,d){return r.apply(this,arguments)})(yield QN(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Dd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function IG(n){n=ln(n,is);const e=ln(n.firestore,lr),t=zr(e),r=new Cf(e);return ZF(t,n._query,{source:"server"}).then(i=>new Dd(e,r,n,i))}(this._delegate):function EG(n){n=ln(n,is);const e=ln(n.firestore,lr),t=zr(e),r=new Cf(e);return gL(n._query),ZF(t,n._query).then(i=>new Dd(e,r,n,i))}(this._delegate),t.then(r=>new hM(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=OL(e),r=kL(e,i=>new hM(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return IL(this._delegate,t,r)}withConverter(e){return new Ss(this.firestore,this._delegate.withConverter(e?If.getInstance(this.firestore,e):null))}}class HG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new n0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ss(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new n0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new HG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new n0(this._firestore,r))})}isEqual(e){return pL(this._delegate,e._delegate)}}class mm extends Ss{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ha(this.firestore,e):null}doc(e){try{return new ha(this.firestore,void 0===e?$D(this._delegate):$D(this._delegate,e))}catch(t){throw Is(t,"doc()","CollectionReference.doc()")}}add(e){return function AG(n,e){const t=ln(n.firestore,lr),r=$D(n),i=JD(n.converter,e);return gm(t,[zD(Df(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ha(this.firestore,t))}isEqual(e){return nL(this._delegate,e._delegate)}withConverter(e){return new mm(this.firestore,this._delegate.withConverter(e?If.getInstance(this.firestore,e):null))}}function Sf(n){return ln(n,rr)}class fM{constructor(...e){this._delegate=new Pu(...e)}static documentId(){return new fM(ni.keyField().canonicalString())}isEqual(e){return(e=(0,Ot.m9)(e))instanceof Pu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Af{constructor(e){this._delegate=e}static serverTimestamp(){const e=function OG(){return new rM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Af(e)}static delete(){const e=function RG(){return new Yv("deleteField")}();return e._methodName="FieldValue.delete",new Af(e)}static arrayUnion(...e){const t=function kG(...n){return new rG("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Af(t)}static arrayRemove(...e){const t=function PG(...n){return new iG("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Af(t)}static increment(e){const t=function FG(n){return new sG("increment",n)}(e);return t._methodName="FieldValue.increment",new Af(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const GG={Firestore:ML,GeoPoint:WD,Timestamp:Rr,Blob:e0,Transaction:xL,WriteBatch:RL,DocumentReference:ha,DocumentSnapshot:t0,Query:Ss,QueryDocumentSnapshot:n0,QuerySnapshot:hM,CollectionReference:mm,FieldPath:fM,FieldValue:Af,setLogLevel:function jG(n){!function VV(n){dd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function PL(n,e){return function qG(n,e=vl.z){return new sr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function pM(n,e){return PL(n,e).pipe((0,wt.U)(t=>({payload:t,type:"query"})))}function XD(n,e){return pM(n,e).pipe(tr(void 0),_S(),(0,wt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const _=i.find(I=>I.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),a}))}function FL(n,e,t){return XD(n,t).pipe(Yc((r,i)=>function ZG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function KG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return gM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return gM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function Qi(n,e=C.y){return n=null!=n?n:go,(0,Bn.e)((t,r)=>{let i,a=!0;t.subscribe((0,Vn.x)(r,d=>{const f=e(d);(a||!n(i,f))&&(a=!1,i=f,r.next(d))}))})}(),(0,wt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function gM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function LL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function WG(n){(function $G(n,e){n.INTERNAL.registerComponent(new Au.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},GG)))})(n,(e,t)=>new ML(e,t,new UG)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(xB.Z);class BL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=XD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,wt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(tr(void 0),_S(),Rt(([r,i])=>i.length>0||!r),(0,wt.U)(([r,i])=>i),_i.iC)}auditTrail(e){return this.stateChanges(e).pipe(Yc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LL(e);return FL(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return pM(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),_i.iC)}get(e){return(0,Wn.D)(this.query.get(e)).pipe(_i.iC)}add(e){return this.ref.add(e)}doc(e){return new VL(this.ref.doc(e),this.afs)}}class VL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=UL(r,t);return new BL(i,a,this.afs)}snapshotChanges(){return function zG(n,e){return PL(n,e).pipe(tr(void 0),_S(),(0,wt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,wt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Wn.D)(this.ref.get(e)).pipe(_i.iC)}}class YG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?XD(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Rt(t=>t.length>0),_i.iC):XD(this.query,this.afs.schedulers.outsideAngular).pipe(_i.iC)}auditTrail(e){return this.stateChanges(e).pipe(Yc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LL(e);return FL(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return pM(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),_i.iC)}get(e){return(0,Wn.D)(this.query.get(e)).pipe(_i.iC)}}const JG=new u.OlP("angularfire2.enableFirestorePersistence"),QG=new u.OlP("angularfire2.firestore.persistenceSettings"),XG=new u.OlP("angularfire2.firestore.settings"),e3=new u.OlP("angularfire2.firestore.use-emulator");function UL(n,e=(t=>t)){return{query:e(n),ref:n}}let jL=(()=>{class n{constructor(t,r,i,a,d,f,_,w,I,A,P,L,z,ie,we,Ue,qe){this.schedulers=_;const Qe=(0,Co.on)(t,f,r),je=I;A&&dO(Qe,f,P,z,ie,we,L,Ue),[this.firestore,this.persistenceEnabled$]=(0,Co.cc)(`${Qe.name}.firestore`,"AngularFirestore",Qe.name,()=>{const rt=f.runOutsideAngular(()=>Qe.firestore());if(a&&rt.settings(a),je&&rt.useEmulator(...je),i&&!Nr(d)){const ut=()=>{try{return(0,Wn.D)(rt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Mt){return"undefined"!=typeof console&&console.warn(Mt),dt(!1)}};return[rt,f.runOutsideAngular(ut)]}return[rt,dt(!1)]},[a,je,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=UL(i,r),f=this.schedulers.ngZone.run(()=>a);return new BL(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),a=this.firestore.collectionGroup(t);return new YG(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new VL(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Co.Dh),u.LFG(Co.xv,8),u.LFG(JG,8),u.LFG(XG,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(_i.HU),u.LFG(QG,8),u.LFG(e3,8),u.LFG(mS,8),u.LFG(sO,8),u.LFG(oO,8),u.LFG(aO,8),u.LFG(lO,8),u.LFG(uO,8),u.LFG(cO,8),u.LFG(pS,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Nf=(()=>{class n{constructor(t,r,i){this.fireauth=t,this.firestore=r,this.router=i,this.user=null,this.getUserState().subscribe(a=>{a?(this.user=a,localStorage.setItem("uid",this.user.uid),setTimeout(()=>this.router.navigate.projects,200)):(this.user=null,localStorage.removeItem("uid"),this.router.navigate(["login"]))})}getUserState(){return this.fireauth.authState}get logged(){return null!==this.user}get uid(){return this.user.uid}login(t,r){var i=this;return(0,Q.Z)(function*(){try{return(yield i.fireauth.signInWithEmailAndPassword(t,r)).user&&setTimeout(()=>i.router.navigate(["projects"]),1e3),!0}catch(a){return a}})()}register(t,r){var i=this;return(0,Q.Z)(function*(){try{return yield i.fireauth.createUserWithEmailAndPassword(t,r),i.router.navigate(["login"]),!0}catch(a){return a}})()}logout(){var t=this;return(0,Q.Z)(function*(){try{return yield t.fireauth.signOut(),!0}catch(r){return console.log(r),!1}})()}googleLogin(){var t=this;return(0,Q.Z)(function*(){var r;try{let i=yield t.fireauth.signInWithPopup(new Og.Q);return t.user=i.user,localStorage.setItem("uid",null===(r=t.user)||void 0===r?void 0:r.uid),t.router.navigate(["main"]),!0}catch(i){return console.log(i),!1}})()}githubLogin(){var t=this;return(0,Q.Z)(function*(){var r;try{let i=yield t.fireauth.signInWithPopup(new Og.T);return console.log("result"),console.log(i),t.router.navigate(["main"]),localStorage.setItem("token",JSON.stringify(null===(r=i.user)||void 0===r?void 0:r.uid)),!0}catch(i){return console.log(i),!1}})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mS),u.LFG(jL),u.LFG(Zn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t3(n,e){if(1&n&&(u.TgZ(0,"p",10),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.errorMsg)}}function n3(n,e){if(1&n&&(u.TgZ(0,"p",11),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.message)}}const r3=function(){return["/register"]};let s3=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.toRegisterForm=new u.vpe,this.loginForm=new Yd({email:new Va("",[ei.required,ei.email]),password:new Va("",[ei.required,ei.minLength(3),ei.maxLength(60)])}),this.submitted=!1,this.errorMsg="",this.message=""}get f(){return this.loginForm.controls}ngOnInit(){}onSubmit(){var t=this;return(0,Q.Z)(function*(){console.log("onSubmit");try{if(t.loginForm.invalid)throw new Error("form invalid");if(!0!==(yield t.auth.login(t.loginForm.value.email,t.loginForm.value.password)))throw new Error("authentication failed");t.loginForm.value.email="",t.loginForm.value.password="",t.message="Login successful"}catch(r){t.errorMsg="Login failed",setTimeout(()=>t.errorMsg="",1e4)}})()}googleLogin(){var t=this;return(0,Q.Z)(function*(){try{let r=yield t.auth.googleLogin();if(console.log(r),!0!==r)throw new Error("Login failed");t.message="Login successful"}catch(r){console.log("error"),console.log(r),t.errorMsg="Login failed"}})()}githubLogin(){var t=this;return(0,Q.Z)(function*(){try{if(!0!==(yield t.auth.githubLogin()))throw new Error("Login failed");t.message="Login successful"}catch(r){console.log("error"),console.log(r),t.errorMsg="Login failed"}})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Nf),u.Y36(Zn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login-form"]],outputs:{toRegisterForm:"toRegisterForm"},decls:24,vars:6,consts:[[1,"form","one","mycontainer",3,"formGroup","ngSubmit","keyup.escape"],["type","email","formControlName","email"],["type","text","formControlName","password"],[1,"mybtn","full"],[3,"disabled"],["type","button",3,"routerLink"],["type","button",1,"card",3,"click"],["src","../../../assets/img/icon-google.png","alt","icon google"],["class","message red",4,"ngIf"],["class","message",4,"ngIf"],[1,"message","red"],[1,"message"]],template:function(t,r){1&t&&(u.TgZ(0,"form",0),u.NdJ("ngSubmit",function(){return r.onSubmit()})("keyup.escape",function(){return r.loginForm.reset()}),u.TgZ(1,"h1"),u._uU(2,"Login form"),u.qZA(),u.TgZ(3,"div")(4,"label"),u._uU(5,"Email"),u.qZA(),u._UZ(6,"input",1),u.qZA(),u.TgZ(7,"div")(8,"label"),u._uU(9,"Password"),u.qZA(),u._UZ(10,"input",2),u.qZA(),u.TgZ(11,"div",3)(12,"button",4),u._uU(13,"Login"),u.qZA()(),u.TgZ(14,"div",3)(15,"button",5),u._uU(16,"Register"),u.qZA()(),u.TgZ(17,"div",3)(18,"button",6),u.NdJ("click",function(){return r.googleLogin()}),u._UZ(19,"img",7),u.TgZ(20,"p"),u._uU(21,"Login with Google"),u.qZA()()(),u.YNc(22,t3,2,1,"p",8),u.YNc(23,n3,2,1,"p",9),u.qZA()),2&t&&(u.Q6J("formGroup",r.loginForm),u.xp6(12),u.Q6J("disabled",r.loginForm.invalid),u.xp6(3),u.Q6J("routerLink",u.DdM(5,r3)),u.xp6(7),u.Q6J("ngIf",r.errorMsg),u.xp6(1),u.Q6J("ngIf",r.message))},directives:[Xd,Bt,eh,Hs,_t,vp,Cu,Sn],styles:[""]}),n})(),Lu=(()=>{class n{constructor(){this.langs=[{name:"german",origin:"Deutsch",code:"de"},{name:"english",origin:"English",code:"en"},{name:"spanish",origin:"espa\xf1ol",code:"es"},{name:"nederlands",origin:"nederlands",code:"nl"},{name:"polish",origin:"Polski",code:"pl"},{name:"russian",origin:"p\u0443\u0441\u0441\u043a\u0438\u0439",code:"ru"}],this.initial={name:"",origin:"",code:"nn"},this.originObs=new An(this.initial),this.translateToObs=new An(this.initial),this.originObs.subscribe(t=>this._origin=t),this.translateToObs.subscribe(t=>this._translateTo=t)}get list(){return this.langs.map(t=>t.name)}get origin(){return this._origin.name}get originFull(){return this._origin}getOriginObs(){return this.originObs.asObservable()}setOriginLanguage(t){let r=this.langs.find(i=>i.name===t);if(!r)throw new Error("lang code not found!");this.originObs.next(r)}get translateTo(){return this._translateTo.name}get translateToFull(){return this._translateTo}getTranslateToObs(){return this.translateToObs.asObservable()}getByName(t){return this.langs.find(r=>r.name===t)}getByCode(t){return this.langs.find(r=>r.code===t)}set translateTo(t){if(!this.list.includes(t))throw new Error("no such language");{const r=this.langs.find(i=>i.name===t);this._translateTo=r,this.translateToObs.next(r)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HL="firebasestorage.googleapis.com",GL="storageBucket";class Er extends Ot.ZR{constructor(e,t){super(mM(e),`Firebase Storage: ${t} (${mM(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Er.prototype)}_codeEquals(e){return mM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function mM(n){return"storage/"+n}function _M(){return new Er("unknown","An unknown error occurred, please check the error payload for server response.")}function yM(n){return new Er("invalid-argument",n)}function qL(){return new Er("app-deleted","The Firebase app was deleted.")}function r0(n,e){return new Er("invalid-format","String does not match format '"+n+"': "+e)}function s0(n){throw new Er("internal-error","Internal error: "+n)}class As{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=As.makeFromUrl(e,t)}catch(i){return new As(e,"")}if(""===r.path)return r;throw function g3(n){return new Er("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function w(je){je.path_=decodeURIComponent(je.path)}const A=t.replace(/[.]/g,"\\."),Qe=[{regex:f,indices:{bucket:1,path:3},postModify:function a(je){"/"===je.path.charAt(je.path.length-1)&&(je.path_=je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${t===HL?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let je=0;je<Qe.length;je++){const rt=Qe[je],ut=rt.regex.exec(e);if(ut){let Jt=ut[rt.indices.path];Jt||(Jt=""),r=new As(ut[rt.indices.bucket],Jt),rt.postModify(r);break}}if(null==r)throw function p3(n){return new Er("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class b3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function eT(n){return"string"==typeof n||n instanceof String}function zL(n){return vM()&&n instanceof Blob}function vM(){return"undefined"!=typeof Blob}function bM(n,e,t,r){if(r<e)throw yM(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw yM(`Invalid value for '${n}'. Expected ${t} or less.`)}function Bu(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}var Cd=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Cd||(Cd={})),Cd))();class I3{constructor(e,t,r,i,a,d,f,_,w,I,A){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=_,this.timeout_=w,this.progressCallback_=I,this.connectionFactory_=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,L)=>{this.resolve_=P,this.reject_=L,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,d=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(f,f.getResponse());!function T3(n){return void 0!==n}(_)?a():a(_)}catch(_){d(_)}else if(null!==f){const _=_M();_.serverResponse=f.getErrorText(),d(this.errorCallback_?this.errorCallback_(f,_):_)}else d(i.canceled?this.appDelete_?qL():function $L(){return new Er("canceled","User canceled the upload/download.")}():function f3(){return new Er("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new tT(!1,null,!0)):this.backoffId_=function w3(n,e,t){let r=1,i=null,a=null,d=!1,f=0;function _(){return 2===f}let w=!1;function I(...we){w||(w=!0,e.apply(null,we))}function A(we){i=setTimeout(()=>{i=null,n(L,_())},we)}function P(){a&&clearTimeout(a)}function L(we,...Ue){if(w)return void P();if(we)return P(),void I.call(null,we,...Ue);if(_()||d)return P(),void I.call(null,we,...Ue);let Qe;r<64&&(r*=2),1===f?(f=2,Qe=0):Qe=1e3*(r+Math.random()),A(Qe)}let z=!1;function ie(we){z||(z=!0,P(),!w&&(null!==i?(we||(f=2),clearTimeout(i),A(0)):we||(f=1)))}return A(0),a=setTimeout(()=>{d=!0,ie(!0)},t),ie}((r,i)=>{if(i)return void r(!1,new tT(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const d=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(d),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(d),this.pendingConnection_=null;const f=a.getErrorCode()===Cd.NO_ERROR,_=a.getStatus();if(!f||this.isRetryStatusCode_(_)){const I=a.getErrorCode()===Cd.ABORT;return void r(!1,new tT(!1,null,I))}const w=-1!==this.successCodes_.indexOf(_);r(!0,new tT(w,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function D3(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||a}}class tT{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function O3(...n){const e=function R3(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(vM())return new Blob(n);throw new Er("unsupported-environment","This browser doesn't seem to support creating Blobs")}class wM{constructor(e,t){this.data=e,this.contentType=t||null}}function YL(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function JL(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw r0(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw r0(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function P3(n){return atob(n)}(e)}catch(i){throw r0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class QL{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw r0("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function V3(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Vu{constructor(e,t){let r=0,i="";zL(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(zL(this.data_)){const i=function k3(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Vu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Vu(r,!0)}}static getBlob(...e){if(vM()){const t=e.map(r=>r instanceof Vu?r.data_:r);return new Vu(O3.apply(null,t))}{const t=e.map(d=>eT(d)?function KL(n,e){switch(n){case"raw":return new wM(YL(e));case"base64":case"base64url":return new wM(JL(n,e));case"data_url":return new wM(function L3(n){const e=new QL(n);return e.base64?JL("base64",e.rest):function F3(n){let e;try{e=decodeURIComponent(n)}catch(t){throw r0("data_url","Malformed data URL.")}return YL(e)}(e.rest)}(e),function B3(n){return new QL(n).contentType}(e))}throw _M()}("raw",d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(d=>{for(let f=0;f<d.length;f++)i[a++]=d[f]}),new Vu(i,!0)}}uploadData(){return this.data_}}function XL(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function H3(n,e){return e}class Ns{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||H3}}let nT=null;function e2(n,e,t){const r=function DM(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function C3(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}(e);return null===r?null:function W3(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const d=t[a];r[d.local]=d.xform(r,e[d.server])}return function $3(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new As(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}class Hl{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rT(n,e){return function t(r,i){const a=e2(n,i,e);return function Gl(n){if(!n)throw _M()}(null!==a),a}}function _m(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function d3(){return new Er("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function c3(){return new Er("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function u3(n){return new Er("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function h3(n){return new Er("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function a0(n){const e=_m(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function l3(n){return new Er("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function a2(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},_=function f(){let Qe="";for(let je=0;je<2;je++)Qe+=Math.random().toString().slice(2);return Qe}();d["Content-Type"]="multipart/related; boundary="+_;const w=function o2(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function t$(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),I=function TM(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}(w,t),L=Vu.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+I+"\r\n--"+_+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===L)throw function WL(){return new Er("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const z={name:w.fullPath},ie=Bu(a,n.host,n._protocol),Ue=n.maxUploadRetryTime,qe=new Hl(ie,"POST",rT(n,t),Ue);return qe.urlParams=z,qe.headers=d,qe.body=L.uploadData(),qe.errorHandler=_m(e),qe}class c2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw s0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw s0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw s0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw s0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw s0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class o$ extends c2{initXhr(){this.xhr_.responseType="text"}}function tl(){return new o$}class u$ extends c2{initXhr(){this.xhr_.responseType="blob"}}function c$(){return new u$}class Mf{constructor(e,t){this._service=e,this._location=t instanceof As?t:As.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Mf(e,t)}get root(){const e=new As(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XL(this._location.path)}get storage(){return this._service}get parent(){const e=function U3(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new As(this._location.bucket,e);return new Mf(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function v3(n){return new Er("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function d2(n,e,t){n._throwIfRoot("uploadBytes");const r=a2(n.storage,n._location,function o0(){if(nT)return nT;const n=[];n.push(new Ns("bucket")),n.push(new Ns("generation")),n.push(new Ns("metageneration")),n.push(new Ns("name","fullPath",!0));const t=new Ns("name");t.xform=function e(a,d){return function G3(n){return!eT(n)||n.length<2?n:XL(n)}(d)},n.push(t);const i=new Ns("size");return i.xform=function r(a,d){return void 0!==d?Number(d):d},n.push(i),n.push(new Ns("timeCreated")),n.push(new Ns("updated")),n.push(new Ns("md5Hash",null,!0)),n.push(new Ns("cacheControl",null,!0)),n.push(new Ns("contentDisposition",null,!0)),n.push(new Ns("contentEncoding",null,!0)),n.push(new Ns("contentLanguage",null,!0)),n.push(new Ns("contentType",null,!0)),n.push(new Ns("metadata","customMetadata",!0)),nT=n,nT}(),new Vu(e,!0),t);return n.storage.makeRequestWithTokens(r,tl).then(i=>({metadata:i,ref:n}))}function g2(n,e){if(n instanceof SM){const t=n;if(null==t._bucket)throw function m3(){return new Er("no-default-bucket","No default bucket found. Did you set the '"+GL+"' property when initializing the app?")}();const r=new Mf(t,t._bucket);return null!=e?g2(r,e):r}return void 0!==e?function p2(n,e){const t=function j3(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new As(n._location.bucket,t);return new Mf(n.storage,r)}(n,e):n}function m2(n,e){const t=null==e?void 0:e[GL];return null==t?null:As.makeFromBucketSpec(t,n)}class SM{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=HL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?As.makeFromBucketSpec(i,this._host):m2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?As.makeFromBucketSpec(this._url,e):m2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Q.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Q.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mf(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new b3(qL());{const a=function x3(n,e,t,r,i,a){const d=function ZL(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}(n.urlParams),f=n.url+d,_=Object.assign({},n.headers);return function N3(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function S3(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function A3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(_,a),function M3(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,r),new I3(f,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var r=this;return(0,Q.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const _2="@firebase/storage",v2="storage";function AM(n,e){return function T$(n,e){if(e&&function w$(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof SM)return function D$(n,e){return new Mf(n,e)}(n,e);throw yM("To use ref(service, url), the first argument must be a Storage instance.")}return g2(n,e)}(n=(0,Ot.m9)(n),e)}function NM(n=(0,ws.getApp)(),e){return n=(0,Ot.m9)(n),(0,ws._getProvider)(n,v2).getImmediate({identifier:e})}function S$(n,e){return function f$(n,e){n._throwIfRoot("getBlob");const t=function s2(n,e,t){const i=Bu(e.fullServerUrl(),n.host,n._protocol)+"?alt=media",f=new Hl(i,"GET",(_,w)=>w,n.maxOperationRetryTime);return f.errorHandler=a0(e),void 0!==t&&(f.headers.Range=`bytes=0-${t}`,f.successCodes=[200,206]),f}(n.storage,n._location,e);return n.storage.makeRequestWithTokens(t,c$).then(r=>void 0!==e?r.slice(0,e):r)}(n=(0,Ot.m9)(n),e)}function A$(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new SM(t,r,i,e,ws.SDK_VERSION)}!function N$(){(0,ws._registerComponent)(new Au.wA(v2,A$,"PUBLIC").setMultipleInstances(!0)),(0,ws.registerVersion)(_2,"0.9.6",""),(0,ws.registerVersion)(_2,"0.9.6","esm2017")}();let xf=(()=>{class n{constructor(t){this.language=t,this.purpose="",this.dialog={open:!1,header:"initial",txt:[]},this.dialogObs=new An(this.dialog),this.languages=this.language.list}getObs(){return this.dialogObs.asObservable()}open(){this.dialog.open=!0,this.dialogObs.next(this.dialog)}close(){this.dialog.open=!1,this.dialogObs.next(null)}set header(t){this.dialog.header=t}set txt(t){""===t?this.dialog.txt=[]:this.dialog.txt.push(t)}clearDialog(){this.purpose="",this.dialog.header="",this.dialog.txt=[],this.dialog.confirmFunction=null}setDialogWithConfirmButton(t,r,i){this.clearDialog(),this.dialog.header=t,r&&this.dialog.txt.push(r),this.dialog.confirmFunction=i,this.open()}setDialogOnlyHeader(t){this.clearDialog(),this.dialog.header=t,this.open()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Lu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sT=(()=>{class n{constructor(t,r,i,a){this.firestore=t,this.language=r,this.router=i,this.dialog=a}get uid(){let t=localStorage.getItem("uid");return t||this.router.navigate(["login"]),t}get newId(){return this.firestore.createId()}getUserProjectsObs(){return this.firestore.collection(this.uid).valueChanges().pipe((0,wt.U)(this.parseToProjectsArr),Ya(t=>this.handeError(t)))}addProject(t){var r=this;return(0,Q.Z)(function*(){return yield r.firestore.collection(r.uid).doc(t.name).set(t)})()}updateProject(t){var r=this;return(0,Q.Z)(function*(){return yield r.firestore.collection(r.uid).doc(t.name).update(t)})()}removeUserProject(t){var r=this;return(0,Q.Z)(function*(){const i=r.firestore.firestore.collection(r.uid).doc(t).collection("translations");return yield r.clearCollection(i),yield r.firestore.collection(r.uid).doc(t).delete()})()}addTranslationDocs(t,r,i){var a=this;return(0,Q.Z)(function*(){let d=a.firestore.firestore.batch();i.forEach(f=>{let _=a.firestore.collection(a.uid).doc(t).collection("translations").doc(f.identifier).ref;d.set(_,f)}),yield d.commit()})()}updateTranslationDocs(t,r){var i=this;return(0,Q.Z)(function*(){let a=i.firestore.firestore.batch();r.forEach(d=>{let f=i.firestore.collection(i.uid).doc(t).collection("translations").doc(d.identifier).ref;a.update(f,d)}),yield a.commit()})()}getProjectTranslationDocs(t){var r=this;return(0,Q.Z)(function*(){let i=[];return(yield r.firestore.collection(r.uid).doc(t).collection("translations").ref.get()).forEach(d=>i.push(d.data())),i})()}deleteTranslationDoc(t,r){var i=this;return(0,Q.Z)(function*(){return yield i.firestore.collection(i.uid).doc(t).collection("translations").doc(r).delete()})()}deleteTranslationDocuments(t,r){var i=this;return(0,Q.Z)(function*(){let a=i.firestore.firestore.batch();return r.forEach(d=>{let f=i.firestore.collection(i.uid).doc(t).collection("translations").doc(d).ref;a.delete(f)}),yield a.commit()})()}updateTranslationDoc(t,r,i,a){var d=this;return(0,Q.Z)(function*(){return yield d.firestore.collection(d.uid).doc(t).collection("translations").doc(r).update({[i]:a})})()}uploadFile(t){var r=this;return(0,Q.Z)(function*(){(function C$(n,e,t){return d2(n=(0,Ot.m9)(n),e,t)})(AM(NM(),`${r.uid}/${t.name}`),t).then(()=>{}).catch(d=>r.handeError(d))})()}deleteFile(t){var r=this;return(0,Q.Z)(function*(){(function I$(n){return function b$(n){n._throwIfRoot("deleteObject");const e=function e$(n,e){const r=Bu(e.fullServerUrl(),n.host,n._protocol),f=new Hl(r,"DELETE",function d(_,w){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=a0(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,tl)}(n=(0,Ot.m9)(n))})(AM(NM(),`${r.uid}/${t}`)).then(()=>{}).catch(d=>r.handeError(d))})()}downloadFile(t){var r=this;return(0,Q.Z)(function*(){try{const a=AM(NM(),`${r.uid}/${t}`);let d=yield S$(a);return new File([d],t)}catch(i){return r.handeError(i),null}})()}clearCollection(t){return(0,Q.Z)(function*(){return yield t.onSnapshot(r=>{r.docs.forEach(i=>{t.doc(i.id).delete()})})})()}parseToProjectsArr(t){let r=[];if(t)for(let i in t)r.push(t[i]);return r}handeError(t){return(0,Q.Z)(function*(){console.log(t.message)})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jL),u.LFG(Lu),u.LFG(Zn),u.LFG(xf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vm=(()=>{class n{constructor(t,r,i){this.db=t,this.dialog=r,this.lang=i,this.saved=!1,this.templateObs=new qt.x,this.openReportObs=new qt.x,this.downloadFile=a=>{const d=document.createElement("a");d.href=URL.createObjectURL(a),d.download=a.name,document.body.append(d),d.click(),d.remove()},this.db.getUserProjectsObs().subscribe(a=>this.userProjects=a)}get name(){return this.project.name}get filename(){return this.project.filename}get file(){return this._file}set file(t){this._file=t,this.initTemplateObs(t)}getTemplateObs(){return this.templateObs.asObservable()}initTemplateObs(t){var r=this;return(0,Q.Z)(function*(){let i=t||r.file;r.fileAsTxt=i?yield i.text():"",r.templateObs.next(r.fileAsTxt),r.sliceFile(r.fileAsTxt)})()}addProject(t){var r=this;return(0,Q.Z)(function*(){yield r.db.uploadFile(r.fileForNewProject);let i=r.fileForNewProject.name.split(".")[0]+"_origin.html";console.log(name);let a=new File([r.fileForNewProject],i,{type:r.fileForNewProject.type});return yield r.db.uploadFile(a),yield r.db.addProject(t),!0})()}deleteProject(t){var r=this;return(0,Q.Z)(function*(){yield r.askIfSure();let i=r.userProjects.find(d=>d.name===t).filename;yield r.db.deleteFile(i);let a=i.split(".")[0]+"_origin.html";yield r.db.deleteFile(a),yield r.db.removeUserProject(t)})()}saveTemplate(t,r){var i=this;return(0,Q.Z)(function*(){i.project.modified=(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString();let a=new File([i.getFileText(t)],i.project.filename,{type:"text/html"});try{yield i.db.updateProject(i.project),yield i.db.uploadFile(a),yield i.db.addTranslationDocs(i.project.name,i.lang.origin,r)}catch(d){console.log(d)}})()}downloadOriginFile(t){var r=this;return(0,Q.Z)(function*(){try{let i=r.userProjects.find(d=>d.name===t).filename.split(".")[0]+"_origin.html",a=yield r.db.downloadFile(i);r.downloadFile(a)}catch(i){console.log(i)}})()}generateTemplate(t){var r=this;return(0,Q.Z)(function*(){try{let i=r.project.filename.split(".")[0]+"_"+r.lang.translateToFull.code+".html",a=new File([r.getFileText(t)],i,{type:"text/html"});return r.downloadFile(a),!0}catch(i){return console.log(i),!1}})()}sliceFile(t){let r=t.split("\x3c!-- bodyslicer --\x3e");this.beforeBodyTxt=r[0],this.afterBodyTxt=r[2]}getFileText(t){return this.beforeBodyTxt+"\n\x3c!-- bodyslicer --\x3e\n"+t+"\n\x3c!-- bodyslicer --\x3e\n"+this.afterBodyTxt}filenameTaken(t){return!!this.userProjects.find(i=>i.filename===t.name)}projectNameTaken(t){return!!this.userProjects.find(r=>r.name===t)}hasBodySlicers(t){return(0,Q.Z)(function*(){return 3===(yield t.text()).split("\x3c!-- bodyslicer --\x3e").length})()}askIfSure(){return new Promise(t=>{this.dialog.setDialogWithConfirmButton("Warning!","Are you sure you want to delete this project?",t)})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sT),u.LFG(xf),u.LFG(Lu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b2=(()=>{class n{constructor(){this.elements=[],this.purpose="notIdentifiedElements"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MM=(()=>{class n{constructor(t,r,i,a,d,f){this.db=t,this.dialog=r,this.project=i,this.language=a,this.report=d,this.router=f,this.translationObs=new An(""),this.blue="#41a4a6",this.green="#63aa55",this.orange="#db863b",this.translationElements=[],this.identifiersToRemove=[]}set translation(t){this.translationObs.next(t)}getTranslationObs(){return this.translationObs.asObservable()}getTranslationElements(){var t=this;return(0,Q.Z)(function*(){t.translationElements=yield t.db.getProjectTranslationDocs(t.project.name)})()}setActiveTranslationElement(t){this.activeTranslationElement=this.translationElements.find(r=>r.identifier===t)}setTranslation(t,r){var i=this;return(0,Q.Z)(function*(){let a=r||i.activeTranslationElement.identifier;i.activeTranslationElement&&(i.activeTranslationElement[i.language.translateTo]=t);try{yield i.db.updateTranslationDoc(i.project.name,a,i.language.translateTo,t)}catch(d){i.dialog.setDialogOnlyHeader("db: update doc error")}})()}removeTranslation(){var t=this;return(0,Q.Z)(function*(){t.activeTranslationElement[t.language.translateTo]=[];try{yield t.db.updateTranslationDoc(t.project.name,t.activeTranslationElement.identifier,t.language.translateTo,[])}catch(r){t.dialog.setDialogOnlyHeader("db: update doc error")}})()}identifyElementLoop(t){let r=t.childNodes;r.length>0&&r.forEach(i=>{i.nodeType===Node.TEXT_NODE?this.identifyTextNode(i):i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement?this.identifyInputElement(i):this.identifyElementLoop(i)})}identifyInputElement(t){if(!t.hasAttribute("identifier")){let r=t.getAttribute("placeholder");r||(r=t.getAttribute("value"));let i=t.getAttribute("type");if(r&&"checkbox"!==i){let a=this.db.newId;t.setAttribute("identifier",a),this.setBorderToElementWithIdentifier(t),this.translationElements.push({identifier:a,[this.language.origin]:[r]})}}}identifyTextNode(t){let i=t.textContent.replace(/\s/g,"").replace(/\n/g,"");if(i){let a=t.parentElement,d=a.getAttribute("identifier");if(d){let f=this.translationElements.find(_=>_.identifier===d);f[this.language.origin].includes(i)||f[this.language.origin].push(i)}else if("SCRIPT"!==a.tagName.toUpperCase()){let f=this.db.newId;a.setAttribute("identifier",f),this.setBorderToElementWithIdentifier(a),this.translationElements.push({identifier:f,[this.language.origin]:[i]})}}}removeElementIdentifier(t){var r=this;return(0,Q.Z)(function*(){try{let i=t.getAttribute("identifier");i&&(yield r.db.deleteTranslationDoc(r.project.name,i),t.removeAttribute("identifier"),t.style.border="")}catch(i){r.dialog.setDialogOnlyHeader(i.message)}})()}removeIdentifiersToRemove(){var t=this;return(0,Q.Z)(function*(){t.identifiersToRemove&&t.identifiersToRemove.length&&setTimeout((0,Q.Z)(function*(){t.identifiersToRemove.forEach(r=>{let i=document.querySelector(`[identifier="${r}"]`);i&&i.removeAttribute("identifier")}),yield t.db.deleteTranslationDocuments(t.project.name,t.identifiersToRemove),t.dialog.clearDialog(),t.dialog.header="Now you have to save the template! Identifiers removed:",t.identifiersToRemove.forEach(r=>t.dialog.txt=r),t.dialog.open(),t.identifiersToRemove=[]}),5e3)})()}inititializeBorders(){this.translationElements.forEach(t=>{let r=document.querySelector(`[identifier="${t.identifier}"]`);r&&(t.hasOwnProperty(this.language.translateTo)&&t[this.language.translateTo].length>0?this.setBorderToTranslatedElement(r):this.setBorderToElementWithIdentifier(r))})}setBorderToElementWithIdentifier(t){t&&t.hasAttribute("identifier")&&(t.style.border="2px solid "+this.blue)}setBorderToTranslatedElement(t){t&&t.hasAttribute("identifier")&&(t.style.border="2px solid "+this.orange)}setAsTranslated(t){let r=document.querySelector(`[identifier="${t}"]`);r&&this.setBorderToTranslatedElement(r)}setAsNotTranslated(t){let r=document.querySelector(`[identifier="${t}"]`);r&&this.setBorderToElementWithIdentifier(r)}translateTemplate(t){var r=this;return(0,Q.Z)(function*(){let i=r.language.translateTo,a=r.language.origin,d=r.translationElements.filter(_=>_.hasOwnProperty(i)),f=r.translationElements.filter(_=>!_.hasOwnProperty(i));if(f&&f.length)return r.report.elements=f,void r.router.navigate(["report"]);{let _=[],w=[];d.forEach(I=>{I[a].forEach(P=>w.push(P));let A=document.querySelector(`[identifier="${I.identifier}"]`);A&&A.childNodes.forEach(L=>{if(L.nodeType===Node.TEXT_NODE&&L.data.replace(/\s/g,"").replace(/\n/g,"")){let we=I[i].shift();L.nodeValue=we,_.push(we)}})}),console.log(w),console.log(_)}})()}generateTemplate(t){var r=this;return(0,Q.Z)(function*(){yield r.project.generateTemplate(t),r.inititializeBorders()})()}saveTemplate(t){var r=this;return(0,Q.Z)(function*(){r.translationElements=r.translationElements.filter(i=>t.includes(i.identifier)),yield r.project.saveTemplate(t,r.translationElements),r.dialog.setDialogOnlyHeader("Project saved successfully!"),r.inititializeBorders()})()}unescapeHTML(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&nbsp;/g," ")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sT),u.LFG(xf),u.LFG(vm),u.LFG(Lu),u.LFG(b2),u.LFG(Zn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M$=(()=>{class n{transform(t){return t.substr(0,1).toUpperCase()+t.substr(1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"tittlecase",type:n,pure:!0}),n})();const x$=["translationAreaRef"];function R$(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",23)(2,"p",24),u._uU(3),u.qZA()(),u.TgZ(4,"div",23)(5,"span",25,26),u._uU(7),u.qZA()(),u.BQk()),2&n){const t=e.$implicit,r=e.index,i=u.oxw(2);u.xp6(3),u.Oqu(t),u.xp6(4),u.Oqu(i.translations[r])}}function O$(n,e){if(1&n&&(u.TgZ(0,"div",21),u.YNc(1,R$,8,2,"ng-container",22),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngForOf",t.originTexts)}}let w2=(()=>{class n{constructor(t,r,i,a,d,f){this.language=t,this.template=r,this.dialog=i,this.auth=a,this.project=d,this.router=f,this.removeIdentifierEvent=new u.vpe,this.unselectEvent=new u.vpe,this.autoIdentifyEvent=new u.vpe,this.saveTemplateEvent=new u.vpe,this.translateTemplateEvent=new u.vpe,this.generateEvent=new u.vpe,this.classes="",this.fileName=this.project.file.name,this.projectName=this.project.project.name,this.originLanguageObs=this.language.getOriginObs().pipe((0,wt.U)(_=>_.name)),this.translateToLanguageObs=this.language.getTranslateToObs().pipe((0,wt.U)(_=>_.name))}ngOnInit(){}ngOnChanges(t){t.originTexts.firstChange||(this.translations=t.originTexts.currentValue.map(i=>""),this.translateToTexts&&this.translateToTexts.length&&(this.translations=this.translateToTexts))}removeIdentifier(){this.removeIdentifierEvent.emit()}onAddTranslation(){var t=this;return(0,Q.Z)(function*(){let r=t.translationAreaRefs.map(a=>a.nativeElement.innerText.replace(/\n/g,"")),i=t.template.activeTranslationElement[t.language.origin];r=t.fillSpacesIfNeeds(r),console.log(i),console.log(r);try{if(!r.every(d=>!!d))throw new Error("Fill in all translation fields");yield t.template.setTranslation(r),t.dialog.setDialogOnlyHeader("Succesfull"),t.template.setAsTranslated(t.identifier),t.onUnselect()}catch(a){t.dialog.setDialogOnlyHeader(a.message)}})()}onUnselect(){this.unselectEvent.emit()}removeTranslation(){var t=this;return(0,Q.Z)(function*(){try{yield t.template.removeTranslation(),t.dialog.setDialogOnlyHeader("Removed!"),t.template.setAsNotTranslated(t.identifier),t.onUnselect()}catch(r){t.dialog.setDialogOnlyHeader(r.message)}})()}onChooseLanguage(){this.dialog.clearDialog(),this.dialog.purpose="language",this.dialog.open()}autoIdentify(){this.autoIdentifyEvent.emit()}saveTemplate(){this.saveTemplateEvent.emit()}translateTemplate(){this.translateTemplateEvent.emit()}generateTemplate(){this.generateEvent.emit()}onLeave(){var t=this;return(0,Q.Z)(function*(){yield t.askIfSave(),t.project.file=null,t.router.navigate(["projects"])})()}onOriginDownload(){this.project.downloadOriginFile(this.project.name)}onLogout(){this.auth.logout()}askIfSave(){return new Promise(t=>{this.dialog.setDialogWithConfirmButton("Warning!","Are you sure you want to leave before saving project?",t)})}fillSpacesIfNeeds(t){let r=t.map(a=>a);return this.template.activeTranslationElement[this.language.origin].forEach((a,d)=>{a.startsWith(" ")&&(r[d]=` ${r[d]}`),a.endsWith(" ")&&(r[d]=`${r[d]} `)}),r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Lu),u.Y36(MM),u.Y36(xf),u.Y36(Nf),u.Y36(vm),u.Y36(Zn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-tool"]],viewQuery:function(t,r){if(1&t&&u.Gf(x$,5),2&t){let i;u.iGM(i=u.CRH())&&(r.translationAreaRefs=i)}},hostVars:2,hostBindings:function(t,r){2&t&&u.Tol(r.classes)},inputs:{identifier:"identifier",originTexts:"originTexts",translateToTexts:"translateToTexts"},outputs:{removeIdentifierEvent:"removeIdentifierEvent",unselectEvent:"unselectEvent",autoIdentifyEvent:"autoIdentifyEvent",saveTemplateEvent:"saveTemplateEvent",translateTemplateEvent:"translateTemplateEvent",generateEvent:"generateEvent"},features:[u.TTD],decls:77,vars:28,consts:[[1,"left","tool-bg"],["class","areas",4,"ngIf"],[1,"identifier","cont"],[1,"title"],[1,"text-field"],[1,"mybtn","full","red"],[3,"disabled","click"],[1,"mybtn","full"],[1,"mybtn","red","full"],[1,"bottom","tool-bg",3,"mouseenter","mouseleave"],[1,"myrow"],[1,"filename","text-field"],[1,"langs"],[1,"mybtn","min","blue"],["disabled",""],[3,"click"],[1,"right"],[1,"mybtn","blue"],[1,"hidden-row"],[1,"mybtn"],[1,"mybtn","red"],[1,"areas"],[4,"ngFor","ngForOf"],[1,"textarea-wrapper"],[1,"origin","textarea"],["contenteditable","","role","textbox",1,"textarea"],["translationAreaRef",""]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,O$,2,1,"div",1),u.TgZ(2,"div",2)(3,"p",3),u._uU(4,"IDENTIFIER:"),u.qZA(),u.TgZ(5,"p",4),u._uU(6),u.qZA(),u.TgZ(7,"div",5)(8,"button",6),u.NdJ("click",function(){return r.removeIdentifier()}),u._uU(9,"remove"),u.qZA()(),u.TgZ(10,"div",7)(11,"button",6),u.NdJ("click",function(){return r.onAddTranslation()}),u.ALo(12,"async"),u._uU(13,"ADD TRANSLATION"),u.qZA()(),u.TgZ(14,"div",8)(15,"button",6),u.NdJ("click",function(){return r.onUnselect()}),u._uU(16,"unselect"),u.qZA()(),u.TgZ(17,"div",8)(18,"button",6),u.NdJ("click",function(){return r.removeTranslation()}),u.ALo(19,"async"),u._uU(20,"remove translation"),u.qZA()()()(),u.TgZ(21,"div",9),u.NdJ("mouseenter",function(){return r.classes="hover"})("mouseleave",function(){return r.classes=""}),u.TgZ(22,"div",10)(23,"div")(24,"p",3),u._uU(25,"project:"),u.qZA(),u.TgZ(26,"p",11),u._uU(27),u.qZA()(),u.TgZ(28,"div")(29,"p",3),u._uU(30,"filename:"),u.qZA(),u.TgZ(31,"p",11),u._uU(32),u.qZA()(),u.TgZ(33,"div",12)(34,"div",3),u._uU(35,"LANGUAGES"),u.qZA(),u.TgZ(36,"div",13)(37,"button",14),u._uU(38,"from:"),u.qZA()(),u.TgZ(39,"p",4),u._uU(40),u.ALo(41,"tittlecase"),u.ALo(42,"async"),u.qZA(),u.TgZ(43,"div",13)(44,"button",15),u.NdJ("click",function(){return r.onChooseLanguage()}),u._uU(45,"to: "),u.qZA()(),u.TgZ(46,"p",4),u._uU(47),u.ALo(48,"tittlecase"),u.ALo(49,"async"),u.qZA()(),u.TgZ(50,"div",16)(51,"div",17)(52,"button",15),u.NdJ("click",function(){return r.autoIdentify()}),u._uU(53,"AUTO IDENTIFY"),u.qZA()()()(),u.TgZ(54,"div",18)(55,"div")(56,"div",17)(57,"button",15),u.NdJ("click",function(){return r.saveTemplate()}),u._uU(58,"SAVE TEMPLATE"),u.qZA()(),u.TgZ(59,"div",19)(60,"button",6),u.NdJ("click",function(){return r.translateTemplate()}),u.ALo(61,"async"),u._uU(62,"TRANSLATE TEMPLATE"),u.qZA()(),u.TgZ(63,"div",17)(64,"button",6),u.NdJ("click",function(){return r.generateTemplate()}),u.ALo(65,"async"),u._uU(66,"GENERATE TEMPLATE"),u.qZA()()(),u.TgZ(67,"div")(68,"div",17)(69,"button",15),u.NdJ("click",function(){return r.onOriginDownload()}),u._uU(70,"download origin file"),u.qZA()(),u.TgZ(71,"div",20)(72,"button",15),u.NdJ("click",function(){return r.onLeave()}),u._uU(73,"PROJECTS"),u.qZA()(),u.TgZ(74,"div",20)(75,"button",15),u.NdJ("click",function(){return r.onLogout()}),u._uU(76,"LOGOUT"),u.qZA()()()()()),2&t&&(u.xp6(1),u.Q6J("ngIf",r.originTexts&&r.originTexts.length),u.xp6(5),u.Oqu(r.identifier||"none..."),u.xp6(2),u.Q6J("disabled",!r.identifier),u.xp6(3),u.Q6J("disabled",!u.lcZ(12,12,r.translateToLanguageObs)),u.xp6(4),u.Q6J("disabled",!r.identifier),u.xp6(3),u.Q6J("disabled",!r.identifier||!u.lcZ(19,14,r.translateToLanguageObs)),u.xp6(9),u.Oqu(r.projectName||"No project..."),u.xp6(5),u.Oqu(r.fileName||"No file..."),u.xp6(8),u.Oqu(u.lcZ(41,16,u.lcZ(42,18,r.originLanguageObs))||"none..."),u.xp6(7),u.Oqu(u.lcZ(48,20,u.lcZ(49,22,r.translateToLanguageObs))||"none..."),u.xp6(13),u.Q6J("disabled",!u.lcZ(61,24,r.translateToLanguageObs)),u.xp6(4),u.Q6J("disabled",!u.lcZ(65,26,r.translateToLanguageObs)))},directives:[Sn,vn],pipes:[ol,M$],styles:["[_nghost-%COMP%]{height:100%;position:relative;transition:.12s ease-in-out}.tool-bg[_ngcontent-%COMP%]{background-color:var(--dark);border-radius:0;box-shadow:0 1px 2px #3c40434d,0 1px 3px 1px #3c404326}.bottom[_ngcontent-%COMP%]{height:115px;width:100%;z-index:100;position:fixed;bottom:0;left:0;transition:.1s ease-in-out;transform:translateY(65px)}.hover[_nghost-%COMP%]   .bottom[_ngcontent-%COMP%]{transform:translateY(0)}.bottom[_ngcontent-%COMP%]   .hidden-row[_ngcontent-%COMP%]{width:100%;height:50%;background-color:var(--darker);display:flex;align-items:center;justify-content:space-between;gap:1em}.bottom[_ngcontent-%COMP%]   .hidden-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1em}.bottom[_ngcontent-%COMP%]   .myrow[_ngcontent-%COMP%]{display:grid;grid-template-columns:3fr 3fr 6fr 3fr;grid-column-gap:1em;column-gap:1em;height:50px}.myrow[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:var(--darker);border-radius:5px;display:flex;align-items:center;padding:0 .5em}.title[_ngcontent-%COMP%]{color:#ffffff9e;letter-spacing:.5px;padding-right:5px}.filename[_ngcontent-%COMP%], .mybtn[_ngcontent-%COMP%]{height:35px;line-height:30px}.mybtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--green);border-color:var(--green)}.mybtn.blue[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--bluegreen);border-color:var(--bluegreen)}.mybtn.red[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--orange);border-color:var(--orange)}.text-field[_ngcontent-%COMP%]{height:35px;line-height:35px;width:100%;background-color:var(--lighter);border-radius:.3em;letter-spacing:.5px;text-align:center;padding:0 .5em;min-width:5em;color:var(--blue)}.langs[_ngcontent-%COMP%]{display:flex;gap:.2em}.right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.3em}.left[_ngcontent-%COMP%]{position:relative;height:100%;padding:0 .3em;color:#000;display:flex;flex-direction:column;justify-content:center;gap:1vw;padding-bottom:6vh}.left[_ngcontent-%COMP%]   .identifier[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 3fr;grid-column-gap:.5em;column-gap:.5em;grid-row-gap:.3em;row-gap:.3em}.areas[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:70vh;overflow:auto;margin-top:8vh}.areas[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;border-radius:4px}.areas[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.areas[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--morelighter);border-radius:5px;border:1px solid transparent}.areas[_ngcontent-%COMP%]   .origin[_ngcontent-%COMP%]{margin-top:15px;background-color:var(--lighter)}.textarea-wrapper[_ngcontent-%COMP%]{display:inline-table}.textarea[_ngcontent-%COMP%]{-webkit-user-select:auto;user-select:auto;margin-top:3px;min-height:5vh;max-width:30vw;width:100%;background-color:var(--morelighter);border:0;outline:none;font-size:1em;border-radius:.2em;color:#fff;padding:.3em .4em;letter-spacing:.3px;overflow:hidden;resize:both;display:block}.textarea[disabled][_ngcontent-%COMP%]{background-color:var(--lighter)}.cont[_ngcontent-%COMP%]{background-color:var(--darker);border-radius:.3em;padding:.4em .5em}.mybtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff}"]}),n})();const k$=["contentReference"];let P$=(()=>{class n{constructor(t,r,i,a){this.template=t,this.language=r,this.project=i,this.domSanitizer=a,this.innerBefore="",this.project.getTemplateObs().subscribe(d=>this.initializeTemplate(d)),this.language.getTranslateToObs().subscribe(d=>d.name&&this.template.inititializeBorders())}ngOnInit(){this.project.initTemplateObs(),this.template.removeIdentifiersToRemove()}ngOnDestroy(){}initializeTemplate(t){var r=this;return(0,Q.Z)(function*(){r.templateTxt=r.domSanitizer.bypassSecurityTrustHtml(t),yield r.template.getTranslationElements(),r.template.inititializeBorders()})()}onMousemove(t){let r=t;r.innerHTML!==this.innerBefore&&r.getAttribute("identifier")&&(this.innerBefore=r.innerHTML,this.checkElement(r))}checkElement(t){let r=t.childNodes;if(r.length>0)for(let i=0;i<r.length;i++){if(r[i].nodeType===Node.TEXT_NODE){this.selectElement(r[i].parentElement);break}if(r[i]instanceof HTMLInputElement||r[i]instanceof HTMLTextAreaElement){this.selectElement(r[i]);break}this.checkElement(r[i])}}selectElement(t){this.activeElement||(this.removeStyles(this.selectedElement),this.removeListeners(this.selectedElement),this.selectedElement=t,this.setSelectStyles(t),t.onmouseleave=()=>this.onElementLeave(t),t.onclick=r=>{r.preventDefault(),this.clickElement(t)})}onElementLeave(t){this.selectedElement&&(this.selectedElement=null,this.innerBefore="",this.removeStyles(t),this.removeListeners(t))}clickElement(t){this.activeElement?this.deactivate():this.selectedElement&&this.activate(t)}activate(t){if(t){this.activeElement=t,this.selectedElement=null,this.setActiveStyles(t);let r=t.getAttribute("identifier");if(r){this.identifier=r,this.template.setActiveTranslationElement(r);let i=this.language.origin;this.template.activeTranslationElement.hasOwnProperty(i)&&(this.originTexts=this.template.activeTranslationElement[i]);let a=this.language.translateTo;this.template.activeTranslationElement.hasOwnProperty(a)&&(this.translateToTexts=this.template.activeTranslationElement[a])}}}deactivate(t){let r=t||this.activeElement;this.removeStyles(r),this.removeListeners(r),this.activeElement=null,this.selectedElement=null,this.identifier="",this.originTexts=[],this.translateToTexts=[],this.innerBefore=""}removeListeners(t){var r;if(t){let i=t.cloneNode(!0);null===(r=t.parentNode)||void 0===r||r.replaceChild(i,t)}}setSelectStyles(t){this.selectedElement&&(t.style.backgroundColor="#41a4a6",t.style.cursor="pointer")}setActiveStyles(t){this.activeElement&&(t.style.backgroundColor="#db863b",t.style.cursor="pointer")}removeStyles(t){t&&(t.style.backgroundColor="",t.style.cursor="")}removeIdentifier(){this.template.removeElementIdentifier(this.activeElement)}saveTemplate(){var t=this;return(0,Q.Z)(function*(){t.contentRef.nativeElement.querySelectorAll("[style]").forEach(i=>i.removeAttribute("style"));let r=t.getContentBody();t.template.saveTemplate(r)})()}autoIdentify(){var t=this;return(0,Q.Z)(function*(){t.template.identifyElementLoop(t.contentRef.nativeElement)})()}unselect(){this.deactivate(this.activeElement)}generateTemplate(){this.contentRef.nativeElement.querySelectorAll("[style]").forEach(r=>r.removeAttribute("style"));let t=this.getContentBody();this.template.generateTemplate(t)}translateTemplate(){let t=this.getContentBody();this.template.translateTemplate(t)}getTranslationElement(t){return this.template.translationElements.find(r=>r.identifier===t)}getIdentifiersFromNodeList(t){let r=[];return t.forEach(i=>{let a=i.getAttribute("identifier");a&&r.push(a)}),r}setTranslationIfExist(){let t=this.activeElement.getAttribute("identifier");if(t){let r=this.template.translationElements.find(i=>i.identifier===t);r&&r.hasOwnProperty(this.language.translateTo)&&(this.template.translation=r[this.language.translateTo])}}getContentBody(){return this.contentRef.nativeElement.innerHTML.split("\x3c!-- bodyslicer --\x3e")[1]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(MM),u.Y36(Lu),u.Y36(vm),u.Y36(Sa))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-template"]],viewQuery:function(t,r){if(1&t&&(u.Gf(w2,5),u.Gf(k$,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.tools=i.first),u.iGM(i=u.CRH())&&(r.contentRef=i.first)}},decls:3,vars:4,consts:[[3,"identifier","originTexts","translateToTexts","autoIdentifyEvent","saveTemplateEvent","unselectEvent","removeIdentifierEvent","generateEvent","translateTemplateEvent"],[1,"content",3,"innerHTML","mousemove"],["contentReference",""]],template:function(t,r){1&t&&(u.TgZ(0,"app-tool",0),u.NdJ("autoIdentifyEvent",function(){return r.autoIdentify()})("saveTemplateEvent",function(){return r.saveTemplate()})("unselectEvent",function(){return r.unselect()})("removeIdentifierEvent",function(){return r.removeIdentifier()})("generateEvent",function(){return r.generateTemplate()})("translateTemplateEvent",function(){return r.translateTemplate()}),u.qZA(),u.TgZ(1,"div",1,2),u.NdJ("mousemove",function(a){return r.onMousemove(a.target)}),u.qZA()),2&t&&(u.Q6J("identifier",r.identifier)("originTexts",r.originTexts)("translateToTexts",r.translateToTexts),u.xp6(1),u.Q6J("innerHTML",r.templateTxt,u.oJD))},directives:[w2],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%;background-color:#fff}.content[_ngcontent-%COMP%]{overflow:auto;height:99vh;width:100%}.no-content[_ngcontent-%COMP%]{position:absolute;top:5vh;left:50%;transform:translate(-50%);font-size:30px;font-weight:700;color:#0073aa;padding-top:10vh;text-align:center}.no-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px;margin-bottom:20px}header[_ngcontent-%COMP%], .fixed[_ngcontent-%COMP%]{position:absolute!important}"]}),n})(),F$=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-main"]],decls:1,vars:0,consts:[[3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"app-template",0),u.NdJ("click",function(a){return a.preventDefault()}),u.qZA())},directives:[P$],styles:[""]}),n})();const L$=["languageRef"];function B$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",11)(1,"p"),u._uU(2),u.qZA(),u.TgZ(3,"p"),u._uU(4),u.qZA(),u.TgZ(5,"p"),u._uU(6),u.qZA(),u.TgZ(7,"p"),u._uU(8),u.qZA(),u.TgZ(9,"p"),u._uU(10),u.qZA(),u.TgZ(11,"div",8)(12,"button",10),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().onSetProject(a)}),u._uU(13,"SET"),u.qZA()(),u.TgZ(14,"div",12)(15,"button",10),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().onDelete(a)}),u._uU(16,"delete"),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.name),u.xp6(2),u.Oqu(t.filename),u.xp6(2),u.Oqu(t.originLanguage),u.xp6(2),u.Oqu(t.modified.split(" ").shift()),u.xp6(2),u.Oqu(t.modified.split(" ").pop())}}function V$(n,e){if(1&n&&(u.TgZ(0,"option",20),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.s9C("value",t),u.xp6(1),u.Oqu(t)}}function U$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",13)(1,"div")(2,"label"),u._uU(3,"file name:"),u.qZA(),u.TgZ(4,"p",14),u._uU(5),u.qZA()(),u.TgZ(6,"div")(7,"label"),u._uU(8,"project name:"),u.qZA(),u.TgZ(9,"input",15),u.NdJ("ngModelChange",function(i){return u.CHM(t),u.oxw().input=i}),u.qZA()(),u.TgZ(10,"div")(11,"label"),u._uU(12,"origin language:"),u.qZA(),u.TgZ(13,"select",null,16)(15,"option",17),u._uU(16,"Select Language"),u.qZA(),u.YNc(17,V$,2,2,"option",18),u.qZA()(),u.TgZ(18,"div",8)(19,"button",19),u.NdJ("click",function(){return u.CHM(t),u.oxw().onAddNewProject()}),u._uU(20,"ADD PROJECT"),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(5),u.Oqu(t.filenameAdding||"Choose file ..."),u.xp6(4),u.Q6J("ngModel",t.input),u.xp6(8),u.Q6J("ngForOf",t.languages),u.xp6(2),u.Q6J("disabled",!t.input)}}let j$=(()=>{class n{constructor(t,r,i,a,d,f){this.auth=t,this.service=r,this.db=i,this.dialog=a,this.router=d,this.language=f,this.filenameAdding="",this.inputOpen=!1,this.input="",this.languages=this.language.list,this.userProjectsObs=this.db.getUserProjectsObs()}onFileSelected(t){var r=this;return(0,Q.Z)(function*(){let i=t.target.files[0];try{if(r.service.filenameTaken(i))throw new Error("file name is taken!");if(!r.htmlFile(i))throw new Error("file has to be HTML!");if(!(yield r.service.hasBodySlicers(i)))throw new Error("file has to contain 2x \x3c!-- bodyslicer --\x3e");r.filenameAdding=i.name,r.inputOpen=!0,r.service.fileForNewProject=i}catch(a){r.dialog.setDialogOnlyHeader(a.message)}})()}rejectAddingProject(){this.filenameAdding="",this.service.fileForNewProject=null,this.inputOpen=!1}onAddNewProject(){var t=this;return(0,Q.Z)(function*(){try{if(t.service.projectNameTaken(t.input))throw new Error("project name is taken!");let r={name:t.input,filename:t.filenameAdding,modified:(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString(),originLanguage:t.languageRef.nativeElement.value};if(!(yield t.service.addProject(r)))throw new Error("add project error");t.rejectAddingProject()}catch(r){t.dialog.setDialogOnlyHeader(r.message)}})()}onDelete(t){this.service.deleteProject(t.name)}onSetProject(t){var r=this;return(0,Q.Z)(function*(){let i=yield r.db.downloadFile(t.filename);r.service.file=i,r.service.project=t,r.language.setOriginLanguage(t.originLanguage),r.router.navigate(["main"])})()}logout(){this.auth.logout()}htmlFile(t){return"html"===t.name.split(".").pop()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Nf),u.Y36(vm),u.Y36(sT),u.Y36(xf),u.Y36(Zn),u.Y36(Lu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-projects"]],viewQuery:function(t,r){if(1&t&&u.Gf(L$,5),2&t){let i;u.iGM(i=u.CRH())&&(r.languageRef=i.first)}},decls:26,vars:5,consts:[[1,"mycontainer"],[1,"projects"],[1,"myrow","head"],["class","myrow",4,"ngFor","ngForOf"],["class","add-project",4,"ngIf"],[1,"file-input-container"],["type","file",1,"file-input",3,"change"],["fileUpload",""],[1,"mybtn","center"],[3,"innerHTML","click"],[3,"click"],[1,"myrow"],[1,"mybtn","center","red"],[1,"add-project"],["disabled","",1,"myinput"],["type","text","placeholder","set project name...",3,"ngModel","ngModelChange"],["languageRef",""],["disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"disabled","click"],[3,"value"]],template:function(t,r){if(1&t){const i=u.EpF();u.TgZ(0,"div",0)(1,"h3"),u._uU(2,"SET PROJECT:"),u.qZA(),u.TgZ(3,"div",1)(4,"div",2)(5,"p"),u._uU(6,"PROJECT:"),u.qZA(),u.TgZ(7,"p"),u._uU(8,"FILENAME:"),u.qZA(),u.TgZ(9,"p"),u._uU(10,"ORIGIN LANGUAGE:"),u.qZA(),u.TgZ(11,"p"),u._uU(12,"MODIFIED:"),u.qZA(),u.TgZ(13,"p"),u._uU(14,"TIME:"),u.qZA()(),u.YNc(15,B$,17,5,"div",3),u.ALo(16,"async"),u.qZA(),u.YNc(17,U$,21,4,"div",4),u.TgZ(18,"div",5)(19,"input",6,7),u.NdJ("change",function(d){return r.onFileSelected(d)}),u.qZA()(),u.TgZ(21,"div",8)(22,"button",9),u.NdJ("click",function(){u.CHM(i);const d=u.MAs(20);return r.inputOpen?r.rejectAddingProject():d.click()}),u.qZA()(),u.TgZ(23,"div",8)(24,"button",10),u.NdJ("click",function(){return r.logout()}),u._uU(25,"LOGOUT"),u.qZA()()()}2&t&&(u.xp6(15),u.Q6J("ngForOf",u.lcZ(16,3,r.userProjectsObs)),u.xp6(2),u.Q6J("ngIf",r.inputOpen),u.xp6(5),u.Q6J("innerHTML",r.inputOpen?"REJECT":"ADD NEW PROJECT",u.oJD))},directives:[vn,Sn,Hs,_t,ms,M0,Xm],pipes:[ol],styles:[".mycontainer[_ngcontent-%COMP%]{margin:10vh auto 0;max-width:80vw}h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-weight:700;color:#1a73e8}.projects[_ngcontent-%COMP%]{border:1px solid #0000001f;border-radius:6px;box-shadow:0 -1px #0000001f inset}.projects[_ngcontent-%COMP%]   .myrow[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr 1fr .5fr;line-height:45px}.projects[_ngcontent-%COMP%]   .myrow.head[_ngcontent-%COMP%]{font-weight:700}.projects[_ngcontent-%COMP%]   .myrow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0 10px}.projects[_ngcontent-%COMP%]   .myrow[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{text-align:center}.projects[_ngcontent-%COMP%]   .myrow[_ngcontent-%COMP%]:nth-child(even){background-color:#e8e8e8}.mycontainer[_ngcontent-%COMP%] > .mybtn[_ngcontent-%COMP%]{margin-top:20px}.mycontainer[_ngcontent-%COMP%] > .mybtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:200px}.add-project[_ngcontent-%COMP%]{max-width:300px;margin:50px auto 20px}.add-project[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;margin-top:20px}.add-project[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:10px}.add-project[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:300px}.file-input-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .file-input-container[_ngcontent-%COMP%]{opacity:0;height:0;width:0}"]}),n})();function H$(n,e){if(1&n&&(u.TgZ(0,"p",10),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.errorMsg)}}function G$(n,e){if(1&n&&(u.TgZ(0,"p",11),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.message)}}const $$=function(){return["/login"]};let W$=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.registerForm=new Yd({email:new Va("",[ei.required,ei.email]),confirmEmail:new Va("",[ei.required]),password:new Va("",[ei.required,ei.minLength(3),ei.maxLength(60)]),confirmPassword:new Va("",[ei.required])}),this.submitted=!1,this.errorMsg="",this.message=""}get f(){return this.registerForm.controls}ngOnInit(){}onSubmit(){var t=this;return(0,Q.Z)(function*(){try{if(t.registerForm.invalid)throw new Error("form invalid");if(t.registerForm.value.password!==t.registerForm.value.confirmPassword)throw new Error("Password doesnt match");if(t.registerForm.value.email!==t.registerForm.value.confirmEmail)throw new Error("Email doesnt match");if(!0!==(yield t.auth.register(t.registerForm.value.email,t.registerForm.value.password)))throw new Error;t.registerForm.value.email="",t.registerForm.value.password="",t.message="Register successful"}catch(r){t.errorMsg="Registration failed",setTimeout(()=>t.errorMsg="",1e4)}})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Nf),u.Y36(Zn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-register-form"]],decls:27,vars:6,consts:[[1,"form","one","mycontainer",3,"formGroup","ngSubmit","keyup.escape"],["type","email","formControlName","email","autocomplete","off"],["type","email","formControlName","confirmEmail","autocomplete","off"],["type","password","formControlName","password","autocomplete","off"],["type","password","formControlName","confirmPassword","autocomplete","off"],[1,"mybtn","full"],[3,"disabled"],["type","button",3,"routerLink"],["class","message red",4,"ngIf"],["class","message",4,"ngIf"],[1,"message","red"],[1,"message"]],template:function(t,r){1&t&&(u.TgZ(0,"form",0),u.NdJ("ngSubmit",function(){return r.onSubmit()})("keyup.escape",function(){return r.registerForm.reset()}),u.TgZ(1,"h1"),u._uU(2,"Register form"),u.qZA(),u.TgZ(3,"div")(4,"label"),u._uU(5,"Email"),u.qZA(),u._UZ(6,"input",1),u.qZA(),u.TgZ(7,"div")(8,"label"),u._uU(9,"Email repeat"),u.qZA(),u._UZ(10,"input",2),u.qZA(),u.TgZ(11,"div")(12,"label"),u._uU(13,"Password"),u.qZA(),u._UZ(14,"input",3),u.qZA(),u.TgZ(15,"div")(16,"label"),u._uU(17,"Password repeat"),u.qZA(),u._UZ(18,"input",4),u.qZA(),u.TgZ(19,"div",5)(20,"button",6),u._uU(21,"Register"),u.qZA()(),u.TgZ(22,"div",5)(23,"button",7),u._uU(24,"back"),u.qZA()(),u.YNc(25,H$,2,1,"p",8),u.YNc(26,G$,2,1,"p",9),u.qZA()),2&t&&(u.Q6J("formGroup",r.registerForm),u.xp6(20),u.Q6J("disabled",r.registerForm.invalid),u.xp6(3),u.Q6J("routerLink",u.DdM(5,$$)),u.xp6(2),u.Q6J("ngIf",r.errorMsg),u.xp6(1),u.Q6J("ngIf",r.message))},directives:[Xd,Bt,eh,Hs,_t,vp,Cu,Sn],styles:[""]}),n})();function q$(n,e){1&n&&(u.ynx(0),u.TgZ(1,"p",8),u._uU(2,"These elements have been identified as texts that need to be translated. You can add these translations now. If you want to omit their translations, remove the identifiers. You can also go back to the template view. It is not recommended to translate a template with elements not translated but with identifiers. This list should be empty before you translate the template "),u.qZA(),u.TgZ(3,"h4"),u._uU(4,"Identified elements without translations:"),u.qZA(),u.BQk())}function z$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",15)(1,"button",16),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).$implicit;return u.oxw().addTranslation(i)}),u._uU(2,"add translations"),u.qZA()()}if(2&n){const t=u.oxw(2).$implicit,r=u.oxw();u.xp6(1),u.Q6J("disabled",r.isDisabled(t[r.translateTo]))}}function Z$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",17)(1,"button",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).$implicit;return u.oxw().removeIdentifier(i.identifier)}),u._uU(2,"remove identifier"),u.qZA()()}}function K$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",11)(1,"p"),u._uU(2),u.qZA(),u.TgZ(3,"p"),u._uU(4),u.qZA(),u.TgZ(5,"input",12),u.NdJ("keyup",function(){return 0})("ngModelChange",function(i){const d=u.CHM(t).index;return u.oxw().$implicit[u.oxw().translateTo][d]=i}),u.qZA(),u.YNc(6,z$,3,1,"div",13),u.YNc(7,Z$,3,0,"div",14),u.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=u.oxw().$implicit,a=u.oxw();u.xp6(2),u.Oqu(0===r?i.identifier:"..."),u.xp6(2),u.Oqu(t),u.xp6(1),u.Q6J("ngModel",i[a.translateTo][r]),u.xp6(1),u.Q6J("ngIf",0===r),u.xp6(1),u.Q6J("ngIf",0===r)}}function Y$(n,e){if(1&n&&(u.TgZ(0,"div",9),u.YNc(1,K$,8,5,"div",10),u.qZA()),2&n){const t=e.$implicit,r=u.oxw();u.xp6(1),u.Q6J("ngForOf",t[r.originLanguage])}}let J$=(()=>{class n{constructor(t,r,i,a,d,f,_){this.project=t,this.language=r,this.template=i,this.service=a,this.router=d,this.dialog=f,this.db=_,this.identifiersToRemove=[],this.purpose=this.service.purpose,this.originLanguage=this.language.origin,this.translateTo=this.language.translateTo,this.originLanguage="polish",this.translateTo="english",this.elements=this.service.elements.map(w=>(w[this.translateTo]=w[this.originLanguage].map(I=>""),w))}ngOnInit(){}ngOnDestroy(){this.service.purpose="",this.service.elements=[]}removeIdentifier(t){this.identifiersToRemove.push(t),this.elements=this.elements.filter(r=>r.identifier!==t)}addTranslation(t){var r=this;return(0,Q.Z)(function*(){let i=t.identifier,a=t[r.translateTo];console.log(a);try{yield r.db.updateTranslationDoc(r.project.name,i,r.translateTo,a),r.elements=r.elements.filter(d=>d.identifier!==i),r.dialog.setDialogOnlyHeader("Succesfull!")}catch(d){r.dialog.setDialogOnlyHeader("db: update doc error")}})()}isDisabled(t){return!t.every(r=>""!==r)}translateAnyway(){var t=this;return(0,Q.Z)(function*(){yield t.askIfSure()})()}goBack(){this.identifiersToRemove&&this.identifiersToRemove.length&&(this.template.identifiersToRemove=this.identifiersToRemove),this.router.navigate(["main"])}askIfSure(){return new Promise(t=>{this.dialog.setDialogWithConfirmButton("Are you sure?","this is not a recommended option!",t)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vm),u.Y36(Lu),u.Y36(MM),u.Y36(b2),u.Y36(Zn),u.Y36(xf),u.Y36(sT))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-report"]],decls:26,vars:4,consts:[[1,"mycontainer"],[4,"ngIf"],[1,"elements"],[1,"myrow","head"],["class","group",4,"ngFor","ngForOf"],[1,"languages"],[1,"mybtn","center"],[3,"click"],[1,"explanation"],[1,"group"],["class","myrow",4,"ngFor","ngForOf"],[1,"myrow"],["type","text","placeholder","translation...",3,"ngModel","keyup","ngModelChange"],["class","mybtn",4,"ngIf"],["class","mybtn red",4,"ngIf"],[1,"mybtn"],[3,"disabled","click"],[1,"mybtn","red"],["type","button",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h3"),u._uU(2,"REPORT"),u.qZA(),u.YNc(3,q$,5,0,"ng-container",1),u.TgZ(4,"div",2)(5,"div",3)(6,"p"),u._uU(7,"IDENTIFIER:"),u.qZA(),u.TgZ(8,"p"),u._uU(9,"TEXTS:"),u.qZA()(),u.YNc(10,Y$,2,1,"div",4),u.qZA(),u.TgZ(11,"div",5)(12,"div")(13,"p"),u._uU(14,"origin language:"),u.qZA(),u.TgZ(15,"p"),u._uU(16),u.qZA()(),u.TgZ(17,"div")(18,"p"),u._uU(19,"translate to language:"),u.qZA(),u.TgZ(20,"p"),u._uU(21),u.qZA(),u._UZ(22,"p"),u.qZA(),u.TgZ(23,"div",6)(24,"button",7),u.NdJ("click",function(){return r.goBack()}),u._uU(25,"GO BACK"),u.qZA()()()()),2&t&&(u.xp6(3),u.Q6J("ngIf","notIdentifiedElements"===r.purpose),u.xp6(7),u.Q6J("ngForOf",r.elements),u.xp6(6),u.Oqu(r.originLanguage),u.xp6(5),u.Oqu(r.translateTo))},directives:[Sn,vn,Hs,_t,ms],styles:[".mycontainer[_ngcontent-%COMP%]{margin:10vh auto;max-width:95vw}.explanation[_ngcontent-%COMP%]{font-size:1.3em;max-width:80%;margin:0 auto;text-align:center}h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px;font-weight:700;color:#1a73e8}h4[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;margin-top:20px;font-weight:700;letter-spacing:1px}.elements[_ngcontent-%COMP%]{margin-top:20px;border:1px solid #0000001f;border-radius:6px;box-shadow:0 -1px #0000001f inset;margin-bottom:20px}.elements[_ngcontent-%COMP%]   .myrow[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 5fr 5fr 2fr 2fr;align-items:center;height:45px}.elements[_ngcontent-%COMP%]   .myrow[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:3px 0;text-align:left}.elements[_ngcontent-%COMP%]   .myrow.head[_ngcontent-%COMP%]{font-weight:700}.elements[_ngcontent-%COMP%]   .myrow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0 10px}.elements[_ngcontent-%COMP%]   .myrow[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{text-align:center}.elements[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]:nth-child(even){background-color:#e8e8e8}.mycontainer[_ngcontent-%COMP%] > .mybtn[_ngcontent-%COMP%]{margin-top:20px}.mycontainer[_ngcontent-%COMP%] > .mybtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:200px}.languages[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.languages[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:not(:first-child){font-weight:700}"]}),n})(),xM=(()=>{class n{constructor(t,r){this.authentication=t,this.router=r}canActivate(t,r){return localStorage.getItem("uid")||this.router.navigate(["login"]),!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Nf),u.LFG(Zn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D2=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}canActivate(t,r){return localStorage.getItem("uid")&&this.router.navigate(["projects"]),!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Nf),u.LFG(Zn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Q$=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:s3,canActivate:[D2]},{path:"projects",component:j$,canActivate:[xM]},{path:"main",component:F$,canActivate:[xM]},{path:"register",component:W$},{path:"go-to-desktop",component:Su},{path:"report",component:J$}];let X$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[jy.forRoot(Q$)],jy]}),n})();function e6(n,e){if(1&n&&(u.TgZ(0,"h1"),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.d.header)}}function t6(n,e){if(1&n&&(u.TgZ(0,"p"),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function n6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",7),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return i.d.confirmFunction(),i.close()}),u._uU(1,"CONFIRM"),u.qZA()}}function r6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",3)(1,"button",7),u.NdJ("click",function(){const a=u.CHM(t).$implicit,d=u.oxw(2);return d.setLanguage(a),d.close()}),u._uU(2),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t)}}function i6(n,e){if(1&n&&(u.ynx(0),u.YNc(1,r6,3,1,"div",8),u.BQk()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngForOf",t.languages)}}let s6=(()=>{class n{constructor(t,r){this.service=t,this.language=r,this.classes="",this.input="",this.fileName="",this.dialog={open:!1,header:"initial",txt:[]},this.languages=this.language.list,this.service.getObs().subscribe(i=>{i.open?(this.dialog=i,this.open()):(this.close(),setTimeout(()=>this.dialog=i,200))})}get d(){return this.dialog}get purpose(){return this.service.purpose}set header(t){this.dialog.header=t}set text(t){""===t?this.dialog.txt=[]:this.dialog.txt.push(t)}close(){"open"===this.classes&&(this.classes+=" close",setTimeout(()=>this.classes="",200))}open(){""===this.classes&&(this.classes="open")}setLanguage(t){this.language.translateTo=t,this.service.purpose=""}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xf),u.Y36(Lu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dialog"]],hostVars:2,hostBindings:function(t,r){2&t&&u.Tol(r.classes)},decls:9,vars:4,consts:[[1,"dialog","mycontainer"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"mybtn","full"],[3,"click",4,"ngIf"],[1,"mybtn","red","full"],[1,"close",3,"click"],[3,"click"],["class","mybtn full",4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,e6,2,1,"h1",1),u.YNc(2,t6,2,1,"p",2),u.TgZ(3,"div",3),u.YNc(4,n6,2,0,"button",4),u.qZA(),u.YNc(5,i6,2,1,"ng-container",1),u.TgZ(6,"div",5)(7,"button",6),u.NdJ("click",function(){return r.close()}),u._uU(8,"CLOSE"),u.qZA()()()),2&t&&(u.xp6(1),u.Q6J("ngIf",r.d.header),u.xp6(1),u.Q6J("ngForOf",r.d.txt),u.xp6(2),u.Q6J("ngIf",r.d.confirmFunction),u.xp6(1),u.Q6J("ngIf","language"===r.purpose))},directives:[Sn,vn],styles:["[_nghost-%COMP%]{position:fixed;width:100%;height:100%;left:0;top:0;background-color:#00000086;transform:scale(0);display:flex;align-items:center;justify-content:center}.dialog[_ngcontent-%COMP%]{z-index:110;padding-left:20px;padding-right:20px;display:flex;flex-direction:column;text-align:center;min-width:300px;margin-bottom:200px;border-radius:4px}h1[_ngcontent-%COMP%]{margin-bottom:20px;max-width:300px;margin-left:auto;margin-right:auto}.mybtn[_ngcontent-%COMP%]{margin-top:20px}.open[_nghost-%COMP%]{animation:open-animation .12s ease-in-out forwards}.open.close[_nghost-%COMP%]{animation:close-animation .12s ease-in-out forwards}@keyframes open-animation{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes close-animation{0%{transform:scale(1)}to{transform:scale(0)}}"]}),n})(),o6=(()=>{class n{constructor(t,r){this.router=t,this.project=r,this.title="html-translator",this.reportActive=!1,this.isMobile=()=>{let i=!1;return a=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(i=!0),i;var a},this.project.openReportObs.subscribe(()=>{console.log("open report observer"),this.reportActive=!0}),this.isMobile()?this.router.navigate(["go-to-desktop"]):this.router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zn),u.Y36(vm))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")(1,"app-dialog")},directives:[Sy,s6],styles:["[_nghost-%COMP%]{display:inline-table;height:99.5%;width:100%}"]}),n})();const T2_firebase={apiKey:"AIzaSyB5MWLxPvf_Jxxp5cWqS4DwzpimEaNGNQA",authDomain:"html-translator-d72f3.firebaseapp.com",databaseURL:"https://html-translator-d72f3-default-rtdb.europe-west1.firebasedatabase.app",projectId:"html-translator-d72f3",storageBucket:"html-translator-d72f3.appspot.com",messagingSenderId:"96638802282",appId:"1:96638802282:web:d5dc85528f936007972d13",measurementId:"G-8GEJCYV696"};let a6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[o6]}),n.\u0275inj=u.cJS({providers:[Nf,xM,D2],imports:[[Zl,X$,nu,U0,j0,XC,Co.hO.initializeApp(T2_firebase)]]}),n})();(0,u.G48)(),ec().bootstrapModule(a6).catch(n=>console.error(n))},5867:(it,De,k)=>{k.d(De,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=k(9681);(0,u.registerVersion)("firebase","9.8.1","app")},127:(it,De,k)=>{k.d(De,{Z:()=>u.Z});var u=k(3942);u.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(it,De,k)=>{k.r(De);var u=k(5861),V=k(3942),R=k(198),ae=k(2090),fe=(k(9681),k(1877),k(4859));function ce(){return window}function j(){return(j=(0,u.Z)(function*(de,K,q){var Ae;const{BuildInfo:Xe}=ce();(0,R.aq)(K.sessionId,"AuthEvent did not contain a session ID");const pt=yield Se(K.sessionId),xt={};return(0,R.ar)()?xt.ibi=Xe.packageName:(0,R.as)()?xt.apn=Xe.packageName:(0,R.at)(de,"operation-not-supported-in-this-environment"),Xe.displayName&&(xt.appDisplayName=Xe.displayName),xt.sessionId=pt,(0,R.au)(de,q,K.type,void 0,null!==(Ae=K.eventId)&&void 0!==Ae?Ae:void 0,xt)})).apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*(de){const{BuildInfo:K}=ce(),q={};(0,R.ar)()?q.iosBundleId=K.packageName:(0,R.as)()?q.androidPackageName=K.packageName:(0,R.at)(de,"operation-not-supported-in-this-environment"),yield(0,R.av)(de,q)})).apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(de,K,q){const{cordova:Ae}=ce();let Xe=()=>{};try{yield new Promise((pt,xt)=>{let Kt=null;function Ut(){var jt;pt();const Ar=null===(jt=Ae.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof Ar&&Ar(),"function"==typeof(null==q?void 0:q.close)&&q.close()}function Gn(){Kt||(Kt=window.setTimeout(()=>{xt((0,R.aw)(de,"redirect-cancelled-by-user"))},2e3))}function Zr(){"visible"===(null==document?void 0:document.visibilityState)&&Gn()}K.addPassiveListener(Ut),document.addEventListener("resume",Gn,!1),(0,R.as)()&&document.addEventListener("visibilitychange",Zr,!1),Xe=()=>{K.removePassiveListener(Ut),document.removeEventListener("resume",Gn,!1),document.removeEventListener("visibilitychange",Zr,!1),Kt&&window.clearTimeout(Kt)}})}finally{Xe()}})).apply(this,arguments)}function Se(de){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(function*(de){const K=ze(de),q=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(q)).map(Xe=>Xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ze(de){if((0,R.aq)(/[0-9a-zA-Z]+/.test(de),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(de);const K=new ArrayBuffer(de.length),q=new Uint8Array(K);for(let Ae=0;Ae<de.length;Ae++)q[Ae]=de.charCodeAt(Ae);return q}class xe extends R.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(K)),super.onEvent(K)}initialized(){var K=this;return(0,u.Z)(function*(){yield K.initPromise})()}}function ne(de){return pe.apply(this,arguments)}function pe(){return(pe=(0,u.Z)(function*(de){const K=yield re()._get(oe(de));return K&&(yield re()._remove(oe(de))),K})).apply(this,arguments)}function Y(){const de=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<20;q++){const Ae=Math.floor(Math.random()*K.length);de.push(K.charAt(Ae))}return de.join("")}function re(){return(0,R.ay)(R.b)}function oe(de){return(0,R.az)("authEvent",de.config.apiKey,de.name)}function Ve(de){if(!(null==de?void 0:de.includes("?")))return{};const[K,...q]=de.split("?");return(0,ae.zd)(q.join("?"))}function Je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function Gt(){var de;return(null===(de=null==self?void 0:self.location)||void 0===de?void 0:de.protocol)||null}function Dn(de=(0,ae.z$)()){return!("file:"!==Gt()&&"ionic:"!==Gt()||!de.toLowerCase().match(/iphone|ipad|ipod|android/))}function ii(){try{const de=self.localStorage,K=R.aI();if(de)return de.setItem(K,"1"),de.removeItem(K),!function ji(de=(0,ae.z$)()){return function Ir(){return(0,ae.w1)()&&11===(null==document?void 0:document.documentMode)}()||function In(de=(0,ae.z$)()){return/Edge\/\d+/.test(de)}(de)}()||(0,ae.hl)()}catch(de){return Ei()&&(0,ae.hl)()}return!1}function Ei(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yn(){return(function tn(){return"http:"===Gt()||"https:"===Gt()}()||(0,ae.ru)()||Dn())&&!function Ui(){return(0,ae.b$)()||(0,ae.UG)()}()&&ii()&&!Ei()}function Hi(){return Dn()&&"undefined"!=typeof document}function Pr(){return(Pr=(0,u.Z)(function*(){return!!Hi()&&new Promise(de=>{const K=setTimeout(()=>{de(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),de(!0)})})})).apply(this,arguments)}const nn={LOCAL:"local",NONE:"none",SESSION:"session"},Sr=R.ax,ur="persistence";function Tn(de){return cr.apply(this,arguments)}function cr(){return(cr=(0,u.Z)(function*(de){yield de._initializationPromise;const K=Zt(),q=R.az(ur,de.config.apiKey,de.name);K&&K.setItem(q,de._getPersistence())})).apply(this,arguments)}function Zt(){var de;try{return(null===(de=function bn(){return"undefined"!=typeof window?window:null}())||void 0===de?void 0:de.sessionStorage)||null}catch(K){return null}}const mt=R.ax;class lt{constructor(){this.browserResolver=R.ay(R.k),this.cordovaResolver=R.ay(class en{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(K){var q=this;return(0,u.Z)(function*(){const Ae=K._key();let Xe=q.eventManagers.get(Ae);return Xe||(Xe=new xe(K),q.eventManagers.set(Ae,Xe),q.attachCallbackListeners(K,Xe)),Xe})()}_openPopup(K){(0,R.at)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,q,Ae,Xe){var pt=this;return(0,u.Z)(function*(){!function me(de){var K,q,Ae,Xe,pt,xt,Kt,Ut,Gn,Zr;const jt=ce();(0,R.ax)("function"==typeof(null===(K=null==jt?void 0:jt.universalLinks)||void 0===K?void 0:K.subscribe),de,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(void 0!==(null===(q=null==jt?void 0:jt.BuildInfo)||void 0===q?void 0:q.packageName),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(pt=null===(Xe=null===(Ae=null==jt?void 0:jt.cordova)||void 0===Ae?void 0:Ae.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===pt?void 0:pt.openUrl),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Ut=null===(Kt=null===(xt=null==jt?void 0:jt.cordova)||void 0===xt?void 0:xt.plugins)||void 0===Kt?void 0:Kt.browsertab)||void 0===Ut?void 0:Ut.isAvailable),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Zr=null===(Gn=null==jt?void 0:jt.cordova)||void 0===Gn?void 0:Gn.InAppBrowser)||void 0===Zr?void 0:Zr.open),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const xt=yield pt._initialize(K);yield xt.initialized(),xt.resetRedirect(),(0,R.aD)(),yield pt._originValidation(K);const Kt=function Ce(de,K,q=null){return{type:K,eventId:q,urlResponse:null,sessionId:Y(),postBody:null,tenantId:de.tenantId,error:(0,R.aw)(de,"no-auth-event")}}(K,Ae,Xe);yield function Ye(de,K){return re()._set(oe(de),K)}(K,Kt);const Ut=yield function $(de,K,q){return j.apply(this,arguments)}(K,Kt,q),Gn=yield function Ne(de){const{cordova:K}=ce();return new Promise(q=>{K.plugins.browsertab.isAvailable(Ae=>{let Xe=null;Ae?K.plugins.browsertab.openUrl(de):Xe=K.InAppBrowser.open(de,(0,R.ap)()?"_blank":"_system","location=yes"),q(Xe)})})}(Ut);return function Le(de,K,q){return $e.apply(this,arguments)}(K,xt,Gn)})()}_isIframeWebStorageSupported(K,q){throw new Error("Method not implemented.")}_originValidation(K){const q=K._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function se(de){return Ke.apply(this,arguments)}(K)),this.originValidationPromises[q]}attachCallbackListeners(K,q){const{universalLinks:Ae,handleOpenURL:Xe,BuildInfo:pt}=ce(),xt=setTimeout((0,u.Z)(function*(){yield ne(K),q.onEvent(Je())}),500),Kt=function(){var Zr=(0,u.Z)(function*(jt){clearTimeout(xt);const Ar=yield ne(K);let $i=null;Ar&&(null==jt?void 0:jt.url)&&($i=function Ie(de,K){var q,Ae;const Xe=function he(de){const K=Ve(de),q=K.link?decodeURIComponent(K.link):void 0,Ae=Ve(q).link,Xe=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return Ve(Xe).link||Xe||Ae||q||de}(K);if(Xe.includes("/__/auth/callback")){const pt=Ve(Xe),xt=pt.firebaseError?function be(de){try{return JSON.parse(de)}catch(K){return null}}(decodeURIComponent(pt.firebaseError)):null,Kt=null===(Ae=null===(q=null==xt?void 0:xt.code)||void 0===q?void 0:q.split("auth/"))||void 0===Ae?void 0:Ae[1],Ut=Kt?(0,R.aw)(Kt):null;return Ut?{type:de.type,eventId:de.eventId,tenantId:de.tenantId,error:Ut,urlResponse:null,sessionId:null,postBody:null}:{type:de.type,eventId:de.eventId,tenantId:de.tenantId,sessionId:de.sessionId,urlResponse:Xe,postBody:null}}return null}(Ar,jt.url)),q.onEvent($i||Je())});return function(Ar){return Zr.apply(this,arguments)}}();void 0!==Ae&&"function"==typeof Ae.subscribe&&Ae.subscribe(null,Kt);const Ut=Xe,Gn=`${pt.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var Zr=(0,u.Z)(function*(jt){if(jt.toLowerCase().startsWith(Gn)&&Kt({url:jt}),"function"==typeof Ut)try{Ut(jt)}catch(Ar){console.error(Ar)}});return function(jt){return Zr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(K){var q=this;return(0,u.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,q,Ae,Xe){var pt=this;return(0,u.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openPopup(K,q,Ae,Xe)})()}_openRedirect(K,q,Ae,Xe){var pt=this;return(0,u.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openRedirect(K,q,Ae,Xe)})()}_isIframeWebStorageSupported(K,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,q)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return Hi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,u.Z)(function*(){if(K.underlyingResolver)return;const q=yield function bt(){return Pr.apply(this,arguments)}();K.underlyingResolver=q?K.cordovaResolver:K.browserResolver})()}}function si(de){return de.unwrap()}function $t(de){return kn(de)}function kn(de){const{_tokenResponse:K}=de instanceof ae.ZR?de.customData:de;if(!K)return null;if(!(de instanceof ae.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return R.P.credentialFromResult(de);const q=K.providerId;if(!q||q===R.o.PASSWORD)return null;let Ae;switch(q){case R.o.GOOGLE:Ae=R.Q;break;case R.o.FACEBOOK:Ae=R.N;break;case R.o.GITHUB:Ae=R.T;break;case R.o.TWITTER:Ae=R.W;break;default:const{oauthIdToken:Xe,oauthAccessToken:pt,oauthTokenSecret:xt,pendingToken:Kt,nonce:Ut}=K;return pt||xt||Xe||Kt?Kt?q.startsWith("saml.")?R.aL._create(q,Kt):R.J._fromParams({providerId:q,signInMethod:q,pendingToken:Kt,idToken:Xe,accessToken:pt}):new R.U(q).credential({idToken:Xe,accessToken:pt,rawNonce:Ut}):null}return de instanceof ae.ZR?Ae.credentialFromError(de):Ae.credentialFromResult(de)}function cn(de,K){return K.catch(q=>{throw q instanceof ae.ZR&&function Gi(de,K){var q;const Ae=null===(q=K.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===K.code)K.resolver=new Z(de,R.an(de,K));else if(Ae){const Xe=kn(K),pt=K;Xe&&(pt.credential=Xe,pt.tenantId=Ae.tenantId||void 0,pt.email=Ae.email||void 0,pt.phoneNumber=Ae.phoneNumber||void 0)}}(de,q),q}).then(q=>{const Xe=q.user;return{operationType:q.operationType,credential:$t(q),additionalUserInfo:R.al(q),user:Te.getOrCreate(Xe)}})}function U(de,K){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(de,K){const q=yield K;return{verificationId:q.verificationId,confirm:Ae=>cn(de,q.confirm(Ae))}})).apply(this,arguments)}class Z{constructor(K,q){this.resolver=q,this.auth=function oi(de){return de.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return cn(si(this.auth),this.resolver.resolveSignIn(K))}}class Te{constructor(K){this._delegate=K,this.multiFactor=R.ao(K)}static getOrCreate(K){return Te.USER_MAP.has(K)||Te.USER_MAP.set(K,new Te(K)),Te.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var q=this;return(0,u.Z)(function*(){return cn(q.auth,R.Z(q._delegate,K))})()}linkWithPhoneNumber(K,q){var Ae=this;return(0,u.Z)(function*(){return U(Ae.auth,R.l(Ae._delegate,K,q))})()}linkWithPopup(K){var q=this;return(0,u.Z)(function*(){return cn(q.auth,R.d(q._delegate,K,lt))})()}linkWithRedirect(K){var q=this;return(0,u.Z)(function*(){return yield Tn(R.aE(q.auth)),R.g(q._delegate,K,lt)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var q=this;return(0,u.Z)(function*(){return cn(q.auth,R._(q._delegate,K))})()}reauthenticateWithPhoneNumber(K,q){return U(this.auth,R.r(this._delegate,K,q))}reauthenticateWithPopup(K){return cn(this.auth,R.e(this._delegate,K,lt))}reauthenticateWithRedirect(K){var q=this;return(0,u.Z)(function*(){return yield Tn(R.aE(q.auth)),R.h(q._delegate,K,lt)})()}sendEmailVerification(K){return R.ab(this._delegate,K)}unlink(K){var q=this;return(0,u.Z)(function*(){return yield R.ak(q._delegate,K),q})()}updateEmail(K){return R.ag(this._delegate,K)}updatePassword(K){return R.ah(this._delegate,K)}updatePhoneNumber(K){return R.u(this._delegate,K)}updateProfile(K){return R.af(this._delegate,K)}verifyBeforeUpdateEmail(K,q){return R.ac(this._delegate,K,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Te.USER_MAP=new WeakMap;const G=R.ax;let ee=(()=>{class de{constructor(q,Ae){if(this.app=q,Ae.isInitialized())return this._delegate=Ae.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Xe}=q.options;G(Xe,"invalid-api-key",{appName:q.name}),G(Xe,"invalid-api-key",{appName:q.name});const pt="undefined"!=typeof window?lt:void 0;this._delegate=Ae.initialize({options:{persistence:nt(Xe,q.name),popupRedirectResolver:pt}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Te.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,Ae){R.G(this._delegate,q,Ae)}applyActionCode(q){return R.a2(this._delegate,q)}checkActionCode(q){return R.a3(this._delegate,q)}confirmPasswordReset(q,Ae){return R.a1(this._delegate,q,Ae)}createUserWithEmailAndPassword(q,Ae){var Xe=this;return(0,u.Z)(function*(){return cn(Xe._delegate,R.a5(Xe._delegate,q,Ae))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return R.aa(this._delegate,q)}isSignInWithEmailLink(q){return R.a8(this._delegate,q)}getRedirectResult(){var q=this;return(0,u.Z)(function*(){G(Yn(),q._delegate,"operation-not-supported-in-this-environment");const Ae=yield R.j(q._delegate,lt);return Ae?cn(q._delegate,Promise.resolve(Ae)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function un(de,K){(0,R.aE)(de)._logFramework(K)}(this._delegate,q)}onAuthStateChanged(q,Ae,Xe){const{next:pt,error:xt,complete:Kt}=ke(q,Ae,Xe);return this._delegate.onAuthStateChanged(pt,xt,Kt)}onIdTokenChanged(q,Ae,Xe){const{next:pt,error:xt,complete:Kt}=ke(q,Ae,Xe);return this._delegate.onIdTokenChanged(pt,xt,Kt)}sendSignInLinkToEmail(q,Ae){return R.a7(this._delegate,q,Ae)}sendPasswordResetEmail(q,Ae){return R.a0(this._delegate,q,Ae||void 0)}setPersistence(q){var Ae=this;return(0,u.Z)(function*(){let Xe;switch(function Fr(de,K){Sr(Object.values(nn).includes(K),de,"invalid-persistence-type"),(0,ae.b$)()?Sr(K!==nn.SESSION,de,"unsupported-persistence-type"):(0,ae.UG)()?Sr(K===nn.NONE,de,"unsupported-persistence-type"):Ei()?Sr(K===nn.NONE||K===nn.LOCAL&&(0,ae.hl)(),de,"unsupported-persistence-type"):Sr(K===nn.NONE||ii(),de,"unsupported-persistence-type")}(Ae._delegate,q),q){case nn.SESSION:Xe=R.a;break;case nn.LOCAL:Xe=(yield R.ay(R.i)._isAvailable())?R.i:R.b;break;case nn.NONE:Xe=R.L;break;default:return R.at("argument-error",{appName:Ae._delegate.name})}return Ae._delegate.setPersistence(Xe)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return cn(this._delegate,R.X(this._delegate))}signInWithCredential(q){return cn(this._delegate,R.Y(this._delegate,q))}signInWithCustomToken(q){return cn(this._delegate,R.$(this._delegate,q))}signInWithEmailAndPassword(q,Ae){return cn(this._delegate,R.a6(this._delegate,q,Ae))}signInWithEmailLink(q,Ae){return cn(this._delegate,R.a9(this._delegate,q,Ae))}signInWithPhoneNumber(q,Ae){return U(this._delegate,R.s(this._delegate,q,Ae))}signInWithPopup(q){var Ae=this;return(0,u.Z)(function*(){return G(Yn(),Ae._delegate,"operation-not-supported-in-this-environment"),cn(Ae._delegate,R.c(Ae._delegate,q,lt))})()}signInWithRedirect(q){var Ae=this;return(0,u.Z)(function*(){return G(Yn(),Ae._delegate,"operation-not-supported-in-this-environment"),yield Tn(Ae._delegate),R.f(Ae._delegate,q,lt)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return R.a4(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return de.Persistence=nn,de})();function ke(de,K,q){let Ae=de;"function"!=typeof de&&({next:Ae,error:K,complete:q}=de);const Xe=Ae;return{next:xt=>Xe(xt&&Te.getOrCreate(xt)),error:K,complete:q}}function nt(de,K){const q=function Ms(de,K){const q=Zt();if(!q)return[];const Ae=R.az(ur,de,K);switch(q.getItem(Ae)){case nn.NONE:return[R.L];case nn.LOCAL:return[R.i,R.a];case nn.SESSION:return[R.a];default:return[]}}(de,K);if("undefined"!=typeof self&&!q.includes(R.i)&&q.push(R.i),"undefined"!=typeof window)for(const Ae of[R.b,R.a])q.includes(Ae)||q.push(Ae);return q.includes(R.L)||q.push(R.L),q}class vt{constructor(){this.providerId="phone",this._delegate=new R.P(si(V.Z.auth()))}static credential(K,q){return R.P.credential(K,q)}verifyPhoneNumber(K,q){return this._delegate.verifyPhoneNumber(K,q)}unwrap(){return this._delegate}}vt.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,vt.PROVIDER_ID=R.P.PROVIDER_ID;const kt=R.ax;class on{constructor(K,q,Ae=V.Z.app()){var Xe;kt(null===(Xe=Ae.options)||void 0===Xe?void 0:Xe.apiKey,"invalid-api-key",{appName:Ae.name}),this._delegate=new R.R(K,q,Ae.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Jn(de){de.INTERNAL.registerComponent(new fe.wA("auth-compat",K=>{const q=K.getProvider("app-compat").getImmediate(),Ae=K.getProvider("auth");return new ee(q,Ae)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:vt,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:on,TwitterAuthProvider:R.W,Auth:ee,AuthCredential:R.H,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),de.registerVersion("@firebase/auth-compat","0.2.14")}(V.Z)},8306:(it,De,k)=>{k.d(De,{y:()=>$});var u=k(930),V=k(727),R=k(8822),ae=k(4671);var fe=k(2416),ce=k(576),ye=k(2806);let $=(()=>{class Ne{constructor($e){$e&&(this._subscribe=$e)}lift($e){const me=new Ne;return me.source=this,me.operator=$e,me}subscribe($e,me,Se){const Ze=function Ke(Ne){return Ne&&Ne instanceof u.Lv||function se(Ne){return Ne&&(0,ce.m)(Ne.next)&&(0,ce.m)(Ne.error)&&(0,ce.m)(Ne.complete)}(Ne)&&(0,V.Nn)(Ne)}($e)?$e:new u.Hp($e,me,Se);return(0,ye.x)(()=>{const{operator:ze,source:Me}=this;Ze.add(ze?ze.call(Ze,Me):Me?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe($e){try{return this._subscribe($e)}catch(me){$e.error(me)}}forEach($e,me){return new(me=j(me))((Se,Ze)=>{const ze=new u.Hp({next:Me=>{try{$e(Me)}catch(xe){Ze(xe),ze.unsubscribe()}},error:Ze,complete:Se});this.subscribe(ze)})}_subscribe($e){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe($e)}[R.L](){return this}pipe(...$e){return function _e(Ne){return 0===Ne.length?ae.y:1===Ne.length?Ne[0]:function($e){return Ne.reduce((me,Se)=>Se(me),$e)}}($e)(this)}toPromise($e){return new($e=j($e))((me,Se)=>{let Ze;this.subscribe(ze=>Ze=ze,ze=>Se(ze),()=>me(Ze))})}}return Ne.create=Le=>new Ne(Le),Ne})();function j(Ne){var Le;return null!==(Le=null!=Ne?Ne:fe.v.Promise)&&void 0!==Le?Le:Promise}},7579:(it,De,k)=>{k.d(De,{x:()=>fe});var u=k(8306),V=k(727);const ae=(0,k(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=k(8737),_e=k(2806);let fe=(()=>{class ye extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const se=new ce(this,this);return se.operator=j,se}_throwIfClosed(){if(this.closed)throw new ae}next(j){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(j)}})}error(j){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:se}=this;for(;se.length;)se.shift().error(j)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:se,isStopped:Ke,observers:Ne}=this;return se||Ke?V.Lc:(this.currentObservers=null,Ne.push(j),new V.w0(()=>{this.currentObservers=null,(0,ue.P)(Ne,j)}))}_checkFinalizedStatuses(j){const{hasError:se,thrownError:Ke,isStopped:Ne}=this;se?j.error(Ke):Ne&&j.complete()}asObservable(){const j=new u.y;return j.source=this,j}}return ye.create=($,j)=>new ce($,j),ye})();class ce extends fe{constructor($,j){super(),this.destination=$,this.source=j}next($){var j,se;null===(se=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===se||se.call(j,$)}error($){var j,se;null===(se=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===se||se.call(j,$)}complete(){var $,j;null===(j=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===j||j.call($)}_subscribe($){var j,se;return null!==(se=null===(j=this.source)||void 0===j?void 0:j.subscribe($))&&void 0!==se?se:V.Lc}}},930:(it,De,k)=>{k.d(De,{Hp:()=>$e,Lv:()=>se});var u=k(576),V=k(727),R=k(2416),ae=k(7849),ue=k(5032);const _e=ye("C",void 0,void 0);function ye(Me,xe,Ce){return{kind:Me,value:xe,error:Ce}}var $=k(3410),j=k(2806);class se extends V.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,V.Nn)(xe)&&xe.add(this)):this.destination=ze}static create(xe,Ce,Ye){return new $e(xe,Ce,Ye)}next(xe){this.isStopped?Ze(function ce(Me){return ye("N",Me,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?Ze(function fe(Me){return ye("E",void 0,Me)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?Ze(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Ne(Me,xe){return Ke.call(Me,xe)}class Le{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(xe)}catch(Ye){me(Ye)}}error(xe){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(xe)}catch(Ye){me(Ye)}else me(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(Ce){me(Ce)}}}class $e extends se{constructor(xe,Ce,Ye){let ne;if(super(),(0,u.m)(xe)||!xe)ne={next:null!=xe?xe:void 0,error:null!=Ce?Ce:void 0,complete:null!=Ye?Ye:void 0};else{let pe;this&&R.v.useDeprecatedNextContext?(pe=Object.create(xe),pe.unsubscribe=()=>this.unsubscribe(),ne={next:xe.next&&Ne(xe.next,pe),error:xe.error&&Ne(xe.error,pe),complete:xe.complete&&Ne(xe.complete,pe)}):ne=xe}this.destination=new Le(ne)}}function me(Me){R.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Me):(0,ae.h)(Me)}function Ze(Me,xe){const{onStoppedNotification:Ce}=R.v;Ce&&$.z.setTimeout(()=>Ce(Me,xe))}const ze={closed:!0,next:ue.Z,error:function Se(Me){throw Me},complete:ue.Z}},727:(it,De,k)=>{k.d(De,{Lc:()=>_e,w0:()=>ue,Nn:()=>fe});var u=k(576);const R=(0,k(3888).d)(ye=>function(j){ye(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((se,Ke)=>`${Ke+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ae=k(8737);class ue{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ne of j)Ne.remove(this);else j.remove(this);const{initialTeardown:se}=this;if((0,u.m)(se))try{se()}catch(Ne){$=Ne instanceof R?Ne.errors:[Ne]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Ne of Ke)try{ce(Ne)}catch(Le){$=null!=$?$:[],Le instanceof R?$=[...$,...Le.errors]:$.push(Le)}}if($)throw new R($)}}add($){var j;if($&&$!==this)if(this.closed)ce($);else{if($ instanceof ue){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push($)}}_hasParent($){const{_parentage:j}=this;return j===$||Array.isArray(j)&&j.includes($)}_addParent($){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push($),j):j?[j,$]:$}_removeParent($){const{_parentage:j}=this;j===$?this._parentage=null:Array.isArray(j)&&(0,ae.P)(j,$)}remove($){const{_finalizers:j}=this;j&&(0,ae.P)(j,$),$ instanceof ue&&$._removeParent(this)}}ue.EMPTY=(()=>{const ye=new ue;return ye.closed=!0,ye})();const _e=ue.EMPTY;function fe(ye){return ye instanceof ue||ye&&"closed"in ye&&(0,u.m)(ye.remove)&&(0,u.m)(ye.add)&&(0,u.m)(ye.unsubscribe)}function ce(ye){(0,u.m)(ye)?ye():ye.unsubscribe()}},2416:(it,De,k)=>{k.d(De,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,De,k)=>{k.d(De,{E:()=>V});const V=new(k(8306).y)(ue=>ue.complete())},8996:(it,De,k)=>{k.d(De,{D:()=>xe});var u=k(8421),V=k(5363),R=k(9468),_e=k(8306),ce=k(2202),ye=k(576),$=k(9672);function se(Ce,Ye){if(!Ce)throw new Error("Iterable cannot be null");return new _e.y(ne=>{(0,$.f)(ne,Ye,()=>{const pe=Ce[Symbol.asyncIterator]();(0,$.f)(ne,Ye,()=>{pe.next().then(Ie=>{Ie.done?ne.complete():ne.next(Ie.value)})},0,!0)})})}var Ke=k(3670),Ne=k(8239),Le=k(1144),$e=k(6495),me=k(2206),Se=k(4532),Ze=k(3260);function xe(Ce,Ye){return Ye?function Me(Ce,Ye){if(null!=Ce){if((0,Ke.c)(Ce))return function ae(Ce,Ye){return(0,u.Xf)(Ce).pipe((0,R.R)(Ye),(0,V.Q)(Ye))}(Ce,Ye);if((0,Le.z)(Ce))return function fe(Ce,Ye){return new _e.y(ne=>{let pe=0;return Ye.schedule(function(){pe===Ce.length?ne.complete():(ne.next(Ce[pe++]),ne.closed||this.schedule())})})}(Ce,Ye);if((0,Ne.t)(Ce))return function ue(Ce,Ye){return(0,u.Xf)(Ce).pipe((0,R.R)(Ye),(0,V.Q)(Ye))}(Ce,Ye);if((0,me.D)(Ce))return se(Ce,Ye);if((0,$e.T)(Ce))return function j(Ce,Ye){return new _e.y(ne=>{let pe;return(0,$.f)(ne,Ye,()=>{pe=Ce[ce.h](),(0,$.f)(ne,Ye,()=>{let Ie,Y;try{({value:Ie,done:Y}=pe.next())}catch(re){return void ne.error(re)}Y?ne.complete():ne.next(Ie)},0,!0)}),()=>(0,ye.m)(null==pe?void 0:pe.return)&&pe.return()})}(Ce,Ye);if((0,Ze.L)(Ce))return function ze(Ce,Ye){return se((0,Ze.Q)(Ce),Ye)}(Ce,Ye)}throw(0,Se.z)(Ce)}(Ce,Ye):(0,u.Xf)(Ce)}},8421:(it,De,k)=>{k.d(De,{Xf:()=>Ke});var u=k(655),V=k(1144),R=k(8239),ae=k(8306),ue=k(3670),_e=k(2206),fe=k(4532),ce=k(6495),ye=k(3260),$=k(576),j=k(7849),se=k(8822);function Ke(Me){if(Me instanceof ae.y)return Me;if(null!=Me){if((0,ue.c)(Me))return function Ne(Me){return new ae.y(xe=>{const Ce=Me[se.L]();if((0,$.m)(Ce.subscribe))return Ce.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,V.z)(Me))return function Le(Me){return new ae.y(xe=>{for(let Ce=0;Ce<Me.length&&!xe.closed;Ce++)xe.next(Me[Ce]);xe.complete()})}(Me);if((0,R.t)(Me))return function $e(Me){return new ae.y(xe=>{Me.then(Ce=>{xe.closed||(xe.next(Ce),xe.complete())},Ce=>xe.error(Ce)).then(null,j.h)})}(Me);if((0,_e.D)(Me))return Se(Me);if((0,ce.T)(Me))return function me(Me){return new ae.y(xe=>{for(const Ce of Me)if(xe.next(Ce),xe.closed)return;xe.complete()})}(Me);if((0,ye.L)(Me))return function Ze(Me){return Se((0,ye.Q)(Me))}(Me)}throw(0,fe.z)(Me)}function Se(Me){return new ae.y(xe=>{(function ze(Me,xe){var Ce,Ye,ne,pe;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,u.KL)(Me);!(Ye=yield Ce.next()).done;)if(xe.next(Ye.value),xe.closed)return}catch(Ie){ne={error:Ie}}finally{try{Ye&&!Ye.done&&(pe=Ce.return)&&(yield pe.call(Ce))}finally{if(ne)throw ne.error}}xe.complete()})})(Me,xe).catch(Ce=>xe.error(Ce))})}},6451:(it,De,k)=>{k.d(De,{T:()=>_e});var u=k(8189),V=k(8421),R=k(515),ae=k(3269),ue=k(8996);function _e(...fe){const ce=(0,ae.yG)(fe),ye=(0,ae._6)(fe,1/0),$=fe;return $.length?1===$.length?(0,V.Xf)($[0]):(0,u.J)(ye)((0,ue.D)($,ce)):R.E}},5403:(it,De,k)=>{k.d(De,{x:()=>V});var u=k(930);function V(ae,ue,_e,fe,ce){return new R(ae,ue,_e,fe,ce)}class R extends u.Lv{constructor(ue,_e,fe,ce,ye,$){super(ue),this.onFinalize=ye,this.shouldUnsubscribe=$,this._next=_e?function(j){try{_e(j)}catch(se){ue.error(se)}}:super._next,this._error=ce?function(j){try{ce(j)}catch(se){ue.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(j){ue.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(it,De,k)=>{k.d(De,{U:()=>R});var u=k(4482),V=k(5403);function R(ae,ue){return(0,u.e)((_e,fe)=>{let ce=0;_e.subscribe((0,V.x)(fe,ye=>{fe.next(ae.call(ue,ye,ce++))}))})}},8189:(it,De,k)=>{k.d(De,{J:()=>R});var u=k(5577),V=k(4671);function R(ae=1/0){return(0,u.z)(V.y,ae)}},5577:(it,De,k)=>{k.d(De,{z:()=>ce});var u=k(4004),V=k(8421),R=k(4482),ae=k(9672),ue=k(5403),fe=k(576);function ce(ye,$,j=1/0){return(0,fe.m)($)?ce((se,Ke)=>(0,u.U)((Ne,Le)=>$(se,Ne,Ke,Le))((0,V.Xf)(ye(se,Ke))),j):("number"==typeof $&&(j=$),(0,R.e)((se,Ke)=>function _e(ye,$,j,se,Ke,Ne,Le,$e){const me=[];let Se=0,Ze=0,ze=!1;const Me=()=>{ze&&!me.length&&!Se&&$.complete()},xe=Ye=>Se<se?Ce(Ye):me.push(Ye),Ce=Ye=>{Ne&&$.next(Ye),Se++;let ne=!1;(0,V.Xf)(j(Ye,Ze++)).subscribe((0,ue.x)($,pe=>{null==Ke||Ke(pe),Ne?xe(pe):$.next(pe)},()=>{ne=!0},void 0,()=>{if(ne)try{for(Se--;me.length&&Se<se;){const pe=me.shift();Le?(0,ae.f)($,Le,()=>Ce(pe)):Ce(pe)}Me()}catch(pe){$.error(pe)}}))};return ye.subscribe((0,ue.x)($,xe,()=>{ze=!0,Me()})),()=>{null==$e||$e()}}(se,Ke,ye,j)))}},5363:(it,De,k)=>{k.d(De,{Q:()=>ae});var u=k(9672),V=k(4482),R=k(5403);function ae(ue,_e=0){return(0,V.e)((fe,ce)=>{fe.subscribe((0,R.x)(ce,ye=>(0,u.f)(ce,ue,()=>ce.next(ye),_e),()=>(0,u.f)(ce,ue,()=>ce.complete(),_e),ye=>(0,u.f)(ce,ue,()=>ce.error(ye),_e)))})}},3099:(it,De,k)=>{k.d(De,{B:()=>_e});var u=k(8996),V=k(5698),R=k(7579),ae=k(930),ue=k(4482);function _e(ce={}){const{connector:ye=(()=>new R.x),resetOnError:$=!0,resetOnComplete:j=!0,resetOnRefCountZero:se=!0}=ce;return Ke=>{let Ne=null,Le=null,$e=null,me=0,Se=!1,Ze=!1;const ze=()=>{null==Le||Le.unsubscribe(),Le=null},Me=()=>{ze(),Ne=$e=null,Se=Ze=!1},xe=()=>{const Ce=Ne;Me(),null==Ce||Ce.unsubscribe()};return(0,ue.e)((Ce,Ye)=>{me++,!Ze&&!Se&&ze();const ne=$e=null!=$e?$e:ye();Ye.add(()=>{me--,0===me&&!Ze&&!Se&&(Le=fe(xe,se))}),ne.subscribe(Ye),Ne||(Ne=new ae.Hp({next:pe=>ne.next(pe),error:pe=>{Ze=!0,ze(),Le=fe(Me,$,pe),ne.error(pe)},complete:()=>{Se=!0,ze(),Le=fe(Me,j),ne.complete()}}),(0,u.D)(Ce).subscribe(Ne))})(Ke)}}function fe(ce,ye,...$){return!0===ye?(ce(),null):!1===ye?null:ye(...$).pipe((0,V.q)(1)).subscribe(()=>ce())}},9468:(it,De,k)=>{k.d(De,{R:()=>V});var u=k(4482);function V(R,ae=0){return(0,u.e)((ue,_e)=>{_e.add(R.schedule(()=>ue.subscribe(_e),ae))})}},5698:(it,De,k)=>{k.d(De,{q:()=>ae});var u=k(515),V=k(4482),R=k(5403);function ae(ue){return ue<=0?()=>u.E:(0,V.e)((_e,fe)=>{let ce=0;_e.subscribe((0,R.x)(fe,ye=>{++ce<=ue&&(fe.next(ye),ue<=ce&&fe.complete())}))})}},8505:(it,De,k)=>{k.d(De,{b:()=>ue});var u=k(576),V=k(4482),R=k(5403),ae=k(4671);function ue(_e,fe,ce){const ye=(0,u.m)(_e)||fe||ce?{next:_e,error:fe,complete:ce}:_e;return ye?(0,V.e)(($,j)=>{var se;null===(se=ye.subscribe)||void 0===se||se.call(ye);let Ke=!0;$.subscribe((0,R.x)(j,Ne=>{var Le;null===(Le=ye.next)||void 0===Le||Le.call(ye,Ne),j.next(Ne)},()=>{var Ne;Ke=!1,null===(Ne=ye.complete)||void 0===Ne||Ne.call(ye),j.complete()},Ne=>{var Le;Ke=!1,null===(Le=ye.error)||void 0===Le||Le.call(ye,Ne),j.error(Ne)},()=>{var Ne,Le;Ke&&(null===(Ne=ye.unsubscribe)||void 0===Ne||Ne.call(ye)),null===(Le=ye.finalize)||void 0===Le||Le.call(ye)}))}):ae.y}},4408:(it,De,k)=>{k.d(De,{o:()=>ue});var u=k(727);class V extends u.w0{constructor(fe,ce){super()}schedule(fe,ce=0){return this}}const R={setInterval(_e,fe,...ce){const{delegate:ye}=R;return(null==ye?void 0:ye.setInterval)?ye.setInterval(_e,fe,...ce):setInterval(_e,fe,...ce)},clearInterval(_e){const{delegate:fe}=R;return((null==fe?void 0:fe.clearInterval)||clearInterval)(_e)},delegate:void 0};var ae=k(8737);class ue extends V{constructor(fe,ce){super(fe,ce),this.scheduler=fe,this.work=ce,this.pending=!1}schedule(fe,ce=0){if(this.closed)return this;this.state=fe;const ye=this.id,$=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId($,ye,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId($,this.id,ce),this}requestAsyncId(fe,ce,ye=0){return R.setInterval(fe.flush.bind(fe,this),ye)}recycleAsyncId(fe,ce,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return ce;R.clearInterval(ce)}execute(fe,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(fe,ce);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ce){let $,ye=!1;try{this.work(fe)}catch(j){ye=!0,$=j||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ce}=this,{actions:ye}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ye,this),null!=fe&&(this.id=this.recycleAsyncId(ce,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,De,k)=>{k.d(De,{v:()=>R});var u=k(6063);class V{constructor(ue,_e=V.now){this.schedulerActionCtor=ue,this.now=_e}schedule(ue,_e=0,fe){return new this.schedulerActionCtor(this,ue).schedule(fe,_e)}}V.now=u.l.now;class R extends V{constructor(ue,_e=V.now){super(ue,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ue){const{actions:_e}=this;if(this._active)return void _e.push(ue);let fe;this._active=!0;do{if(fe=ue.execute(ue.state,ue.delay))break}while(ue=_e.shift());if(this._active=!1,fe){for(;ue=_e.shift();)ue.unsubscribe();throw fe}}}},4986:(it,De,k)=>{k.d(De,{P:()=>ae,z:()=>R});var u=k(4408);const R=new(k(7565).v)(u.o),ae=R},6063:(it,De,k)=>{k.d(De,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(it,De,k)=>{k.d(De,{z:()=>u});const u={setTimeout(V,R,...ae){const{delegate:ue}=u;return(null==ue?void 0:ue.setTimeout)?ue.setTimeout(V,R,...ae):setTimeout(V,R,...ae)},clearTimeout(V){const{delegate:R}=u;return((null==R?void 0:R.clearTimeout)||clearTimeout)(V)},delegate:void 0}},2202:(it,De,k)=>{k.d(De,{h:()=>V});const V=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,De,k)=>{k.d(De,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(it,De,k)=>{k.d(De,{_6:()=>_e,jO:()=>ae,yG:()=>ue});var u=k(576),V=k(3532);function R(fe){return fe[fe.length-1]}function ae(fe){return(0,u.m)(R(fe))?fe.pop():void 0}function ue(fe){return(0,V.K)(R(fe))?fe.pop():void 0}function _e(fe,ce){return"number"==typeof R(fe)?fe.pop():ce}},8737:(it,De,k)=>{function u(V,R){if(V){const ae=V.indexOf(R);0<=ae&&V.splice(ae,1)}}k.d(De,{P:()=>u})},3888:(it,De,k)=>{function u(V){const ae=V(ue=>{Error.call(ue),ue.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}k.d(De,{d:()=>u})},2806:(it,De,k)=>{k.d(De,{O:()=>ae,x:()=>R});var u=k(2416);let V=null;function R(ue){if(u.v.useDeprecatedSynchronousErrorHandling){const _e=!V;if(_e&&(V={errorThrown:!1,error:null}),ue(),_e){const{errorThrown:fe,error:ce}=V;if(V=null,fe)throw ce}}else ue()}function ae(ue){u.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=ue)}},9672:(it,De,k)=>{function u(V,R,ae,ue=0,_e=!1){const fe=R.schedule(function(){ae(),_e?V.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(V.add(fe),!_e)return fe}k.d(De,{f:()=>u})},4671:(it,De,k)=>{function u(V){return V}k.d(De,{y:()=>u})},1144:(it,De,k)=>{k.d(De,{z:()=>u});const u=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(it,De,k)=>{k.d(De,{D:()=>V});var u=k(576);function V(R){return Symbol.asyncIterator&&(0,u.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(it,De,k)=>{function u(V){return"function"==typeof V}k.d(De,{m:()=>u})},3670:(it,De,k)=>{k.d(De,{c:()=>R});var u=k(8822),V=k(576);function R(ae){return(0,V.m)(ae[u.L])}},6495:(it,De,k)=>{k.d(De,{T:()=>R});var u=k(2202),V=k(576);function R(ae){return(0,V.m)(null==ae?void 0:ae[u.h])}},8239:(it,De,k)=>{k.d(De,{t:()=>V});var u=k(576);function V(R){return(0,u.m)(null==R?void 0:R.then)}},3260:(it,De,k)=>{k.d(De,{L:()=>ae,Q:()=>R});var u=k(655),V=k(576);function R(ue){return(0,u.FC)(this,arguments,function*(){const fe=ue.getReader();try{for(;;){const{value:ce,done:ye}=yield(0,u.qq)(fe.read());if(ye)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ce)}}finally{fe.releaseLock()}})}function ae(ue){return(0,V.m)(null==ue?void 0:ue.getReader)}},3532:(it,De,k)=>{k.d(De,{K:()=>V});var u=k(576);function V(R){return R&&(0,u.m)(R.schedule)}},4482:(it,De,k)=>{k.d(De,{A:()=>V,e:()=>R});var u=k(576);function V(ae){return(0,u.m)(null==ae?void 0:ae.lift)}function R(ae){return ue=>{if(V(ue))return ue.lift(function(_e){try{return ae(_e,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(it,De,k)=>{function u(){}k.d(De,{Z:()=>u})},7849:(it,De,k)=>{k.d(De,{h:()=>R});var u=k(2416),V=k(3410);function R(ae){V.z.setTimeout(()=>{const{onUnhandledError:ue}=u.v;if(!ue)throw ae;ue(ae)})}},4532:(it,De,k)=>{function u(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(De,{z:()=>u})},655:(it,De,k)=>{function ae(Y,re){var oe={};for(var be in Y)Object.prototype.hasOwnProperty.call(Y,be)&&re.indexOf(be)<0&&(oe[be]=Y[be]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(be=Object.getOwnPropertySymbols(Y);he<be.length;he++)re.indexOf(be[he])<0&&Object.prototype.propertyIsEnumerable.call(Y,be[he])&&(oe[be[he]]=Y[be[he]])}return oe}function ce(Y,re,oe,be){return new(oe||(oe=Promise))(function(Ve,yt){function en(un){try{Je(be.next(un))}catch(On){yt(On)}}function Ht(un){try{Je(be.throw(un))}catch(On){yt(On)}}function Je(un){un.done?Ve(un.value):function he(Ve){return Ve instanceof oe?Ve:new oe(function(yt){yt(Ve)})}(un.value).then(en,Ht)}Je((be=be.apply(Y,re||[])).next())})}function me(Y){return this instanceof me?(this.v=Y,this):new me(Y)}function Se(Y,re,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,be=oe.apply(Y,re||[]),Ve=[];return he={},yt("next"),yt("throw"),yt("return"),he[Symbol.asyncIterator]=function(){return this},he;function yt(gn){be[gn]&&(he[gn]=function(sn){return new Promise(function(Gt,tn){Ve.push([gn,sn,Gt,tn])>1||en(gn,sn)})})}function en(gn,sn){try{!function Ht(gn){gn.value instanceof me?Promise.resolve(gn.value.v).then(Je,un):On(Ve[0][2],gn)}(be[gn](sn))}catch(Gt){On(Ve[0][3],Gt)}}function Je(gn){en("next",gn)}function un(gn){en("throw",gn)}function On(gn,sn){gn(sn),Ve.shift(),Ve.length&&en(Ve[0][0],Ve[0][1])}}function ze(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,re=Y[Symbol.asyncIterator];return re?re.call(Y):(Y=function se(Y){var re="function"==typeof Symbol&&Symbol.iterator,oe=re&&Y[re],be=0;if(oe)return oe.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&be>=Y.length&&(Y=void 0),{value:Y&&Y[be++],done:!Y}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),oe={},be("next"),be("throw"),be("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function be(Ve){oe[Ve]=Y[Ve]&&function(yt){return new Promise(function(en,Ht){!function he(Ve,yt,en,Ht){Promise.resolve(Ht).then(function(Je){Ve({value:Je,done:en})},yt)}(en,Ht,(yt=Y[Ve](yt)).done,yt.value)})}}}k.d(De,{FC:()=>Se,KL:()=>ze,_T:()=>ae,mG:()=>ce,qq:()=>me})},5e3:(it,De,k)=>{k.d(De,{$8M:()=>Xl,$Z:()=>WE,AFp:()=>y1,ALo:()=>Ph,AaK:()=>ce,BQk:()=>V_,CHM:()=>fl,CRH:()=>_g,CZH:()=>sd,CqO:()=>YE,DdM:()=>ly,EJc:()=>kI,EiD:()=>up,EpF:()=>ZE,F$t:()=>eC,F4k:()=>KE,FYo:()=>Hw,FiY:()=>tr,G48:()=>x1,Gf:()=>jh,GfV:()=>Gw,Gpc:()=>j,Hsn:()=>tC,Ikx:()=>Jp,JOm:()=>ms,JVY:()=>tp,L6k:()=>np,LAX:()=>$d,LFG:()=>ct,LSH:()=>Sc,Lbi:()=>xI,MAs:()=>x_,MGl:()=>bh,NdJ:()=>Jb,OlP:()=>Un,Oqu:()=>Dh,PXZ:()=>S1,Q6J:()=>zb,QGY:()=>Yb,Qsj:()=>sI,QtT:()=>ny,R0b:()=>Ks,RDi:()=>$l,Rgc:()=>Lh,SBq:()=>vu,SDv:()=>JC,Sil:()=>LI,Suo:()=>nd,TTD:()=>ma,TgZ:()=>F_,Tol:()=>dC,Udp:()=>cw,VKq:()=>Zw,VLi:()=>HI,W1O:()=>o1,WLB:()=>uy,X6Q:()=>Iu,XFs:()=>bt,Xpm:()=>vt,Y36:()=>$p,YKP:()=>To,YNc:()=>Hp,Yjl:()=>Xe,Yz7:()=>sn,ZZ4:()=>F1,_Bn:()=>Yc,_UZ:()=>Zb,_Vd:()=>ia,_c5:()=>UR,_uU:()=>$_,aQg:()=>qy,c2e:()=>RI,cJS:()=>tn,cg1:()=>Xp,dDg:()=>C1,deG:()=>Ld,dqk:()=>$t,eBb:()=>Ec,eFA:()=>A1,ekj:()=>dw,g9A:()=>ad,h0i:()=>Jc,hGG:()=>jR,hij:()=>zp,iGM:()=>n1,ifc:()=>Zt,ip1:()=>_1,kEZ:()=>Kw,kL8:()=>AC,lG2:()=>Ae,lcZ:()=>hy,mCW:()=>m,n5z:()=>Ql,oAB:()=>de,oJD:()=>Ic,oxw:()=>XE,pB0:()=>Wd,pQV:()=>Lw,q3G:()=>qn,q4F:()=>sy,qLn:()=>Nc,qOj:()=>Mb,qZA:()=>L_,qzn:()=>_o,s9C:()=>$c,sBO:()=>YI,sIi:()=>ch,s_b:()=>Bh,soG:()=>ky,tBr:()=>En,tb:()=>v1,tp0:()=>go,uIk:()=>jp,vHH:()=>Le,vpe:()=>sa,wAp:()=>It,xp6:()=>fu,yhl:()=>Gd,ynx:()=>B_,z2F:()=>Mg,z3N:()=>$s,zSh:()=>T_,zs3:()=>ta});var u=k(7579),V=k(727),R=k(8306),ae=k(6451),ue=k(3099);function _e(s){for(let o in s)if(s[o]===_e)return o;throw Error("Could not find renamed property on target object.")}function fe(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ye(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=_e({__forward_ref__:_e});function j(s){return s.__forward_ref__=j,s.toString=function(){return ce(this())},s}function se(s){return Ke(s)?s():s}function Ke(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===j}class Le extends Error{constructor(o,l){super(function $e(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function Se(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}function xe(s,o){const l=o?` in ${o}`:"";throw new Le(-201,`No provider for ${Se(s)} found${l}`)}function Je(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function tn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Dn(s){return Ui(s,ii)||Ui(s,Yn)}function Ui(s,o){return s.hasOwnProperty(o)?s[o]:null}function ji(s){return s&&(s.hasOwnProperty(Ei)||s.hasOwnProperty(Hi))?s[Ei]:null}const ii=_e({\u0275prov:_e}),Ei=_e({\u0275inj:_e}),Yn=_e({ngInjectableDef:_e}),Hi=_e({ngInjectorDef:_e});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let Pr;function nn(s){const o=Pr;return Pr=s,o}function Sr(s,o,l){const c=Dn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&bt.Optional?null:void 0!==o?o:void xe(ce(s),"Injector")}function Fr(s){return{toString:s}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),Zt=(()=>{return(s=Zt||(Zt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Zt;var s})();const mt="undefined"!=typeof globalThis&&globalThis,lt="undefined"!=typeof window&&window,si="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$t=mt||"undefined"!=typeof global&&global||lt||si,cn={},U=[],W=_e({\u0275cmp:_e}),Z=_e({\u0275dir:_e}),Te=_e({\u0275pipe:_e}),G=_e({\u0275mod:_e}),ee=_e({\u0275fac:_e}),ke=_e({__NG_ELEMENT_ID__:_e});let nt=0;function vt(s){return Fr(()=>{const l={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||U,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Zt.Emulated,id:"c",styles:s.styles||U,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return c.id+=nt++,c.inputs=q(s.inputs,l),c.outputs=q(s.outputs),p&&p.forEach(b=>b(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(on):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(Ct):null,c})}function on(s){return pt(s)||function xt(s){return s[Z]||null}(s)}function Ct(s){return function Kt(s){return s[Te]||null}(s)}const Jn={};function de(s){return Fr(()=>{const o={type:s.type,bootstrap:s.bootstrap||U,declarations:s.declarations||U,imports:s.imports||U,exports:s.exports||U,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Jn[s.id]=s.type),o})}function q(s,o){if(null==s)return cn;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=c,o&&(o[h]=p)}return l}const Ae=vt;function Xe(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function pt(s){return s[W]||null}function Ut(s,o){const l=s[G]||null;if(!l&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return l}function Ci(s){return Array.isArray(s)&&"object"==typeof s[1]}function ai(s){return Array.isArray(s)&&!0===s[1]}function ju(s){return 0!=(8&s.flags)}function il(s){return 2==(2&s.flags)}function Rs(s){return 1==(1&s.flags)}function li(s){return null!==s.template}function Sd(s){return 0!=(512&s[2])}function ui(s,o){return s.hasOwnProperty(ee)?s[ee]:null}class Fo{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function ma(){return _a}function _a(s){return s.type.prototype.ngOnChanges&&(s.setInput=jf),Nd}function Nd(){const s=Wu(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===cn)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function jf(s,o,l,c){const h=Wu(s)||function us(s,o){return s[Xn]=o}(s,{previous:cn,current:null}),p=h.current||(h.current={}),y=h.previous,b=this.declaredInputs[l],T=y[b];p[b]=new Fo(T&&T.currentValue,o,y===cn),s[c]=o}ma.ngInherit=!0;const Xn="__ngSimpleChanges__";function Wu(s){return s[Xn]||null}let ul;function $l(s){ul=s}function cs(){return void 0!==ul?ul:"undefined"!=typeof document?document:void 0}function mn(s){return!!s.listen}const ya={createRenderer:(s,o)=>cs()};function hn(s){for(;Array.isArray(s);)s=s[0];return s}function no(s,o){return hn(o[s])}function hr(s,o){return hn(o[s.index])}function Fn(s,o){return s.data[o]}function ds(s,o){return s[o]}function fr(s,o){const l=o[s];return Ci(l)?l:l[0]}function Lo(s){return 4==(4&s[2])}function Wi(s){return 128==(128&s[2])}function Yr(s,o){return null==o?null:s[o]}function Ps(s){s[18]=0}function Fs(s,o){s[5]+=o;let l=s,c=s[3];for(;null!==c&&(1===o&&1===l[5]||-1===o&&0===l[5]);)c[5]+=o,l=c,c=c[3]}const Dt={lFrame:rc(null),bindingsEnabled:!0};function Bo(){return Dt.bindingsEnabled}function Oe(){return Dt.lFrame.lView}function Wt(){return Dt.lFrame.tView}function fl(s){return Dt.lFrame.contextLView=s,s[8]}function wn(){let s=Ju();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ju(){return Dt.lFrame.currentTNode}function hs(){const s=Dt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function qi(s,o){const l=Dt.lFrame;l.currentTNode=s,l.isParent=o}function zl(){return Dt.lFrame.isParent}function wa(){Dt.lFrame.isParent=!1}function pr(){const s=Dt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Uo(){return Dt.lFrame.bindingIndex++}function Jr(s){const o=Dt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function jo(s){Dt.lFrame.inI18n=s}function ec(s,o){const l=Dt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Zl(o)}function Zl(s){Dt.lFrame.currentDirectiveIndex=s}function tc(){return Dt.lFrame.currentQueryIndex}function nc(s){Dt.lFrame.currentQueryIndex=s}function Kl(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ta(s,o,l){if(l&bt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||l&bt.Host||(h=Kl(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=Dt.lFrame=so();return c.currentTNode=o,c.lView=s,!0}function Ea(s){const o=so(),l=s[1];Dt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function so(){const s=Dt.lFrame,o=null===s?null:s.child;return null===o?rc(s):o}function rc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Od(){const s=Dt.lFrame;return Dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const pl=Od;function Qr(){const s=Od();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function _r(){return Dt.lFrame.selectedIndex}function oo(s){Dt.lFrame.selectedIndex=s}function er(){const s=Dt.lFrame;return Fn(s.tView,s.selectedIndex)}function fs(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:T,ngAfterViewChecked:S,ngOnDestroy:M}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),b&&((s.contentHooks||(s.contentHooks=[])).push(l,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,b)),T&&(s.viewHooks||(s.viewHooks=[])).push(-l,T),S&&((s.viewHooks||(s.viewHooks=[])).push(l,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,S)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(l,M)}}function Ca(s,o,l){oc(s,o,3,l)}function Ia(s,o,l,c){(3&s[2])===l&&oc(s,o,l,c)}function ir(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function oc(s,o,l,c){const p=null!=c?c:-1,y=o.length-1;let b=0;for(let T=void 0!==c?65535&s[18]:0;T<y;T++)if("number"==typeof o[T+1]){if(b=o[T],null!=c&&b>=c)break}else o[T]<0&&(s[18]+=65536),(b<p||-1==p)&&(Gf(s,l,o,T),s[18]=(4294901760&s[18])+T+2),T++}function Gf(s,o,l,c){const h=l[c]<0,p=l[c+1],b=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class Go{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function sr(s,o,l){const c=mn(s);let h=0;for(;h<l.length;){const p=l[h];if("number"==typeof p){if(0!==p)break;h++;const y=l[h++],b=l[h++],T=l[h++];c?s.setAttribute(o,b,T,y):o.setAttributeNS(y,b,T)}else{const y=p,b=l[++h];ci(y)?c&&s.setProperty(o,y,b):c?s.setAttribute(o,y,b):o.setAttribute(y,b),h++}}return h}function Ln(s){return 3===s||4===s||6===s}function ci(s){return 64===s.charCodeAt(0)}function Zi(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?l=h:0===l||Bn(s,l,h,null,-1===l||2===l?o[++c]:null)}}return s}function Bn(s,o,l,c,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){y=-1;break}if(b>o){y=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===l){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,l),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function Vn(s){return-1!==s}function Rt(s){return 32767&s}function Si(s,o){let l=function wt(s){return s>>16}(s),c=o;for(;l>0;)c=c[15],l--;return c}let Aa=!0;function yr(s){const o=Aa;return Aa=s,o}let Fd=0;function lo(s,o){const l=Na(s,o);if(-1!==l)return l;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,vr(c.data,s),vr(o,null),vr(c.blueprint,null));const h=di(s,o),p=s.injectorIndex;if(Vn(h)){const y=Rt(h),b=Si(h,o),T=b[1].data;for(let S=0;S<8;S++)o[p+S]=b[y+S]|T[y+S]}return o[p+8]=h,p}function vr(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Na(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function di(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(c=2===y?p.declTNode:1===y?h[6]:null,null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function uo(s,o,l){!function ao(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(ke)&&(c=l[ke]),null==c&&(c=l[ke]=Fd++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Us(s,o,l){if(l&bt.Optional)return s;xe(o,"NodeInjector")}function _l(s,o,l,c){if(l&bt.Optional&&void 0===c&&(c=null),0==(l&(bt.Self|bt.Host))){const h=s[9],p=nn(void 0);try{return h?h.get(o,c,l&bt.Optional):Sr(o,c,l&bt.Optional)}finally{nn(p)}}return Us(c,o,l)}function Ma(s,o,l,c=bt.Default,h){if(null!==s){const p=function cc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ke)?s[ke]:void 0;return"number"==typeof o?o>=0?255&o:Rn:o}(l);if("function"==typeof p){if(!Ta(o,s,c))return c&bt.Host?Us(h,l,c):_l(o,l,c,h);try{const y=p(c);if(null!=y||c&bt.Optional)return y;xe(l)}finally{pl()}}else if("number"==typeof p){let y=null,b=Na(s,o),T=-1,S=c&bt.Host?o[16][6]:null;for((-1===b||c&bt.SkipSelf)&&(T=-1===b?di(s,o):o[b+8],-1!==T&&dc(c,!1)?(y=o[1],b=Rt(T),o=Si(T,o)):b=-1);-1!==b;){const M=o[1];if($o(p,b,M.data)){const F=uc(b,o,l,y,c,S);if(F!==Ai)return F}T=o[b+8],-1!==T&&dc(c,o[1].data[b+8]===S)&&$o(p,b,o)?(y=M,b=Rt(T),o=Si(T,o)):b=-1}}}return _l(o,l,c,h)}const Ai={};function Rn(){return new Ni(wn(),Oe())}function uc(s,o,l,c,h,p){const y=o[1],b=y.data[s+8],M=xa(b,y,l,null==c?il(b)&&Aa:c!=y&&0!=(3&b.type),h&bt.Host&&p===b);return null!==M?gs(o,y,M,b):Ai}function xa(s,o,l,c,h){const p=s.providerIndexes,y=o.data,b=1048575&p,T=s.directiveStart,M=p>>20,H=h?b+M:s.directiveEnd;for(let X=c?b:b+M;X<H;X++){const Ee=y[X];if(X<T&&l===Ee||X>=T&&Ee.type===l)return X}if(h){const X=y[T];if(X&&li(X)&&X.type===l)return T}return null}function gs(s,o,l,c){let h=s[l];const p=o.data;if(function ac(s){return s instanceof Go}(h)){const y=h;y.resolving&&function Ze(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Le(-200,`Circular dependency in DI detected for ${s}${l}`)}(Se(p[l]));const b=yr(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?nn(y.injectImpl):null;Ta(s,c,bt.Default);try{h=s[l]=y.factory(void 0,p,s,c),o.firstCreatePass&&l>=c.directiveStart&&function sc(s,o,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const y=_a(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==T&&nn(T),yr(b),y.resolving=!1,pl()}}return h}function $o(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function dc(s,o){return!(s&bt.Self||s&bt.Host&&o)}class Ni{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return Ma(this._tNode,this._lView,o,c,l)}}function Ql(s){return Fr(()=>{const o=s.prototype.constructor,l=o[ee]||Wo(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[ee]||Wo(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Wo(s){return Ke(s)?()=>{const o=Wo(se(s));return o&&o()}:ui(s)}function Xl(s){return function ml(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const p=l[h];if(Ln(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(p===o)return l[h+1];h+=2}}}return null}(wn(),s)}const Ra="__parameters__";function Oa(s,o,l){return Fr(()=>{const c=function hc(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const y=new h(...p);return b.annotation=y,b;function b(T,S,M){const F=T.hasOwnProperty(Ra)?T[Ra]:Object.defineProperty(T,Ra,{value:[]})[Ra];for(;F.length<=M;)F.push(null);return(F[M]=F[M]||[]).push(y),T}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Un{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=sn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ld=new Un("AnalyzeForEntryComponents");function qt(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(o===s&&(o=s.slice(0,l)),qt(c,o)):o!==s&&o.push(c)}return o}function Hn(s,o){s.forEach(l=>Array.isArray(l)?Hn(l,o):o(l))}function gc(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function js(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ho(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}function Xr(s,o,l){let c=zo(s,o);return c>=0?s[1|c]=l:(c=~c,function ru(s,o,l,c){let h=s.length;if(h==o)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function _c(s,o){const l=zo(s,o);if(l>=0)return s[1|l]}function zo(s,o){return function fo(s,o,l){let c=0,h=s.length>>l;for(;h!==c;){const p=c+(h-c>>1),y=s[p<<l];if(o===y)return p<<l;y>o?h=p:c=p+1}return~(h<<l)}(s,o,1)}const po={},Fa="__NG_DI_FLAG__",wl="ngTempTokenPath",C=/\n/gm,B="__source",J=_e({provide:String,useValue:_e});let le;function Be(s){const o=le;return le=s,o}function ot(s,o=bt.Default){if(void 0===le)throw new Le(203,"");return null===le?Sr(s,void 0,o):le.get(s,o&bt.Optional?null:void 0,o)}function ct(s,o=bt.Default){return(function bn(){return Pr}()||ot)(se(s),o)}const Qt=ct;function Et(s){const o=[];for(let l=0;l<s.length;l++){const c=se(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Le(900,"");let h,p=bt.Default;for(let y=0;y<c.length;y++){const b=c[y],T=Nn(b);"number"==typeof T?-1===T?h=b.token:p|=T:h=b}o.push(ct(h,p))}else o.push(ct(c))}return o}function wr(s,o){return s[Fa]=o,s.prototype[Fa]=o,s}function Nn(s){return s[Fa]}const En=wr(Oa("Inject",s=>({token:s})),-1),tr=wr(Oa("Optional"),8),go=wr(Oa("SkipSelf"),4);let Hs,ei;function Ba(s){var o;return(null===(o=function Gs(){if(void 0===Hs&&(Hs=null,$t.trustedTypes))try{Hs=$t.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Hs}())||void 0===o?void 0:o.createHTML(s))||s}function Ud(s){var o;return(null===(o=function wc(){if(void 0===ei&&(ei=null,$t.trustedTypes))try{ei=$t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ei}())||void 0===o?void 0:o.createHTML(s))||s}class mo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qf extends mo{getTypeName(){return"HTML"}}class Xf extends mo{getTypeName(){return"Style"}}class ep extends mo{getTypeName(){return"Script"}}class Dc extends mo{getTypeName(){return"URL"}}class Tc extends mo{getTypeName(){return"ResourceURL"}}function $s(s){return s instanceof mo?s.changingThisBreaksApplicationSecurity:s}function _o(s,o){const l=Gd(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Gd(s){return s instanceof mo&&s.getTypeName()||null}function tp(s){return new Qf(s)}function np(s){return new Xf(s)}function Ec(s){return new ep(s)}function $d(s){return new Dc(s)}function Wd(s){return new Tc(s)}function cu(s){const o=new ip(s);return function sp(){try{return!!(new window.DOMParser).parseFromString(Ba(""),"text/html")}catch(s){return!1}}()?new rp(o):o}class rp{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Ba(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class ip{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Ba(o),l;const c=this.inertDocument.createElement("body");return c.innerHTML=Ba(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const y=l.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const op=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,g=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function m(s){return(s=String(s)).match(op)||s.match(g)?s:"unsafe:"+s}function D(s){return(s=String(s)).split(",").map(o=>m(o.trim())).join(", ")}function N(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function O(...s){const o={};for(const l of s)for(const c in l)l.hasOwnProperty(c)&&(o[c]=!0);return o}const te=N("area,br,col,hr,img,wbr"),Pe=N("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),at=N("rp,rt"),ti=O(te,O(Pe,N("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),O(at,N("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O(at,Pe)),Ws=N("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yo=N("srcset"),ap=O(Ws,Yo,N("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),N("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Rm=N("script,style,template");class lp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!ti.hasOwnProperty(l))return this.sanitizedSomething=!0,!Rm.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=o.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),y=p.name,b=y.toLowerCase();if(!ap.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let T=p.value;Ws[b]&&(T=m(T)),Yo[b]&&(T=D(T)),this.buf.push(" ",y,'="',Cc(T),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();ti.hasOwnProperty(l)&&!te.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Cc(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Om=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,km=/([^\#-~ |!])/g;function Cc(s){return s.replace(/&/g,"&amp;").replace(Om,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(km,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let El;function up(s,o){let l=null;try{El=El||cu(s);let c=o?String(o):"";l=El.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=l.innerHTML,l=El.getInertBodyElement(c)}while(c!==p);return Ba((new lp).sanitizeChildren(du(l)||l))}finally{if(l){const c=du(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function du(s){return"content"in s&&function Pm(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var qn=(()=>((qn=qn||{})[qn.NONE=0]="NONE",qn[qn.HTML=1]="HTML",qn[qn.STYLE=2]="STYLE",qn[qn.SCRIPT=3]="SCRIPT",qn[qn.URL=4]="URL",qn[qn.RESOURCE_URL=5]="RESOURCE_URL",qn))();function Ic(s){const o=qd();return o?Ud(o.sanitize(qn.HTML,s)||""):_o(s,"HTML")?Ud($s(s)):up(cs(),me(s))}function Sc(s){const o=qd();return o?o.sanitize(qn.URL,s)||"":_o(s,"URL")?$s(s):m(me(s))}function qd(){const s=Oe();return s&&s[12]}const pT="__ngContext__";function Vr(s,o){s[pT]=o}function hp(s){const o=function zd(s){return s[pT]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function pp(s){return s.ngOriginalError}function m0(s,...o){s.error(...o)}class Nc{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),c=function gp(s){return s&&s.ngErrorLogger||m0}(o);c(this._console,"ERROR",o),l&&c(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&pp(o);for(;l&&pp(l);)l=pp(l);return l||null}}const y0=/^>|^->|<!--|-->|--!>|<!-$/g,v0=/(<|>)/;const $m=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($t))();function Ua(s){return s instanceof Function?s():s}var ms=(()=>((ms=ms||{})[ms.Important=1]="Important",ms[ms.DashCase=2]="DashCase",ms))();let Xd;function Wm(s,o){return Xd(s,o)}function mp(s){const o=s[3];return ai(o)?o[3]:o}function _p(s){return Zm(s[13])}function zm(s){return Zm(s[4])}function Zm(s){for(;null!==s&&!ai(s);)s=s[4];return s}function Mc(s,o,l,c,h){if(null!=c){let p,y=!1;ai(c)?p=c:Ci(c)&&(y=!0,c=c[0]);const b=hn(c);0===s&&null!==l?null==h?wp(o,l,b):xc(o,l,b,h||null,!0):1===s&&null!==l?xc(o,l,b,h||null,!0):2===s?P0(o,b,y):3===s&&o.destroyNode(b),null!=p&&function B0(s,o,l,c,h){const p=l[7];p!==hn(l)&&Mc(o,s,c,p,h);for(let b=10;b<l.length;b++){const T=l[b];nh(T[1],T,s,o,c,p)}}(o,s,p,l,h)}}function yp(s,o){return mn(s)?s.createText(o):s.createTextNode(o)}function I0(s,o,l){mn(s)?s.setValue(o,l):o.textContent=l}function eh(s,o){return s.createComment(function Va(s){return s.replace(y0,o=>o.replace(v0,"\u200b$1\u200b"))}(o))}function Km(s,o,l){if(mn(s))return s.createElement(o,l);{const c=null!==l?function ll(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===c?s.createElement(o):s.createElementNS(c,o)}}function A0(s,o){const l=s[9],c=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Fs(h,-1)),l.splice(c,1)}function bp(s,o){if(s.length<=10)return;const l=10+o,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&A0(h,c),o>0&&(s[l-1][4]=c[4]);const p=js(s,10+o);!function Ym(s,o){nh(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=p[19];null!==y&&y.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function N0(s,o){if(!(256&o[2])){const l=o[11];mn(l)&&l.destroyNode&&nh(s,o,l,3,null,null),function S0(s){let o=s[13];if(!o)return th(s[1],s);for(;o;){let l=null;if(Ci(o))l=o[13];else{const c=o[10];c&&(l=c)}if(!l){for(;o&&!o[4]&&o!==s;)Ci(o)&&th(o[1],o),o=o[3];null===o&&(o=s),Ci(o)&&th(o[1],o),l=o&&o[4]}o=l}}(o)}}function th(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function ET(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=o[l[c]];if(!(h instanceof Go)){const p=l[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=h[p[y]],T=p[y+1];try{T.call(b)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function M0(s,o){const l=s.cleanup,c=o[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+1],b="function"==typeof y?y(o):hn(o[y]),T=c[h=l[p+2]],S=l[p+3];"boolean"==typeof S?b.removeEventListener(l[p],T,S):S>=0?c[h=S]():c[h=-S].unsubscribe(),p+=2}else{const y=c[h=l[p+1]];l[p].call(y)}if(null!==c){for(let p=h+1;p<c.length;p++)c[p]();o[7]=null}}(s,o),1===o[1].type&&mn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&ai(o[3])){l!==o[3]&&A0(l,o);const c=o[19];null!==c&&c.detachView(s)}}}function Qm(s,o,l){return x0(s,o.parent,l)}function x0(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===Zt.None||h===Zt.Emulated)return null}return hr(c,l)}function xc(s,o,l,c,h){mn(s)?s.insertBefore(o,l,c,h):o.insertBefore(l,c,h)}function wp(s,o,l){mn(s)?s.appendChild(o,l):o.appendChild(l)}function Xm(s,o,l,c,h){null!==c?xc(s,o,l,c,h):wp(s,o,l)}function Dp(s,o){return mn(s)?s.parentNode(o):o.parentNode}function Cl(s,o,l){return e_(s,o,l)}function k0(s,o,l){return 40&s.type?hr(s,l):null}let t_,e_=k0;function n_(s,o){e_=s,t_=o}function Tp(s,o,l,c){const h=Qm(s,c,o),p=o[11],b=Cl(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(l))for(let T=0;T<l.length;T++)Xm(p,h,l[T],b,!1);else Xm(p,h,l,b,!1);void 0!==t_&&t_(p,c,o,l,h)}function Ep(s,o){if(null!==o){const l=o.type;if(3&l)return hr(o,s);if(4&l)return Ip(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return Ep(s,c);{const h=s[o.index];return ai(h)?Ip(-1,h):hn(h)}}if(32&l)return Wm(o,s)()||hn(s[o.index]);{const c=Cp(s,o);return null!==c?Array.isArray(c)?c[0]:Ep(mp(s[16]),c):Ep(s,o.next)}}return null}function Cp(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Ip(s,o){const l=10+s+1;if(l<o.length){const c=o[l],h=c[1].firstChild;if(null!==h)return Ep(c,h)}return o[7]}function P0(s,o,l){const c=Dp(s,o);c&&function R0(s,o,l,c){mn(s)?s.removeChild(o,l,c):o.removeChild(l)}(s,c,o,l)}function Sp(s,o,l,c,h,p,y){for(;null!=l;){const b=c[l.index],T=l.type;if(y&&0===o&&(b&&Vr(hn(b),c),l.flags|=4),64!=(64&l.flags))if(8&T)Sp(s,o,l.child,c,h,p,!1),Mc(o,s,h,b,p);else if(32&T){const S=Wm(l,c);let M;for(;M=S();)Mc(o,s,h,M,p);Mc(o,s,h,b,p)}else 16&T?L0(s,o,c,l,h,p):Mc(o,s,h,b,p);l=y?l.projectionNext:l.next}}function nh(s,o,l,c,h,p){Sp(l,c,s.firstChild,o,h,p,!1)}function L0(s,o,l,c,h,p){const y=l[16],T=y[6].projection[c.projection];if(Array.isArray(T))for(let S=0;S<T.length;S++)Mc(o,s,h,T[S],p);else Sp(s,o,T,y[3],h,p,!0)}function r_(s,o,l){mn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function V0(s,o,l){mn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function IT(s,o,l){let c=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}l=h+1}}const i_="ng-template";function U0(s,o,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==IT(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function j0(s){return 4===s.type&&s.value!==i_}function UM(s,o,l){return o===(4!==s.type||l?s.value:i_)}function jM(s,o,l){let c=4;const h=s.attrs||[],p=function AT(s){for(let o=0;o<s.length;o++)if(Ln(s[o]))return o;return s.length}(h);let y=!1;for(let b=0;b<o.length;b++){const T=o[b];if("number"!=typeof T){if(!y)if(4&c){if(c=2|1&c,""!==T&&!UM(s,T,l)||""===T&&1===o.length){if(Jo(c))return!1;y=!0}}else{const S=8&c?T:o[++b];if(8&c&&null!==s.attrs){if(!U0(s.attrs,S,l)){if(Jo(c))return!1;y=!0}continue}const F=ST(8&c?"class":T,h,j0(s),l);if(-1===F){if(Jo(c))return!1;y=!0;continue}if(""!==S){let H;H=F>p?"":h[F+1].toLowerCase();const X=8&c?H:null;if(X&&-1!==IT(X,S,0)||2&c&&S!==H){if(Jo(c))return!1;y=!0}}}}else{if(!y&&!Jo(c)&&!Jo(T))return!1;if(y&&Jo(T))continue;y=!1,c=T|1&c}}return Jo(c)||y}function Jo(s){return 0==(1&s)}function ST(s,o,l,c){if(null===o)return-1;let h=0;if(c||!l){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function H0(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function rh(s,o,l=!1){for(let c=0;c<o.length;c++)if(jM(s,o[c],l))return!0;return!1}function _s(s,o){e:for(let l=0;l<o.length;l++){const c=o[l];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function qs(s,o){return s?":not("+o.trim()+")":o}function yo(s){let o=s[0],l=1,c=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&c){const b=s[++l];h+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!Jo(y)&&(o+=qs(p,h),h=""),c=y,p=p||!Jo(c);l++}return""!==h&&(o+=qs(p,h)),o}const At={};function fu(s){Rc(Wt(),Oe(),_r()+s,!1)}function Rc(s,o,l,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Ca(o,p,l)}else{const p=s.preOrderHooks;null!==p&&Ia(o,p,0,l)}oo(l)}function ih(s,o){return s<<17|o<<2}function Mi(s){return s>>17&32767}function Ap(s){return 2|s}function ja(s){return(131068&s)>>2}function o_(s,o){return-131069&s|o<<2}function a_(s){return 1|s}function eb(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],p=l[c+1];if(-1!==p){const y=s.data[p];nc(h),y.contentQueries(2,o[p],p)}}}function Ga(s,o,l,c,h,p,y,b,T,S){const M=o.blueprint.slice();return M[0]=h,M[2]=140|c,Ps(M),M[3]=M[15]=s,M[8]=l,M[10]=y||s&&s[10],M[11]=b||s&&s[11],M[12]=T||s&&s[12]||null,M[9]=S||s&&s[9]||null,M[6]=p,M[16]=2==o.type?s[16]:M,M}function Oc(s,o,l,c,h){let p=s.data[o];if(null===p)p=oh(s,o,l,c,h),function Rd(){return Dt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=c,p.attrs=h;const y=hs();p.injectorIndex=null===y?-1:y.injectorIndex}return qi(p,!0),p}function oh(s,o,l,c,h){const p=Ju(),y=zl(),T=s.data[o]=function zM(s,o,l,c,h,p){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,o,c,h);return null===s.firstChild&&(s.firstChild=T),null!==p&&(y?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T)),T}function kc(s,o,l,c){if(0===l)return-1;const h=o.length;for(let p=0;p<l;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function ah(s,o,l){Ea(o);try{const c=s.viewQuery;null!==c&&w_(1,c,l);const h=s.template;null!==h&&tb(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&eb(s,o),s.staticViewQueries&&w_(2,s.viewQuery,l);const p=s.components;null!==p&&function FT(s,o){for(let l=0;l<o.length;l++)rE(s,o[l])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Qr()}}function Pc(s,o,l,c){const h=o[2];if(256!=(256&h)){Ea(o);try{Ps(o),function Vo(s){return Dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&tb(s,o,l,2,c);const y=3==(3&h);if(y){const S=s.preOrderCheckHooks;null!==S&&Ca(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Ia(o,S,0,null),ir(o,0)}if(function tE(s){for(let o=_p(s);null!==o;o=zm(o)){if(!o[2])continue;const l=o[9];for(let c=0;c<l.length;c++){const h=l[c],p=h[3];0==(1024&h[2])&&Fs(p,1),h[2]|=1024}}}(o),function eE(s){for(let o=_p(s);null!==o;o=zm(o))for(let l=10;l<o.length;l++){const c=o[l],h=c[1];Wi(c)&&Pc(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&eb(s,o),y){const S=s.contentCheckHooks;null!==S&&Ca(o,S)}else{const S=s.contentHooks;null!==S&&Ia(o,S,1),ir(o,1)}!function kT(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)oo(~h);else{const p=h,y=l[++c],b=l[++c];ec(y,p),b(2,o[p])}}}finally{oo(-1)}}(s,o);const b=s.components;null!==b&&function PT(s,o){for(let l=0;l<o.length;l++)nE(s,o[l])}(o,b);const T=s.viewQuery;if(null!==T&&w_(2,T,c),y){const S=s.viewCheckHooks;null!==S&&Ca(o,S)}else{const S=s.viewHooks;null!==S&&Ia(o,S,2),ir(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,Fs(o[3],-1))}finally{Qr()}}}function LT(s,o,l,c){const h=o[10],y=Lo(o);try{!y&&h.begin&&h.begin(),y&&ah(s,o,c),Pc(s,o,l,c)}finally{!y&&h.end&&h.end()}}function tb(s,o,l,c,h){const p=_r(),y=2&c;try{oo(-1),y&&o.length>20&&Rc(s,o,20,!1),l(c,h)}finally{oo(p)}}function nb(s,o,l){if(ju(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function g_(s,o,l){!Bo()||(function $T(s,o,l,c){const h=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||lo(l,o),Vr(c,o);const y=l.initialInputs;for(let b=h;b<p;b++){const T=s.data[b],S=li(T);S&&YT(o,l,T);const M=gs(o,s,b,l);Vr(M,o),null!==y&&JT(0,b-h,M,T,0,y),S&&(fr(l.index,o)[8]=M)}}(s,o,l,hr(l,o)),128==(128&l.flags)&&function WT(s,o,l){const c=l.directiveStart,h=l.directiveEnd,y=l.index,b=function Da(){return Dt.lFrame.currentDirectiveIndex}();try{oo(y);for(let T=c;T<h;T++){const S=s.data[T],M=o[T];Zl(T),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&qT(S,M)}}finally{oo(-1),Zl(b)}}(s,o,l))}function m_(s,o,l=hr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],b=-1===y?l(o,s):s[y];s[h++]=b}}}function rb(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Lp(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Lp(s,o,l,c,h,p,y,b,T,S){const M=20+c,F=M+h,H=function BT(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:At);return l}(M,F),X="function"==typeof S?S():S;return H[1]={type:s,blueprint:H,template:l,queries:null,viewQuery:b,declTNode:o,data:H.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:X,incompleteFirstPass:!1}}function VT(s,o,l,c){const h=oE(o);null===l?h.push(c):(h.push(l),s.firstCreatePass&&aE(s).push(c,h.length-1))}function __(s,o,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(o,h):l[c]=[o,h]}return l}function Zs(s,o,l,c,h,p,y,b){const T=hr(o,l);let M,S=o.inputs;!b&&null!=S&&(M=S[c])?(lE(s,l,M,c,h),il(o)&&function Bp(s,o){const l=fr(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(c=function UT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=y?y(h,o.value||"",c):h,mn(p)?p.setProperty(T,c,h):ci(c)||(T.setProperty?T.setProperty(c,h):T[c]=h))}function Vp(s,o,l,c){let h=!1;if(Bo()){const p=function zT(s,o,l){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];rh(l,y.selectors,!1)&&(h||(h=[]),uo(lo(l,o),s,y.type),li(y)?(ub(s,l),h.unshift(y)):h.push(y))}return h}(s,o,l),y=null===c?null:{"":-1};if(null!==p){h=!0,cb(l,s.data.length,p.length);for(let M=0;M<p.length;M++){const F=p[M];F.providersResolver&&F.providersResolver(F)}let b=!1,T=!1,S=kc(s,o,p.length,null);for(let M=0;M<p.length;M++){const F=p[M];l.mergedAttrs=Zi(l.mergedAttrs,F.hostAttrs),db(s,l,o,S,F),KT(S,F,y),null!==F.contentQueries&&(l.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=128);const H=F.type.prototype;!b&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),b=!0),!T&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),T=!0),S++}!function ob(s,o){const c=o.directiveEnd,h=s.data,p=o.attrs,y=[];let b=null,T=null;for(let S=o.directiveStart;S<c;S++){const M=h[S],F=M.inputs,H=null===p||j0(o)?null:QT(F,p);y.push(H),b=__(F,S,b),T=__(M.outputs,S,T)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=b,o.outputs=T}(s,l)}y&&function ZT(s,o,l){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=l[o[h+1]];if(null==p)throw new Le(-301,!1);c.push(o[h],p)}}}(l,c,y)}return l.mergedAttrs=Zi(l.mergedAttrs,l.attrs),h}function lb(s,o,l,c,h,p){const y=p.hostBindings;if(y){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const T=~o.index;(function GT(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(b)!=T&&b.push(T),b.push(c,h,y)}}function qT(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function ub(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function KT(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;li(o)&&(l[""]=s)}}function cb(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function db(s,o,l,c,h){s.data[c]=h;const p=h.factory||(h.factory=ui(h.type)),y=new Go(p,li(h),null);s.blueprint[c]=y,l[c]=y,lb(s,o,0,c,kc(s,l,h.hostVars,At),h)}function YT(s,o,l){const c=hr(o,s),h=rb(l),p=s[10],y=b_(s,Ga(s,h,null,l.onPush?64:16,c,o,p,p.createRenderer(c,l),null,null));s[o.index]=y}function y_(s,o,l,c,h,p,y){if(null==p)mn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const b=null==y?me(p):y(p,c||"",h);mn(s)?s.setAttribute(o,h,b,l):l?o.setAttributeNS(l,h,b):o.setAttribute(h,b)}}function JT(s,o,l,c,h,p){const y=p[o];if(null!==y){const b=c.setInput;for(let T=0;T<y.length;){const S=y[T++],M=y[T++],F=y[T++];null!==b?c.setInput(l,F,S,M):l[M]=F}}}function QT(s,o){let l=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return l}function XT(s,o,l,c){return new Array(s,!0,!1,o,null,0,c,l,null,null)}function nE(s,o){const l=fr(o,s);if(Wi(l)){const c=l[1];80&l[2]?Pc(c,l,c.template,l[8]):l[5]>0&&v_(l)}}function v_(s){for(let c=_p(s);null!==c;c=zm(c))for(let h=10;h<c.length;h++){const p=c[h];if(1024&p[2]){const y=p[1];Pc(y,p,y.template,p[8])}else p[5]>0&&v_(p)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=fr(l[c],s);Wi(h)&&h[5]>0&&v_(h)}}function rE(s,o){const l=fr(o,s),c=l[1];(function iE(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(c,l),ah(c,l,l[8])}function b_(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function hb(s){for(;s;){s[2]|=64;const o=mp(s);if(Sd(s)&&!o)return s;s=o}return null}function sE(s){!function fb(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],c=hp(l),h=c[1];LT(h,c,h.template,l)}}(s[8])}function w_(s,o,l){nc(0),o(s,l)}const tx=(()=>Promise.resolve(null))();function oE(s){return s[7]||(s[7]=[])}function aE(s){return s.cleanup||(s.cleanup=[])}function mb(s,o){const l=s[9],c=l?l.get(Nc,null):null;c&&c.handleError(o)}function lE(s,o,l,c,h){for(let p=0;p<l.length;){const y=l[p++],b=l[p++],T=o[y],S=s.data[y];null!==S.setInput?S.setInput(T,h,c,b):T[b]=h}}function D_(s,o,l){let c=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const b=o[y];"number"==typeof b?p=b:1==p?h=ye(h,b):2==p&&(c=ye(c,b+": "+o[++y]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}const _b=new Un("INJECTOR",-1);class yb{get(o,l=po){if(l===po){const c=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw c.name="NullInjectorError",c}return l}}const T_=new Un("Set Injector scope."),lh={},cE={};let E_;function dE(){return void 0===E_&&(E_=new yb),E_}function vb(s,o=null,l=null,c){const h=bb(s,o,l,c);return h._resolveInjectorDefTypes(),h}function bb(s,o=null,l=null,c){return new hE(s,l,o||dE(),c)}class hE{constructor(o,l,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];l&&Hn(l,b=>this.processProvider(b,o,l)),Hn([o],b=>this.processInjectorType(b,[],p)),this.records.set(_b,Fc(void 0,this));const y=this.records.get(T_);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ce(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=po,c=bt.Default){this.assertNotDestroyed();const h=Be(this),p=nn(void 0);try{if(!(c&bt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const T=function bE(s){return"function"==typeof s||"object"==typeof s&&s instanceof Un}(o)&&Dn(o);b=T&&this.injectableDefInScope(T)?Fc(C_(o),lh):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(c&bt.Self?dE():this.parent).get(o,l=c&bt.Optional&&l===po?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[wl]=y[wl]||[]).unshift(ce(o)),h)throw y;return function Zo(s,o,l,c){const h=s[wl];throw o[B]&&h.unshift(o[B]),s.message=function Mn(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ce(o);if(Array.isArray(o))h=o.map(ce).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let b=o[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):ce(b)))}h=`{${p.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(C,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[wl]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{nn(p),Be(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(ce(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processInjectorType(o,l,c){if(!(o=se(o)))return!1;let h=ji(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,b=-1!==c.indexOf(y);if(void 0!==p&&(h=ji(p)),null==h)return!1;if(null!=h.imports&&!b){let M;c.push(y);try{Hn(h.imports,F=>{this.processInjectorType(F,l,c)&&(void 0===M&&(M=[]),M.push(F))})}finally{}if(void 0!==M)for(let F=0;F<M.length;F++){const{ngModule:H,providers:X}=M[F];Hn(X,Ee=>this.processProvider(Ee,H,X||U))}}this.injectorDefTypes.add(y);const T=ui(y)||(()=>new y);this.records.set(y,Fc(T,lh));const S=h.providers;if(null!=S&&!b){const M=o;Hn(S,F=>this.processProvider(F,M,S))}return void 0!==p&&void 0!==o.providers}processProvider(o,l,c){let h=Lc(o=se(o))?o:se(o&&o.provide);const p=function pE(s,o,l){return Db(s)?Fc(void 0,s.useValue):Fc(wb(s),lh)}(o);if(Lc(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=Fc(void 0,lh,!0),y.factory=()=>Et(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,l){return l.value===lh&&(l.value=cE,l.value=l.factory()),"object"==typeof l.value&&l.value&&function vE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=se(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function C_(s){const o=Dn(s),l=null!==o?o.factory:ui(s);if(null!==l)return l;if(s instanceof Un)throw new Le(204,!1);if(s instanceof Function)return function fE(s){const o=s.length;if(o>0)throw ho(o,"?"),new Le(204,!1);const l=function Ir(s){const o=s&&(s[ii]||s[Yn]);if(o){const l=function In(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Le(204,!1)}function wb(s,o,l){let c;if(Lc(s)){const h=se(s);return ui(h)||C_(h)}if(Db(s))c=()=>se(s.useValue);else if(function mE(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Et(s.deps||[]));else if(function gE(s){return!(!s||!s.useExisting)}(s))c=()=>ct(se(s.useExisting));else{const h=se(s&&(s.useClass||s.provide));if(!function yE(s){return!!s.deps}(s))return ui(h)||C_(h);c=()=>new h(...Et(s.deps))}return c}function Fc(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Db(s){return null!==s&&"object"==typeof s&&J in s}function Lc(s){return"function"==typeof s}let ta=(()=>{class s{static create(l,c){var h;if(Array.isArray(l))return vb({name:""},c,l,"");{const p=null!==(h=l.name)&&void 0!==h?h:"";return vb({name:p},l.parent,l.providers,p)}}}return s.THROW_IF_NOT_FOUND=po,s.NULL=new yb,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>ct(_b)}),s.__NG_ELEMENT_ID__=-1,s})();function ax(s,o){fs(hp(s)[1],wn())}function Mb(s){let o=function Nb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let h;if(li(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Le(903,"");h=o.\u0275dir}if(h){if(l){c.push(h);const y=s;y.inputs=N_(s.inputs),y.declaredInputs=N_(s.declaredInputs),y.outputs=N_(s.outputs);const b=h.hostBindings;b&&dx(s,b);const T=h.viewQuery,S=h.contentQueries;if(T&&RE(s,T),S&&cx(s,S),fe(s.inputs,h.inputs),fe(s.declaredInputs,h.declaredInputs),fe(s.outputs,h.outputs),li(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const b=p[y];b&&b.ngInherit&&b(s),b===Mb&&(l=!1)}}o=Object.getPrototypeOf(o)}!function ux(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Zi(h.hostAttrs,l=Zi(l,h.hostAttrs))}}(c)}function N_(s){return s===cn?{}:s===U?[]:s}function RE(s,o){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{o(c,h),l(c,h)}:o}function cx(s,o){const l=s.contentQueries;s.contentQueries=l?(c,h,p)=>{o(c,h,p),l(c,h,p)}:o}function dx(s,o){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{o(c,h),l(c,h)}:o}let Up=null;function uh(){if(!Up){const s=$t.Symbol;if(s&&s.iterator)Up=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const c=o[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Up=c)}}}return Up}function ch(s){return!!Bc(s)&&(Array.isArray(s)||!(s instanceof Map)&&uh()in s)}function Bc(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function $a(s,o,l){return s[o]=l}function Ur(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function xi(s,o,l,c){const h=Ur(s,o,l);return Ur(s,o+1,c)||h}function jp(s,o,l,c){const h=Oe();return Ur(h,Uo(),o)&&(Wt(),function ea(s,o,l,c,h,p){const y=hr(s,o);y_(o[11],y,p,s.value,l,c,h)}(er(),h,s,o,l,c)),jp}function fh(s,o,l,c){return Ur(s,Uo(),l)?o+me(l)+c:At}function Hp(s,o,l,c,h,p,y,b){const T=Oe(),S=Wt(),M=s+20,F=S.firstCreatePass?function FE(s,o,l,c,h,p,y,b,T){const S=o.consts,M=Oc(o,s,4,y||null,Yr(S,b));Vp(o,l,M,Yr(S,T)),fs(o,M);const F=M.tViews=Lp(2,M,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,M),F.queries=o.queries.embeddedTView(M)),M}(M,S,T,o,l,c,h,p,y):S.data[M];qi(F,!1);const H=T[11].createComment("");Tp(S,T,H,F),Vr(H,T),b_(T,T[M]=XT(H,T,H,F)),Rs(F)&&g_(S,T,F),null!=y&&m_(T,F,b)}function x_(s){return ds(function Qu(){return Dt.lFrame.contextLView}(),20+s)}function $p(s,o=bt.Default){const l=Oe();return null===l?ct(s,o):Ma(wn(),l,se(s),o)}function WE(){throw new Error("invalid")}function zb(s,o,l){const c=Oe();return Ur(c,Uo(),o)&&Zs(Wt(),er(),c,s,o,c[11],l,!1),zb}function P_(s,o,l,c,h){const y=h?"class":"style";lE(s,l,o.inputs[y],y,c)}function F_(s,o,l,c){const h=Oe(),p=Wt(),y=20+s,b=h[11],T=h[y]=Km(b,o,function Hf(){return Dt.lFrame.currentNamespace}()),S=p.firstCreatePass?function qE(s,o,l,c,h,p,y){const b=o.consts,S=Oc(o,s,2,h,Yr(b,p));return Vp(o,l,S,Yr(b,y)),null!==S.attrs&&D_(S,S.attrs,!1),null!==S.mergedAttrs&&D_(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,p,h,0,o,l,c):p.data[y];qi(S,!0);const M=S.mergedAttrs;null!==M&&sr(b,T,M);const F=S.classes;null!==F&&V0(b,T,F);const H=S.styles;return null!==H&&r_(b,T,H),64!=(64&S.flags)&&Tp(p,h,T,S),0===function Ku(){return Dt.lFrame.elementDepthCount}()&&Vr(T,h),function ba(){Dt.lFrame.elementDepthCount++}(),Rs(S)&&(g_(p,h,S),nb(p,S,h)),null!==c&&m_(h,S),F_}function L_(){let s=wn();zl()?wa():(s=s.parent,qi(s,!1));const o=s;!function Yu(){Dt.lFrame.elementDepthCount--}();const l=Wt();return l.firstCreatePass&&(fs(l,s),ju(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function $f(s){return 0!=(16&s.flags)}(o)&&P_(l,o,Oe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Vs(s){return 0!=(32&s.flags)}(o)&&P_(l,o,Oe(),o.stylesWithoutHost,!1),L_}function Zb(s,o,l,c){return F_(s,o,l,c),L_(),Zb}function B_(s,o,l){const c=Oe(),h=Wt(),p=s+20,y=h.firstCreatePass?function zE(s,o,l,c,h){const p=o.consts,y=Yr(p,c),b=Oc(o,s,8,"ng-container",y);return null!==y&&D_(b,y,!0),Vp(o,l,b,Yr(p,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(p,h,c,o,l):h.data[p];qi(y,!0);const b=c[p]=c[11].createComment("");return Tp(h,c,b,y),Vr(b,c),Rs(y)&&(g_(h,c,y),nb(h,y,c)),null!=l&&m_(c,y),B_}function V_(){let s=wn();const o=Wt();return zl()?wa():(s=s.parent,qi(s,!1)),o.firstCreatePass&&(fs(o,s),ju(s)&&o.queries.elementEnd(s)),V_}function ZE(){return Oe()}function Yb(s){return!!s&&"function"==typeof s.then}function KE(s){return!!s&&"function"==typeof s.subscribe}const YE=KE;function Jb(s,o,l,c){const h=Oe(),p=Wt(),y=wn();return function JE(s,o,l,c,h,p,y,b){const T=Rs(c),M=s.firstCreatePass&&aE(s),F=o[8],H=oE(o);let X=!0;if(3&c.type||b){const et=hr(c,o),ht=b?b(et):et,Re=H.length,Tt=b?zt=>b(hn(zt[c.index])):c.index;if(mn(l)){let zt=null;if(!b&&T&&(zt=function Tx(s,o,l,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===c){const b=o[7],T=h[p+2];return b.length>T?b[T]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,c.index)),null!==zt)(zt.__ngLastListenerFn__||zt).__ngNextListenerFn__=p,zt.__ngLastListenerFn__=p,X=!1;else{p=gr(c,o,F,p,!1);const _n=l.listen(ht,h,p);H.push(p,_n),M&&M.push(h,Tt,Re,Re+1)}}else p=gr(c,o,F,p,!0),ht.addEventListener(h,p,y),H.push(p),M&&M.push(h,Tt,Re,y)}else p=gr(c,o,F,p,!1);const Ee=c.outputs;let Ge;if(X&&null!==Ee&&(Ge=Ee[h])){const et=Ge.length;if(et)for(let ht=0;ht<et;ht+=2){const yi=o[Ge[ht]][Ge[ht+1]].subscribe(p),Fl=H.length;H.push(p,yi),M&&M.push(h,c.index,Fl,-(Fl+1))}}}(p,h,h[11],y,s,o,!!l,c),Jb}function QE(s,o,l,c){try{return!1!==l(c)}catch(h){return mb(s,h),!1}}function gr(s,o,l,c,h){return function p(y){if(y===Function)return c;const b=2&s.flags?fr(s.index,o):o;0==(32&o[2])&&hb(b);let T=QE(o,0,c,y),S=p.__ngNextListenerFn__;for(;S;)T=QE(o,0,S,y)&&T,S=S.__ngNextListenerFn__;return h&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function XE(s=1){return function kd(s){return(Dt.lFrame.contextLView=function Yl(s,o){for(;s>0;)o=o[15],s--;return o}(s,Dt.lFrame.contextLView))[8]}(s)}function Ex(s,o){let l=null;const c=function Qo(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===c?rh(s,p,!0):_s(c,p))return h}else l=h}return l}function eC(s){const o=Oe()[16][6];if(!o.projection){const c=o.projection=ho(s?s.length:1,null),h=c.slice();let p=o.child;for(;null!==p;){const y=s?Ex(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:c[y]=p,h[y]=p),p=p.next}}}function tC(s,o=0,l){const c=Oe(),h=Wt(),p=Oc(h,20+s,16,null,l||null);null===p.projection&&(p.projection=o),wa(),64!=(64&p.flags)&&function F0(s,o,l){L0(o[11],0,o,l,Qm(s,l,o),Cl(l.parent||o[6],l,o))}(h,c,p)}function $c(s,o,l){return bh(s,"",o,"",l),$c}function bh(s,o,l,c,h){const p=Oe(),y=fh(p,o,l,c);return y!==At&&Zs(Wt(),er(),p,s,y,p[11],h,!1),bh}function sw(s,o,l,c,h){const p=s[l+1],y=null===o;let b=c?Mi(p):ja(p),T=!1;for(;0!==b&&(!1===T||y);){const M=s[b+1];iC(s[b],o)&&(T=!0,s[b+1]=c?a_(M):Ap(M)),b=c?Mi(M):ja(M)}T&&(s[l+1]=c?Ap(p):a_(p))}function iC(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&zo(s,o)>=0}const xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ow(s){return s.substring(xr.key,xr.keyEnd)}function aw(s,o){const l=xr.textEnd;return l===o?-1:(o=xr.keyEnd=function aC(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,xr.key=o,l),wh(s,o,l))}function wh(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function cw(s,o,l){return na(s,o,l,!1),cw}function dw(s,o){return na(s,o,null,!0),dw}function dC(s){!function ra(s,o,l,c){const h=Wt(),p=Jr(2);h.firstUpdatePass&&fC(h,null,p,c);const y=Oe();if(l!==At&&Ur(y,p,l)){const b=h.data[_r()];if(qp(b,c)&&!hC(h,p)){let T=c?b.classesWithoutHost:b.stylesWithoutHost;null!==T&&(l=ye(T,l||"")),P_(h,b,y,l,c)}else!function Rx(s,o,l,c,h,p,y,b){h===At&&(h=U);let T=0,S=0,M=0<h.length?h[0]:null,F=0<p.length?p[0]:null;for(;null!==M||null!==F;){const H=T<h.length?h[T+1]:void 0,X=S<p.length?p[S+1]:void 0;let Ge,Ee=null;M===F?(T+=2,S+=2,H!==X&&(Ee=F,Ge=X)):null===F||null!==M&&M<F?(T+=2,Ee=M):(S+=2,Ee=F,Ge=X),null!==Ee&&G_(s,o,l,c,Ee,Ge,y,b),M=T<h.length?h[T]:null,F=S<p.length?p[S]:null}}(h,b,y,y[11],y[p+1],y[p+1]=function xx(s,o,l){if(null==l||""===l)return U;const c=[],h=$s(l);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&o(c,h);return c}(s,o,l),c,p)}}(Xr,Za,s,!0)}function Za(s,o){for(let l=function oC(s){return function uw(s){xr.key=0,xr.keyEnd=0,xr.value=0,xr.valueEnd=0,xr.textEnd=s.length}(s),aw(s,wh(s,0,xr.textEnd))}(o);l>=0;l=aw(o,l))Xr(s,ow(o),!0)}function na(s,o,l,c){const h=Oe(),p=Wt(),y=Jr(2);p.firstUpdatePass&&fC(p,s,y,c),o!==At&&Ur(h,y,o)&&G_(p,p.data[_r()],h,h[11],s,h[y+1]=function zn(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce($s(s)))),s}(o,l),c,y)}function hC(s,o){return o>=s.expandoStartIndex}function fC(s,o,l,c){const h=s.data;if(null===h[l+1]){const p=h[_r()],y=hC(s,l);qp(p,c)&&null===o&&!y&&(o=!1),o=function Ax(s,o,l,c){const h=function Ho(s){const o=Dt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(l=Wp(l=hw(null,s,o,l,c),o.attrs,c),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=hw(h,s,o,l,c),null===p){let T=function Nx(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==ja(c))return s[Mi(c)]}(s,o,c);void 0!==T&&Array.isArray(T)&&(T=hw(null,s,o,T[1],c),T=Wp(T,o.attrs,c),function pC(s,o,l,c){s[Mi(l?o.classBindings:o.styleBindings)]=c}(s,o,c,T))}else p=function Mx(s,o,l){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=Wp(c,s[p].hostAttrs,l);return Wp(c,o.attrs,l)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),l}(h,p,o,c),function nC(s,o,l,c,h,p){let y=p?o.classBindings:o.styleBindings,b=Mi(y),T=ja(y);s[c]=l;let M,S=!1;if(Array.isArray(l)){const F=l;M=F[1],(null===M||zo(F,M)>0)&&(S=!0)}else M=l;if(h)if(0!==T){const H=Mi(s[b+1]);s[c+1]=ih(H,b),0!==H&&(s[H+1]=o_(s[H+1],c)),s[b+1]=function W0(s,o){return 131071&s|o<<17}(s[b+1],c)}else s[c+1]=ih(b,0),0!==b&&(s[b+1]=o_(s[b+1],c)),b=c;else s[c+1]=ih(T,0),0===b?b=c:s[T+1]=o_(s[T+1],c),T=c;S&&(s[c+1]=Ap(s[c+1])),sw(s,M,c,!0),sw(s,M,c,!1),function rC(s,o,l,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&zo(p,o)>=0&&(l[c+1]=a_(l[c+1]))}(o,M,s,c,p),y=ih(b,T),p?o.classBindings=y:o.styleBindings=y}(h,p,o,l,y,c)}}function hw(s,o,l,c,h){let p=null;const y=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<y&&(p=o[b],c=Wp(c,p.hostAttrs,h),p!==s);)b++;return null!==s&&(l.directiveStylingLast=b),c}function Wp(s,o,l){const c=l?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Xr(s,y,!!l||o[++p]))}return void 0===s?null:s}function G_(s,o,l,c,h,p,y,b){if(!(3&o.type))return;const T=s.data,S=T[b+1];es(function q0(s){return 1==(1&s)}(S)?mC(T,o,l,h,ja(S),y):void 0)||(es(p)||function $0(s){return 2==(2&s)}(S)&&(p=mC(T,null,l,h,b,y)),function CT(s,o,l,c,h){const p=mn(s);if(o)h?p?s.addClass(l,c):l.classList.add(c):p?s.removeClass(l,c):l.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:ms.DashCase;if(null==h)p?s.removeStyle(l,c,y):l.style.removeProperty(c);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),y|=ms.Important),p?s.setStyle(l,c,h,y):l.style.setProperty(c,h,b?"important":"")}}}(c,y,no(_r(),l),h,p))}function mC(s,o,l,c,h,p){const y=null===o;let b;for(;h>0;){const T=s[h],S=Array.isArray(T),M=S?T[1]:T,F=null===M;let H=l[h+1];H===At&&(H=F?U:void 0);let X=F?_c(H,c):M===c?H:void 0;if(S&&!es(X)&&(X=_c(T,c)),es(X)&&(b=X,y))return b;const Ee=s[h+1];h=y?Mi(Ee):ja(Ee)}if(null!==o){let T=p?o.residualClasses:o.residualStyles;null!=T&&(b=_c(T,c))}return b}function es(s){return void 0!==s}function qp(s,o){return 0!=(s.flags&(o?16:32))}function $_(s,o=""){const l=Oe(),c=Wt(),h=s+20,p=c.firstCreatePass?Oc(c,h,1,o,null):c.data[h],y=l[h]=yp(l[11],o);Tp(c,l,y,p),qi(p,!1)}function Dh(s){return zp("",s,""),Dh}function zp(s,o,l){const c=Oe(),h=fh(c,s,o,l);return h!==At&&function Ml(s,o,l){const c=no(o,s);I0(s[11],c,l)}(c,_r(),h),zp}function Jp(s,o,l){const c=Oe();return Ur(c,Uo(),o)&&Zs(Wt(),er(),c,s,o,c[11],l,!0),Jp}const Rl=void 0;var SC=["en",[["a","p"],["AM","PM"],Rl],[["AM","PM"],Rl,Rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rl,"{1} 'at' {0}",Rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Qp(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Ka={};function Xp(s){const o=function Ch(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=vw(o);if(l)return l;const c=o.split("-")[0];if(l=vw(c),l)return l;if("en"===c)return SC;throw new Error(`Missing locale data for the locale "${s}".`)}function AC(s){return Xp(s)[It.PluralCase]}function vw(s){return s in Ka||(Ka[s]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[s]),Ka[s]}var It=(()=>((It=It||{})[It.LocaleId=0]="LocaleId",It[It.DayPeriodsFormat=1]="DayPeriodsFormat",It[It.DayPeriodsStandalone=2]="DayPeriodsStandalone",It[It.DaysFormat=3]="DaysFormat",It[It.DaysStandalone=4]="DaysStandalone",It[It.MonthsFormat=5]="MonthsFormat",It[It.MonthsStandalone=6]="MonthsStandalone",It[It.Eras=7]="Eras",It[It.FirstDayOfWeek=8]="FirstDayOfWeek",It[It.WeekendRange=9]="WeekendRange",It[It.DateFormat=10]="DateFormat",It[It.TimeFormat=11]="TimeFormat",It[It.DateTimeFormat=12]="DateTimeFormat",It[It.NumberSymbols=13]="NumberSymbols",It[It.NumberFormats=14]="NumberFormats",It[It.CurrencyCode=15]="CurrencyCode",It[It.CurrencySymbol=16]="CurrencySymbol",It[It.CurrencyName=17]="CurrencyName",It[It.Currencies=18]="Currencies",It[It.Directionality=19]="Directionality",It[It.PluralCase=20]="PluralCase",It[It.ExtraData=21]="ExtraData",It))();const MC=["zero","one","two","few","many"],eg="en-US",tg={marker:"element"},Ih={marker:"ICU"};var or=(()=>((or=or||{})[or.SHIFT=2]="SHIFT",or[or.APPEND_EAGERLY=1]="APPEND_EAGERLY",or[or.COMMENT=2]="COMMENT",or))();let bw=eg;function ng(s,o,l){const c=o.insertBeforeIndex,h=Array.isArray(c)?c[0]:c;return null===h?k0(s,0,l):hn(l[h])}function K_(s,o,l,c,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=c,b=null;if(3&o.type||(b=y,y=h),null!==y&&0==(2&o.flags))for(let T=1;T<p.length;T++)xc(s,y,l[p[T]],b,!1)}}function Dw(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const c=s[l];Tw(c)||Y_(c,o)&&null===jx(c)&&Hx(c,o.index)}}function Tw(s){return!(64&s.type)}function Y_(s,o){return Tw(o)||s.index>o.index}function jx(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Hx(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(n_(ng,K_),s.insertBeforeIndex=o)}function Zc(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function Cw(s,o,l){const c=oh(s,l,64,null,null);return Dw(o,c),c}function Sh(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function J_(s){return s>>>17}function Q_(s){return(131070&s)>>>1}let rg=0,ig=0;function Aw(s,o,l,c){const h=l[11];let y,p=null;for(let b=0;b<o.length;b++){const T=o[b];if("string"==typeof T){const S=o[++b];null===l[S]&&(l[S]=yp(h,T))}else if("number"==typeof T)switch(1&T){case 0:const S=J_(T);let M,F;if(null===p&&(p=S,y=Dp(h,c)),S===p?(M=c,F=y):(M=null,F=hn(l[S])),null!==F){const Ge=Q_(T);xc(h,F,l[Ge],M,!1);const ht=Zc(s,Ge);if(null!==ht&&"object"==typeof ht){const Re=Sh(ht,l);null!==Re&&Aw(s,ht.create[Re],l,l[ht.anchorIdx])}}break;case 1:const X=o[++b],Ee=o[++b];y_(h,no(T>>>1,l),null,null,X,Ee,null)}else switch(T){case Ih:const S=o[++b],M=o[++b];null===l[M]&&Vr(l[M]=eh(h,S),l);break;case tg:const F=o[++b],H=o[++b];null===l[H]&&Vr(l[H]=Km(h,F,null),l)}}}function Nw(s,o,l,c,h){for(let p=0;p<l.length;p++){const y=l[p],b=l[++p];if(y&h){let T="";for(let S=p+1;S<=p+b;S++){const M=l[S];if("string"==typeof M)T+=M;else if("number"==typeof M)if(M<0)T+=me(o[c-M]);else{const F=M>>>2;switch(3&M){case 1:const H=l[++S],X=l[++S],Ee=s.data[F];"string"==typeof Ee?y_(o[11],o[F],null,Ee,H,T,X):Zs(s,Ee,o,H,T,o[11],X,!1);break;case 0:const Ge=o[F];null!==Ge&&I0(o[11],Ge,T);break;case 2:LC(s,Zc(s,F),o,T);break;case 3:ey(s,Zc(s,F),c,o)}}}}else{const T=l[p+1];if(T>0&&3==(3&T)){const M=Zc(s,T>>>2);o[M.currentCaseLViewIndex]<0&&ey(s,M,c,o)}}p+=b}}function ey(s,o,l,c){let h=c[o.currentCaseLViewIndex];if(null!==h){let p=rg;h<0&&(h=c[o.currentCaseLViewIndex]=~h,p=-1),Nw(s,c,o.update[h],l,p)}}function LC(s,o,l,c){const h=function Gx(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const c=function xC(s,o){const l=AC(o)(parseInt(s,10)),c=MC[l];return void 0!==c?c:"other"}(o,function Z_(){return bw}());l=s.cases.indexOf(c),-1===l&&"other"!==c&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,c);if(Sh(o,l)!==h&&(BC(s,o,l),l[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=l[o.anchorIdx];y&&Aw(s,o.create[h],l,y)}}function BC(s,o,l){let c=Sh(o,l);if(null!==c){const h=o.remove[c];for(let p=0;p<h.length;p++){const y=h[p];if(y>0){const b=no(y,l);null!==b&&P0(l[11],b)}else BC(s,Zc(s,~y),l)}}}function $x(){const s=[];let l,c,o=-1;function p(b,T){o=0;const S=Sh(b,T);c=null!==S?b.remove[S]:U}function y(){if(o<c.length){const b=c[o++];return b>0?l[b]:(s.push(o,c),p(l[1].data[~b],l),y())}return 0===s.length?null:(c=s.pop(),o=s.pop(),y())}return function h(b,T){for(l=T;s.length;)s.pop();return p(b.value,T),y}}const Ah=/\ufffd(\d+):?\d*\ufffd/gi,qx=/\ufffd(\d+)\ufffd/,ty=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,zx=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Zx=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Kx=/\uE500/g;function HC(s,o,l,c,h,p,y){const b=kc(s,c,1,null);let T=b<<or.SHIFT,S=hs();o===S&&(S=null),null===S&&(T|=or.APPEND_EAGERLY),y&&(T|=or.COMMENT,function D0(s){void 0===Xd&&(Xd=s())}($x)),h.push(T,null===p?"":p);const M=oh(s,b,y?32:1,null===p?"":p,null);Dw(l,M);const F=M.index;return qi(M,!1),null!==S&&o!==S&&function Ew(s,o){let l=s.insertBeforeIndex;null===l?(n_(ng,K_),l=s.insertBeforeIndex=[null,o]):(function Ie(s,o,l){s!=o&&Je(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(S,F),M}function GC(s,o,l,c,h,p,y){const b=y.match(Ah),T=HC(s,o,l,p,c,b?null:y,!1);b&&Nh(h,y,T.index,null,0,null)}function Nh(s,o,l,c,h,p){const y=s.length,b=y+1;s.push(null,null);const T=y+2,S=o.split(Ah);let M=0;for(let F=0;F<S.length;F++){const H=S[F];if(1&F){const X=h+parseInt(H,10);s.push(-1-X),M|=$C(X)}else""!==H&&s.push(H)}return s.push(l<<2|(c?1:0)),c&&s.push(c,p),s[y]=M,s[b]=s.length-T,M}function $C(s){return 1<<Math.min(s,31)}function WC(s){let o,p,l="",c=0,h=!1;for(;null!==(o=zx.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(c=o.index,h=!1):(l+=s.substring(c,o.index+o[0].length),p=o[1],h=!0);return l+=s.substr(c),l}function qC(s,o,l,c,h,p){let y=0;const b={type:h.type,currentCaseLViewIndex:kc(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function tR(s,o,l){s.push($C(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,h,p),function kC(s,o,l){const c=s.data[o];null===c?s.data[o]=l:c.value=l}(s,p,b);const T=h.values;for(let S=0;S<T.length;S++){const M=T[S],F=[];for(let H=0;H<M.length;H++){const X=M[H];if("string"!=typeof X){const Ee=F.push(X)-1;M[H]=`\x3c!--\ufffd${Ee}\ufffd--\x3e`}}y=eR(s,b,o,l,c,h.cases[S],M.join(""),F)|y}y&&function nR(s,o,l){s.push(o,1,l<<2|3)}(l,y,p)}function xw(s){const o=[],l=[];let c=1,h=0;const p=Rw(s=s.replace(ty,function(y,b,T){return c="select"===T?0:1,h=parseInt(b.substr(1),10),""}));for(let y=0;y<p.length;){let b=p[y++].trim();1===c&&(b=b.replace(/\s*(?:=)?(\w+)\s*/,"$1")),b.length&&o.push(b);const T=Rw(p[y++]);o.length>l.length&&l.push(T)}return{type:c,mainBinding:h,cases:o,values:l}}function Rw(s){if(!s)return[];let o=0;const l=[],c=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const b=p.index;if("}"==p[0]){if(l.pop(),0==l.length){const T=s.substring(o,b);ty.test(T)?c.push(xw(T)):c.push(T),o=b+1}}else{if(0==l.length){const T=s.substring(o,b);c.push(T),o=b+1}l.push("{")}}const y=s.substring(o);return c.push(y),c}function eR(s,o,l,c,h,p,y,b){const T=[],S=[],M=[];o.cases.push(p),o.create.push(T),o.remove.push(S),o.update.push(M);const H=cu(cs()).getInertBodyElement(y),X=du(H)||H;return X?zC(s,o,l,c,T,S,M,X,h,b,0):0}function zC(s,o,l,c,h,p,y,b,T,S,M){let F=0,H=b.firstChild;for(;H;){const X=kc(s,l,1,null);switch(H.nodeType){case Node.ELEMENT_NODE:const Ee=H,Ge=Ee.tagName.toLowerCase();if(ti.hasOwnProperty(Ge)){kw(h,tg,Ge,T,X),s.data[X]=Ge;const Tt=Ee.attributes;for(let zt=0;zt<Tt.length;zt++){const _n=Tt.item(zt),yi=_n.name.toLowerCase();_n.value.match(Ah)?ap.hasOwnProperty(yi)&&Nh(y,_n.value,X,_n.name,0,Ws[yi]?m:Yo[yi]?D:null):rR(h,X,_n)}F=zC(s,o,l,c,h,p,y,H,X,S,M+1)|F,ZC(p,X,M)}break;case Node.TEXT_NODE:const et=H.textContent||"",ht=et.match(Ah);kw(h,null,ht?"":et,T,X),ZC(p,X,M),ht&&(F=Nh(y,et,X,null,0,null)|F);break;case Node.COMMENT_NODE:const Re=qx.exec(H.textContent||"");if(Re){const zt=S[parseInt(Re[1],10)];kw(h,Ih,"",T,X),qC(s,l,c,T,zt,X),Ow(p,X,M)}}H=H.nextSibling}return F}function ZC(s,o,l){0===l&&s.push(o)}function Ow(s,o,l){0===l&&(s.push(~o),s.push(o))}function kw(s,o,l,c,h){null!==o&&s.push(o),s.push(l,h,function Iw(s,o,l){return s|o<<17|l<<1}(0,c,h))}function rR(s,o,l){s.push(o<<1|1,l.name,l.value)}function KC(s,o,l=-1){const c=Wt(),h=Oe(),p=20+s,y=Yr(c.consts,o),b=hs();c.firstCreatePass&&function Yx(s,o,l,c,h,p){const y=hs(),b=[],T=[],S=[[]];h=function Xx(s,o){if(function Qx(s){return-1===s}(o))return WC(s);{const l=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return WC(s.substring(l,c))}}(h,p);const M=function jC(s){return s.replace(Kx," ")}(h).split(Zx);for(let F=0;F<M.length;F++){let H=M[F];if(0==(1&F)){const X=Rw(H);for(let Ee=0;Ee<X.length;Ee++){let Ge=X[Ee];if(0==(1&Ee)){const et=Ge;""!==et&&GC(s,y,S[0],b,T,l,et)}else{const et=Ge;if("object"!=typeof et)throw new Error(`Unable to parse ICU expression in "${h}" message.`);qC(s,l,T,o,et,HC(s,y,S[0],l,b,"",!0).index)}}}else{const X=47===H.charCodeAt(0),Ge=(H.charCodeAt(X?1:0),20+Number.parseInt(H.substring(X?2:1)));if(X)S.shift(),qi(hs(),!1);else{const et=Cw(s,S[0],Ge);S.unshift([]),qi(et,!0)}}}s.data[c]={create:b,update:T}}(c,null===b?0:b.index,h,p,y,l);const T=c.data[p],M=x0(c,b===h[6]?null:b,h);(function FC(s,o,l,c){const h=s[11];for(let p=0;p<o.length;p++){const y=o[p++],b=o[p],T=(y&or.COMMENT)===or.COMMENT,S=(y&or.APPEND_EAGERLY)===or.APPEND_EAGERLY,M=y>>>or.SHIFT;let F=s[M];null===F&&(F=s[M]=T?h.createComment(b):yp(h,b)),S&&null!==l&&xc(h,l,F,c,!1)}})(h,T.create,M,b&&8&b.type?h[b.index]:null),jo(!0)}function JC(s,o,l){KC(s,o,l),function YC(){jo(!1)}()}function Lw(s){return function Sw(s){s&&(rg|=1<<Math.min(ig,31)),ig++}(Ur(Oe(),Uo(),s)),Lw}function ny(s){!function PC(s,o,l){if(ig>0){const c=s.data[l];Nw(s,o,Array.isArray(c)?c:c.update,function zi(){return Dt.lFrame.bindingIndex}()-ig-1,rg)}rg=0,ig=0}(Wt(),Oe(),s+20)}function Kc(s,o,l,c,h){if(s=se(s),Array.isArray(s))for(let p=0;p<s.length;p++)Kc(s[p],o,l,c,h);else{const p=Wt(),y=Oe();let b=Lc(s)?s:se(s.provide),T=wb(s);const S=wn(),M=1048575&S.providerIndexes,F=S.directiveStart,H=S.providerIndexes>>20;if(Lc(s)||!s.multi){const X=new Go(T,h,$p),Ee=og(b,o,h?M:M+H,F);-1===Ee?(uo(lo(S,y),p,b),ry(p,s,o.length),o.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(X),y.push(X)):(l[Ee]=X,y[Ee]=X)}else{const X=og(b,o,M+H,F),Ee=og(b,o,M,M+H),Ge=X>=0&&l[X],et=Ee>=0&&l[Ee];if(h&&!et||!h&&!Ge){uo(lo(S,y),p,b);const ht=function eI(s,o,l,c,h){const p=new Go(s,l,$p);return p.multi=[],p.index=o,p.componentProviders=0,Mh(p,h,c&&!l),p}(h?Vw:Bw,l.length,h,c,T);!h&&et&&(l[Ee].providerFactory=ht),ry(p,s,o.length,0),o.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(ht),y.push(ht)}else ry(p,s,X>-1?X:Ee,Mh(l[h?Ee:X],T,!h&&c));!h&&c&&et&&l[Ee].componentProviders++}}}function ry(s,o,l,c){const h=Lc(o),p=function _E(s){return!!s.useClass}(o);if(h||p){const T=(p?se(o.useClass):o).prototype.ngOnDestroy;if(T){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=S.indexOf(l);-1===M?S.push(l,[c,T]):S[M+1].push(c,T)}else S.push(l,T)}}}function Mh(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function og(s,o,l,c){for(let h=l;h<c;h++)if(o[h]===s)return h;return-1}function Bw(s,o,l,c){return iy(this.multi,[])}function Vw(s,o,l,c){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=gs(l,l[1],this.providerFactory.index,c);p=b.slice(0,y),iy(h,p);for(let T=y;T<b.length;T++)p.push(b[T])}else p=[],iy(h,p);return p}function iy(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Yc(s,o=[]){return l=>{l.providersResolver=(c,h)=>function XC(s,o,l){const c=Wt();if(c.firstCreatePass){const h=li(s);Kc(l,c.data,c.blueprint,h,!0),Kc(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class ag{}class nI{resolveComponentFactory(o){throw function Uw(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ia=(()=>{class s{}return s.NULL=new nI,s})();function rI(){return ts(wn(),Oe())}function ts(s,o){return new vu(hr(s,o))}let vu=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=rI,s})();function xh(s){return s instanceof vu?s.nativeElement:s}class Hw{}let sI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function aI(){const s=Oe(),l=fr(wn().index,s);return function oI(s){return s[11]}(Ci(l)?l:s)}(),s})(),lI=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class Gw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const sy=new Gw("13.3.8"),lg={};function ug(s,o,l,c,h=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&c.push(hn(p)),ai(p))for(let b=10;b<p.length;b++){const T=p[b],S=T[1].firstChild;null!==S&&ug(T[1],T,S,c)}const y=l.type;if(8&y)ug(s,o,l.child,c);else if(32&y){const b=Wm(l,o);let T;for(;T=b();)c.push(T)}else if(16&y){const b=Cp(o,l);if(Array.isArray(b))c.push(...b);else{const T=mp(o[16]);ug(T[1],T,b,c,!0)}}l=h?l.projectionNext:l.next}return c}class Rh{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return ug(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ai(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&(bp(o,c),js(l,c))}this._attachedToViewContainer=!1}N0(this._lView[1],this._lView)}onDestroy(o){VT(this._lView[1],this._lView,null,o)}markForCheck(){hb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function pb(s,o,l){const c=o[10];c.begin&&c.begin();try{Pc(s,o,s.template,l)}catch(h){throw mb(o,h),h}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jm(s,o){nh(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Le(902,"");this._appRef=o}}class uI extends Rh{constructor(o){super(o),this._view=o}detectChanges(){sE(this._view)}checkNoChanges(){}get context(){return null}}class $w extends ia{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=pt(o);return new Ol(l,this.ngModule)}}function oy(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Ol extends ag{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function ys(s){return s.map(yo).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return oy(this.componentDef.inputs)}get outputs(){return oy(this.componentDef.outputs)}create(o,l,c,h){const p=(h=h||this.ngModule)?function cI(s,o){return{get:(l,c,h)=>{const p=s.get(l,lg,h);return p!==lg||c===lg?p:o.get(l,c,h)}}}(o,h.injector):o,y=p.get(Hw,ya),b=p.get(lI,null),T=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",M=c?function sb(s,o,l){if(mn(s))return s.selectRootElement(o,l===Zt.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(T,c,this.componentDef.encapsulation):Km(y.createRenderer(null,this.componentDef),S,function Xt(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),F=this.componentDef.onPush?576:528,H=function xE(s,o){return{components:[],scheduler:s||$m,clean:tx,playerHandler:o||null,flags:0}}(),X=Lp(0,null,null,1,0,null,null,null,null,null),Ee=Ga(null,X,H,F,null,null,y,T,b,p);let Ge,et;Ea(Ee);try{const ht=function NE(s,o,l,c,h,p){const y=l[1];l[20]=s;const T=Oc(y,20,2,"#host",null),S=T.mergedAttrs=o.hostAttrs;null!==S&&(D_(T,S,!0),null!==s&&(sr(h,s,S),null!==T.classes&&V0(h,s,T.classes),null!==T.styles&&r_(h,s,T.styles)));const M=c.createRenderer(s,o),F=Ga(l,rb(o),null,o.onPush?64:16,l[20],T,c,M,p||null,null);return y.firstCreatePass&&(uo(lo(T,l),y,o.type),ub(y,T),cb(T,l.length,1)),b_(l,F),l[20]=F}(M,this.componentDef,Ee,y,T);if(M)if(c)sr(T,M,["ng-version",sy.full]);else{const{attrs:Re,classes:Tt}=function s_(s){const o=[],l=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&l.push(p);else{if(!Jo(h))break;h=p}c++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Re&&sr(T,M,Re),Tt&&Tt.length>0&&V0(T,M,Tt.join(" "))}if(et=Fn(X,20),void 0!==l){const Re=et.projection=[];for(let Tt=0;Tt<this.ngContentSelectors.length;Tt++){const zt=l[Tt];Re.push(null!=zt?Array.from(zt):null)}}Ge=function ME(s,o,l,c,h){const p=l[1],y=function HT(s,o,l){const c=wn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),db(s,c,o,kc(s,o,1,null),l));const h=gs(o,s,c.directiveStart,c);Vr(h,o);const p=hr(c,o);return p&&Vr(p,o),h}(p,l,o);if(c.components.push(y),s[8]=y,h&&h.forEach(T=>T(y,o)),o.contentQueries){const T=wn();o.contentQueries(1,y,T.directiveStart)}const b=wn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(oo(b.index),lb(l[1],b,0,b.directiveStart,b.directiveEnd,o),qT(o,y)),y}(ht,this.componentDef,Ee,H,[ax]),ah(X,Ee,null)}finally{Qr()}return new dI(this.componentType,Ge,ts(et,Ee),Ee,et)}}class dI extends class Ya{}{constructor(o,l,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new uI(h),this.componentType=o}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Jc{}class To{}const bu=new Map;class zw extends Jc{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $w(this);const c=Ut(o);this._bootstrapComponents=Ua(c.bootstrap),this._r3Injector=bb(o,l,[{provide:Jc,useValue:this},{provide:ia,useValue:this.componentFactoryResolver}],ce(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=ta.THROW_IF_NOT_FOUND,c=bt.Default){return o===ta||o===Jc||o===_b?this:this._r3Injector.get(o,l,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class cg extends To{constructor(o){super(),this.moduleType=o,null!==Ut(o)&&function hR(s){const o=new Set;!function l(c){const h=Ut(c,!0),p=h.id;null!==p&&(function ay(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ce(o)} vs ${ce(o.name)}`)}(p,bu.get(p),c),bu.set(p,c));const y=Ua(h.imports);for(const b of y)o.has(b)||(o.add(b),l(b))}(s)}(o)}create(o){return new zw(this.moduleType,o)}}function ly(s,o,l){const c=pr()+s,h=Oe();return h[c]===At?$a(h,c,l?o.call(l):o()):function dh(s,o){return s[o]}(h,c)}function Zw(s,o,l,c){return kl(Oe(),pr(),s,o,l,c)}function uy(s,o,l,c,h){return function Qw(s,o,l,c,h,p,y){const b=o+l;return xi(s,b,h,p)?$a(s,b+2,y?c.call(y,h,p):c(h,p)):kh(s,b+2)}(Oe(),pr(),s,o,l,c,h)}function Kw(s,o,l,c,h,p){return function cy(s,o,l,c,h,p,y,b){const T=o+l;return function Vc(s,o,l,c,h){const p=xi(s,o,l,c);return Ur(s,o+2,h)||p}(s,T,h,p,y)?$a(s,T+3,b?c.call(b,h,p,y):c(h,p,y)):kh(s,T+3)}(Oe(),pr(),s,o,l,c,h,p)}function kh(s,o){const l=s[o];return l===At?void 0:l}function kl(s,o,l,c,h,p){const y=o+l;return Ur(s,y,h)?$a(s,y+1,p?c.call(p,h):c(h)):kh(s,y+1)}function Ph(s,o){const l=Wt();let c;const h=s+20;l.firstCreatePass?(c=function Fh(s,o){if(o)for(let l=o.length-1;l>=0;l--){const c=o[l];if(s===c.name)return c}}(o,l.pipeRegistry),l.data[h]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,c.onDestroy)):c=l.data[h];const p=c.factory||(c.factory=ui(c.type)),y=nn($p);try{const b=yr(!1),T=p();return yr(b),function Fb(s,o,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=c}(l,Oe(),h,T),T}finally{nn(y)}}function hy(s,o,l){const c=s+20,h=Oe(),p=ds(h,c);return function Qc(s,o){return s[1].data[o].pure}(h,c)?kl(h,pr(),o,p.transform,l,p):p.transform(l)}function py(s){return o=>{setTimeout(s,void 0,o)}}const sa=class e1 extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){var h,p,y;let b=o,T=l||(()=>null),S=c;if(o&&"object"==typeof o){const F=o;b=null===(h=F.next)||void 0===h?void 0:h.bind(F),T=null===(p=F.error)||void 0===p?void 0:p.bind(F),S=null===(y=F.complete)||void 0===y?void 0:y.bind(F)}this.__isAsync&&(T=py(T),b&&(b=py(b)),S&&(S=py(S)));const M=super.subscribe({next:b,error:T,complete:S});return o instanceof V.w0&&o.add(M),M}};function gI(){return this._results[uh()]()}class Xc{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=uh(),c=Xc.prototype;c[l]||(c[l]=gI)}get changes(){return this._changes||(this._changes=new sa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const h=qt(o);(this._changesDetected=!function Yi(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Lh=(()=>{class s{}return s.__NG_ELEMENT_ID__=yI,s})();const mI=Lh,_I=class extends mI{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o){const l=this._declarationTContainer.tViews,c=Ga(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(l)),ah(l,c,o),new Rh(c)}};function yI(){return pg(wn(),Oe())}function pg(s,o){return 4&s.type?new _I(o,s,ts(s,o)):null}let Bh=(()=>{class s{}return s.__NG_ELEMENT_ID__=gy,s})();function gy(){return _y(wn(),Oe())}const my=Bh,oa=class extends my{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return ts(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const o=di(this._hostTNode,this._hostLView);if(Vn(o)){const l=Si(o,this._hostLView),c=Rt(o);return new Ni(l[1].data[c+8],l)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Du(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,c){const h=o.createEmbeddedView(l||{});return this.insert(h,c),h}createComponent(o,l,c,h,p){const y=o&&!function ka(s){return"function"==typeof s}(o);let b;if(y)b=l;else{const F=l||{};b=F.index,c=F.injector,h=F.projectableNodes,p=F.ngModuleRef}const T=y?o:new Ol(pt(o)),S=c||this.parentInjector;if(!p&&null==T.ngModule){const H=(y?S:this.parentInjector).get(Jc,null);H&&(p=H)}const M=T.create(S,h,void 0,p);return this.insert(M.hostView,b),M}insert(o,l){const c=o._lView,h=c[1];if(function ql(s){return ai(s[3])}(c)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const F=c[3],H=new oa(F,F[6],F[3]);H.detach(H.indexOf(o))}}const p=this._adjustIndex(l),y=this._lContainer;!function TT(s,o,l,c){const h=10+c,p=l.length;c>0&&(l[h-1][4]=o),c<p-10?(o[4]=l[h],gc(l,10+c,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function vp(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(y,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(h,c,y,p);const b=Ip(p,y),T=c[11],S=Dp(T,y[7]);return null!==S&&function DT(s,o,l,c,h,p){c[0]=h,c[6]=o,nh(s,c,l,1,h,p)}(h,y[6],T,c,S,b),o.attachToViewContainerRef(),gc(gg(y),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Du(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=bp(this._lContainer,l);c&&(js(gg(this._lContainer),l),N0(c[1],c))}detach(o){const l=this._adjustIndex(o,-1),c=bp(this._lContainer,l);return c&&null!=js(gg(this._lContainer),l)?new Rh(c):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Du(s){return s[8]}function gg(s){return s[8]||(s[8]=[])}function _y(s,o){let l;const c=o[s.index];if(ai(c))l=c;else{let h;if(8&s.type)h=hn(c);else{const p=o[11];h=p.createComment("");const y=hr(s,o);xc(p,Dp(p,y),h,function O0(s,o){return mn(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=l=XT(c,o,h,s),b_(o,l)}return new oa(l,s,o)}class yy{constructor(o){this.queryList=o,this.matches=null}clone(){return new yy(this.queryList)}setDirty(){this.queryList.setDirty()}}class td{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let p=0;p<c;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new td(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==s1(o,l).matches&&this.queries[l].setDirty()}}class vy{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class Vh{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==l?l.push(p):l=[p])}return null!==l?new Vh(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class mg{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new mg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,l,by(l,p)),this.matchTNodeWithReadOption(o,l,xa(l,o,p,!1,!1))}else c===Lh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,xa(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===vu||h===Bh||h===Lh&&4&l.type)this.addMatch(l.index,-2);else{const p=xa(l,o,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function by(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function wI(s,o,l,c){return-1===l?function wy(s,o){return 11&s.type?ts(s,o):4&s.type?pg(s,o):null}(o,s):-2===l?function Uh(s,o,l){return l===vu?ts(o,s):l===Lh?pg(o,s):l===Bh?_y(o,s):void 0}(s,o,c):gs(s,s[1],l,o)}function t1(s,o,l,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,y=l.matches,b=[];for(let T=0;T<y.length;T+=2){const S=y[T];b.push(S<0?null:wI(o,p[S],y[T+1],l.metadata.read))}h.matches=b}return h.matches}function Dy(s,o,l,c){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=t1(s,o,h,l);for(let b=0;b<p.length;b+=2){const T=p[b];if(T>0)c.push(y[b/2]);else{const S=p[b+1],M=o[-T];for(let F=10;F<M.length;F++){const H=M[F];H[17]===H[3]&&Dy(H[1],H,S,c)}if(null!==M[9]){const F=M[9];for(let H=0;H<F.length;H++){const X=F[H];Dy(X[1],X,S,c)}}}}}return c}function n1(s){const o=Oe(),l=Wt(),c=tc();nc(c+1);const h=s1(l,c);if(s.dirty&&Lo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Dy(l,o,c,[]):t1(l,o,h,c);s.reset(p,xh),s.notifyOnChanges()}return!0}return!1}function jh(s,o,l){const c=Wt();c.firstCreatePass&&(i1(c,new vy(s,o,l),-1),2==(2&o)&&(c.staticViewQueries=!0)),Ty(c,Oe(),o)}function nd(s,o,l,c){const h=Wt();if(h.firstCreatePass){const p=wn();i1(h,new vy(o,l,c),p.index),function Ey(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Ty(h,Oe(),l)}function _g(){return function r1(s,o){return s[19].queries[o].queryList}(Oe(),tc())}function Ty(s,o,l){const c=new Xc(4==(4&l));VT(s,o,c,c.destroy),null===o[19]&&(o[19]=new td),o[19].queries.push(new yy(c))}function i1(s,o,l){null===s.queries&&(s.queries=new Vh),s.queries.track(new mg(o,l))}function s1(s,o){return s.queries.getByIndex(o)}function o1(s,o){return pg(s,o)}function Eu(...s){}const _1=new Un("Application Initializer");let sd=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Eu,this.reject=Eu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Yb(p))l.push(p);else if(YE(p)){const y=new Promise((b,T)=>{p.subscribe({complete:b,error:T})});l.push(y)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ct(_1,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const y1=new Un("AppId",{providedIn:"root",factory:function od(){return`${Oy()}${Oy()}${Oy()}`}});function Oy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ad=new Un("Platform Initializer"),xI=new Un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),v1=new Un("appBootstrapListener");let RI=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ky=new Un("LocaleId",{providedIn:"root",factory:()=>Qt(ky,bt.Optional|bt.SkipSelf)||function OI(){return"undefined"!=typeof $localize&&$localize.locale||eg}()}),kI=new Un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class FI{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let LI=(()=>{class s{compileModuleSync(l){return new cg(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),p=Ua(Ut(l).declarations).reduce((y,b)=>{const T=pt(b);return T&&y.push(new Ol(T)),y},[]);return new FI(c,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const VI=(()=>Promise.resolve(0))();function Sg(s){"undefined"==typeof Zone?VI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ks{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sa(!1),this.onMicrotaskEmpty=new sa(!1),this.onStable=new sa(!1),this.onError=new sa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function SR(){let s=$t.requestAnimationFrame,o=$t.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function UI(s){const o=()=>{!function w1(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call($t,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Py(s),s.isCheckStableRunning=!0,Ag(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Py(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,p,y,b)=>{try{return D1(s),l.invokeTask(h,p,y,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),T1(s)}},onInvoke:(l,c,h,p,y,b,T)=>{try{return D1(s),l.invoke(h,p,y,b,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),T1(s)}},onHasTask:(l,c,h,p)=>{l.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Py(s),Ag(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,c,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ks.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ks.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,b1,Eu,Eu);try{return p.runTask(y,l,c)}finally{p.cancelTask(y)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const b1={};function Ag(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Py(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function D1(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function T1(s){s._nesting--,Ag(s)}class E1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sa,this.onMicrotaskEmpty=new sa,this.onStable=new sa,this.onError=new sa}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,h){return o.apply(l,c)}}let C1=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ks.assertNotInAngularZone(),Sg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sg(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(ct(Ks))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),Fy=(()=>{class s{constructor(){this._applications=new Map,Ly.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return Ly.findTestabilityInTree(this,l,c)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class jI{addToWindow(o){}findTestabilityInTree(o,l,c){return null}}function HI(s){Ly=s}let Ly=new jI,Ja=null;const By=new Un("AllowMultipleToken"),I1=new Un("PlatformOnDestroy");class S1{constructor(o,l){this.name=o,this.token=l}}function A1(s,o,l=[]){const c=`Platform: ${o}`,h=new Un(c);return(p=[])=>{let y=Cu();if(!y||y.injector.get(By,!1)){const b=[...l,...p,{provide:h,useValue:!0}];s?s(b):function WI(s){if(Ja&&!Ja.get(By,!1))throw new Le(400,"");Ja=s;const o=s.get(Ng),l=s.get(ad,null);l&&l.forEach(c=>c())}(function qI(s=[],o){return ta.create({name:o,providers:[{provide:T_,useValue:"platform"},{provide:I1,useValue:()=>Ja=null},...s]})}(b,c))}return function Zn(s){const o=Cu();if(!o)throw new Le(401,"");return o}()}}function Cu(){var s;return null!==(s=null==Ja?void 0:Ja.get(Ng))&&void 0!==s?s:null}let Ng=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const b=function ld(s,o){let l;return l="noop"===s?new E1:("zone.js"===s?void 0:s)||new Ks({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),T=[{provide:Ks,useValue:b}];return b.run(()=>{const S=ta.create({providers:T,parent:this.injector,name:l.moduleType.name}),M=l.create(S),F=M.injector.get(Nc,null);if(!F)throw new Le(402,"");return b.runOutsideAngular(()=>{const H=b.onError.subscribe({next:X=>{F.handleError(X)}});M.onDestroy(()=>{Vy(this._modules,M),H.unsubscribe()})}),function ZI(s,o,l){try{const c=l();return Yb(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(F,b,()=>{const H=M.injector.get(sd);return H.runInitializers(),H.donePromise.then(()=>(function ww(s){(function Ht(s,o){null==s&&Je(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(bw=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(ky,eg)||eg),this._moduleDoBootstrap(M),M))})})}bootstrapModule(l,c=[]){const h=N1({},c);return function GI(s,o,l){const c=new cg(l);return Promise.resolve(c)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const c=l.injector.get(Mg);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Le(403,"");l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const l=this._injector.get(I1,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ct(ta))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function N1(s,o){return Array.isArray(o)?o.reduce(N1,s):Object.assign(Object.assign({},s),o)}let Mg=(()=>{class s{constructor(l,c,h,p){this._zone=l,this._injector=c,this._exceptionHandler=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new R.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new R.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Ks.assertNotInAngularZone(),Sg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ks.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ae.T)(y,b.pipe((0,ue.B)()))}bootstrap(l,c){if(!this._initStatus.done)throw new Le(405,"");let h;h=l instanceof ag?l:this._injector.get(ia).resolveComponentFactory(l),this.componentTypes.push(h.componentType);const p=function $I(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Jc),b=h.create(ta.NULL,[],c||h.selector,p),T=b.location.nativeElement,S=b.injector.get(C1,null),M=S&&b.injector.get(Fy);return S&&M&&M.registerApplication(T,S),b.onDestroy(()=>{this.detachView(b.hostView),Vy(this.components,b),M&&M.unregisterApplication(T)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Le(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;Vy(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(v1,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(ct(Ks),ct(ta),ct(Nc),ct(sd))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Vy(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let xg=!0,KI=!1;function Iu(){return KI=!0,xg}function x1(){if(KI)throw new Error("Cannot enable prod mode after platform setup.");xg=!1}let YI=(()=>{class s{}return s.__NG_ELEMENT_ID__=JI,s})();function JI(s){return function QI(s,o,l){if(il(s)&&!l){const c=fr(s.index,o);return new Rh(c,c)}return 47&s.type?new Rh(o[16],o):null}(wn(),Oe(),16==(16&s))}class Gy{constructor(){}supports(o){return ch(o)}create(o){return new $y(o)}}const k1=(s,o)=>o;class $y{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||k1}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,h=0,p=null;for(;l||c;){const y=!c||l&&l.currentIndex<qh(c,h,p)?l:c,b=qh(y,h,p),T=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const S=b-h,M=T-h;if(S!=M){for(let H=0;H<S;H++){const X=H<p.length?p[H]:p[H]=0,Ee=X+H;M<=Ee&&Ee<S&&(p[H]=X+1)}p[y.previousIndex]=M-S}}b!==T&&o(y,b,T)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!ch(o))throw new Le(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],y=this._trackByFn(b,p),null!==l&&Object.is(l.trackById,y)?(c&&(l=this._verifyReinsertion(l,p,y,b)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,b),c=!0),l=l._next}else h=0,function px(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[uh()]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,b=>{y=this._trackByFn(h,b),null!==l&&Object.is(l.trackById,y)?(c&&(l=this._verifyReinsertion(l,b,y,h)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,y,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,h)):o=this._addAfter(new _i(l,c),p,h),o}_verifyReinsertion(o,l,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Wy),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wy),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class _i{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Co{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class Wy{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new Co,this.map.set(l,c)),c.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qh(s,o,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+o+h}class P1{constructor(){}supports(o){return o instanceof Map||Bc(o)}create(){return new LR}}class LR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Bc(o)))throw new Le(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const c=new rS(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class rS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pg(){return new F1([new Gy])}let F1=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||Pg()),deps:[[s,new go,new tr]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new Le(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:Pg}),s})();function L1(){return new qy([new P1])}let qy=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||L1()),deps:[[s,new go,new tr]]}}find(l){const c=this.factories.find(p=>p.supports(l));if(c)return c;throw new Le(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:L1}),s})();const UR=A1(null,"core",[]);let jR=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ct(Mg))},s.\u0275mod=de({type:s}),s.\u0275inj=tn({}),s})()},3942:(it,De,k)=>{k.d(De,{Z:()=>Le});var u=k(2090),V=k(4859),R=k(9681),ae=k(1877);class ue{constructor(me,Se){this._delegate=me,this.firebase=Se,(0,R._addComponent)(me,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(me,Se=R._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(me);return!ze.isInitialized()&&"EXPLICIT"===(null===(Ze=ze.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:Se})}_removeServiceInstance(me,Se=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Se)}_addComponent(me){(0,R._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,R._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ye(){const $e=function ce($e){const me={},Se={__esModule:!0,initializeApp:function Me(ne,pe={}){const Ie=R.initializeApp(ne,pe);if((0,u.r3)(me,Ie.name))return me[Ie.name];const Y=new $e(Ie,Se);return me[Ie.name]=Y,Y},app:ze,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ce(ne){const pe=ne.name,Ie=pe.replace("-compat","");if(R._registerComponent(ne)&&"PUBLIC"===ne.type){const Y=(re=ze())=>{if("function"!=typeof re[Ie])throw fe.create("invalid-app-argument",{appName:pe});return re[Ie]()};void 0!==ne.serviceProps&&(0,u.ZB)(Y,ne.serviceProps),Se[Ie]=Y,$e.prototype[Ie]=function(...re){return this._getService.bind(this,pe).apply(this,ne.multipleInstances?re:[])}}return"PUBLIC"===ne.type?Se[Ie]:null},removeApp:function Ze(ne){delete me[ne]},useAsService:function Ye(ne,pe){return"serverAuth"===pe?null:pe},modularAPIs:R}};function ze(ne){if(!(0,u.r3)(me,ne=ne||R._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:ne});return me[ne]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function xe(){return Object.keys(me).map(ne=>me[ne])}}),ze.App=$e,Se}(ue);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function me(Se){(0,u.ZB)($e,Se)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),$e}(),j=new ae.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=$;!function Ne($e){(0,R.registerVersion)("@firebase/app-compat","0.1.25",$e)}()},9681:(it,De,k)=>{k.r(De),k.d(De,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>ii,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>gn,_addOrOverwriteComponent:()=>sn,_apps:()=>un,_clearComponents:()=>Ui,_components:()=>On,_getProvider:()=>tn,_registerComponent:()=>Gt,_removeServiceInstance:()=>Dn,deleteApp:()=>bt,getApp:()=>Yn,getApps:()=>Hi,initializeApp:()=>Ei,onLog:()=>nn,registerVersion:()=>bn,setLogLevel:()=>Sr});var u=k(5861),V=k(4859),R=k(1877),ae=k(2090),ue=k(8766);class _e{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(ke=>{if(function fe(G){const ee=G.getComponent();return"VERSION"===(null==ee?void 0:ee.type)}(ke)){const nt=ke.getImmediate();return`${nt.library}/${nt.version}`}return null}).filter(ke=>ke).join(" ")}}const ce="@firebase/app",$=new R.Yd("@firebase/app"),Ht="[DEFAULT]",Je={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},un=new Map,On=new Map;function gn(G,ee){try{G.container.addComponent(ee)}catch(ke){$.debug(`Component ${ee.name} failed to register with FirebaseApp ${G.name}`,ke)}}function sn(G,ee){G.container.addOrOverwriteComponent(ee)}function Gt(G){const ee=G.name;if(On.has(ee))return $.debug(`There were multiple attempts to register component ${ee}.`),!1;On.set(ee,G);for(const ke of un.values())gn(ke,G);return!0}function tn(G,ee){const ke=G.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),G.container.getProvider(ee)}function Dn(G,ee,ke=Ht){tn(G,ee).clearInstance(ke)}function Ui(){On.clear()}const In=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ji{constructor(ee,ke,nt){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=nt,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}const ii="9.8.1";function Ei(G,ee={}){"object"!=typeof ee&&(ee={name:ee});const ke=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},ee),nt=ke.name;if("string"!=typeof nt||!nt)throw In.create("bad-app-name",{appName:String(nt)});const vt=un.get(nt);if(vt){if((0,ae.vZ)(G,vt.options)&&(0,ae.vZ)(ke,vt.config))return vt;throw In.create("duplicate-app",{appName:nt})}const kt=new V.H0(nt);for(const Ct of On.values())kt.addComponent(Ct);const on=new ji(G,ke,kt);return un.set(nt,on),on}function Yn(G=Ht){const ee=un.get(G);if(!ee)throw In.create("no-app",{appName:G});return ee}function Hi(){return Array.from(un.values())}function bt(G){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,u.Z)(function*(G){const ee=G.name;un.has(ee)&&(un.delete(ee),yield Promise.all(G.container.getProviders().map(ke=>ke.delete())),G.isDeleted=!0)})).apply(this,arguments)}function bn(G,ee,ke){var nt;let vt=null!==(nt=Je[G])&&void 0!==nt?nt:G;ke&&(vt+=`-${ke}`);const kt=vt.match(/\s|\//),on=ee.match(/\s|\//);if(kt||on){const Ct=[`Unable to register library "${vt}" with version "${ee}":`];return kt&&Ct.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),kt&&on&&Ct.push("and"),on&&Ct.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void $.warn(Ct.join(" "))}Gt(new V.wA(`${vt}-version`,()=>({library:vt,version:ee}),"VERSION"))}function nn(G,ee){if(null!==G&&"function"!=typeof G)throw In.create("invalid-log-argument");(0,R.Am)(G,ee)}function Sr(G){(0,R.Ub)(G)}const Tn="firebase-heartbeat-store";let cr=null;function Ms(){return cr||(cr=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(G,ee)=>{0===ee&&G.createObjectStore(Tn)}}).catch(G=>{throw In.create("storage-open",{originalErrorMessage:G.message})})),cr}function mt(){return(mt=(0,u.Z)(function*(G){try{return(yield Ms()).transaction(Tn).objectStore(Tn).get(oi(G))}catch(ee){throw In.create("storage-get",{originalErrorMessage:ee.message})}})).apply(this,arguments)}function lt(G,ee){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(G,ee){try{const nt=(yield Ms()).transaction(Tn,"readwrite");return yield nt.objectStore(Tn).put(ee,oi(G)),nt.done}catch(ke){throw In.create("storage-set",{originalErrorMessage:ke.message})}})).apply(this,arguments)}function oi(G){return`${G.name}!${G.options.appId}`}class kn{constructor(ee){this.container=ee,this._heartbeatsCache=null;const ke=this.container.getProvider("app").getImmediate();this._storage=new W(ke),this._heartbeatsCachePromise=this._storage.read().then(nt=>(this._heartbeatsCache=nt,nt))}triggerHeartbeat(){var ee=this;return(0,u.Z)(function*(){const nt=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=cn();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==vt&&!ee._heartbeatsCache.heartbeats.some(kt=>kt.date===vt))return ee._heartbeatsCache.heartbeats.push({date:vt,agent:nt}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(kt=>{const on=new Date(kt.date).valueOf();return Date.now()-on<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,u.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const ke=cn(),{heartbeatsToSend:nt,unsentEntries:vt}=function U(G,ee=1024){const ke=[];let nt=G.slice();for(const vt of G){const kt=ke.find(on=>on.agent===vt.agent);if(kt){if(kt.dates.push(vt.date),Z(ke)>ee){kt.dates.pop();break}}else if(ke.push({agent:vt.agent,dates:[vt.date]}),Z(ke)>ee){ke.pop();break}nt=nt.slice(1)}return{heartbeatsToSend:ke,unsentEntries:nt}}(ee._heartbeatsCache.heartbeats),kt=(0,ae.L)(JSON.stringify({version:2,heartbeats:nt}));return ee._heartbeatsCache.lastSentHeartbeatDate=ke,vt.length>0?(ee._heartbeatsCache.heartbeats=vt,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),kt})()}}function cn(){return(new Date).toISOString().substring(0,10)}class W{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,u.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function Zt(G){return mt.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var ke=this;return(0,u.Z)(function*(){var nt;if(yield ke._canUseIndexedDBPromise){const kt=yield ke.read();return lt(ke.app,{lastSentHeartbeatDate:null!==(nt=ee.lastSentHeartbeatDate)&&void 0!==nt?nt:kt.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var ke=this;return(0,u.Z)(function*(){var nt;if(yield ke._canUseIndexedDBPromise){const kt=yield ke.read();return lt(ke.app,{lastSentHeartbeatDate:null!==(nt=ee.lastSentHeartbeatDate)&&void 0!==nt?nt:kt.lastSentHeartbeatDate,heartbeats:[...kt.heartbeats,...ee.heartbeats]})}})()}}function Z(G){return(0,ae.L)(JSON.stringify({version:2,heartbeats:G})).length}!function Te(G){Gt(new V.wA("platform-logger",ee=>new _e(ee),"PRIVATE")),Gt(new V.wA("heartbeat",ee=>new kn(ee),"PRIVATE")),bn(ce,"0.7.24",G),bn(ce,"0.7.24","esm2017"),bn("fire-js","")}("")},4859:(it,De,k)=>{k.d(De,{H0:()=>ce,wA:()=>R});var u=k(5861),V=k(2090);class R{constructor($,j,se){this.name=$,this.instanceFactory=j,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class ue{constructor($,j){this.name=$,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const j=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(j)){const se=new V.BH;if(this.instancesDeferred.set(j,se),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:j});Ke&&se.resolve(Ke)}catch(Ke){}}return this.instancesDeferred.get(j).promise}getImmediate($){var j;const se=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Ke=null!==(j=null==$?void 0:$.optional)&&void 0!==j&&j;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Ne){if(Ke)return null;throw Ne}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function fe(ye){return"EAGER"===ye.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(j){}for(const[j,se]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(j);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ke});se.resolve(Ne)}catch(Ne){}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,u.Z)(function*(){const j=Array.from($.instances.values());yield Promise.all([...j.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...j.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:j={}}=$,se=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:se,options:j});for(const[Ne,Le]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Ne)&&Le.resolve(Ke);return Ke}onInit($,j){var se;const Ke=this.normalizeInstanceIdentifier(j),Ne=null!==(se=this.onInitCallbacks.get(Ke))&&void 0!==se?se:new Set;Ne.add($),this.onInitCallbacks.set(Ke,Ne);const Le=this.instances.get(Ke);return Le&&$(Le,Ke),()=>{Ne.delete($)}}invokeOnInitCallbacks($,j){const se=this.onInitCallbacks.get(j);if(se)for(const Ke of se)try{Ke($,j)}catch(Ne){}}getOrInitializeService({instanceIdentifier:$,options:j={}}){let se=this.instances.get($);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=$,ye===ae?void 0:ye),options:j}),this.instances.set($,se),this.instancesOptions.set($,j),this.invokeOnInitCallbacks(se,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,se)}catch(Ke){}var ye;return se||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor($){this.name=$,this.providers=new Map}addComponent($){const j=this.getProvider($.name);if(j.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);j.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const j=new ue($,this);return this.providers.set($,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(it,De,k)=>{k.d(De,{Am:()=>ye,Ub:()=>ce,Yd:()=>fe,in:()=>V});const u=[];var V=(()=>{return($=V||(V={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",V;var $})();const R={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ae=V.INFO,ue={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},_e=($,j,...se)=>{if(j<$.logLevel)return;const Ke=(new Date).toISOString(),Ne=ue[j];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ne](`[${Ke}]  ${$.name}:`,...se)};class fe{constructor(j){this.name=j,this._logLevel=ae,this._logHandler=_e,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in V))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?R[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...j),this._logHandler(this,V.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...j),this._logHandler(this,V.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,V.INFO,...j),this._logHandler(this,V.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,V.WARN,...j),this._logHandler(this,V.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...j),this._logHandler(this,V.ERROR,...j)}}function ce($){u.forEach(j=>{j.setLogLevel($)})}function ye($,j){for(const se of u){let Ke=null;j&&j.level&&(Ke=R[j.level]),se.userLogHandler=null===$?null:(Ne,Le,...$e)=>{const me=$e.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch(Ze){return null}}).filter(Se=>Se).join(" ");Le>=(null!=Ke?Ke:Ne.logLevel)&&$({level:V[Le].toLowerCase(),message:me,args:$e,type:Ne.name})}}}},8766:(it,De,k)=>{k.d(De,{Lj:()=>Me,X3:()=>ze});var u=k(5861);let R,ae;const fe=new WeakMap,ce=new WeakMap,ye=new WeakMap,$=new WeakMap,j=new WeakMap;let Ne={get(pe,Ie,Y){if(pe instanceof IDBTransaction){if("done"===Ie)return ce.get(pe);if("objectStoreNames"===Ie)return pe.objectStoreNames||ye.get(pe);if("store"===Ie)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return Se(pe[Ie])},set:(pe,Ie,Y)=>(pe[Ie]=Y,!0),has:(pe,Ie)=>pe instanceof IDBTransaction&&("done"===Ie||"store"===Ie)||Ie in pe};function me(pe){return"function"==typeof pe?function $e(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...Ie){return pe.apply(Ze(this),Ie),Se(fe.get(this))}:function(...Ie){return Se(pe.apply(Ze(this),Ie))}:function(Ie,...Y){const re=pe.call(Ze(this),Ie,...Y);return ye.set(re,Ie.sort?Ie.sort():[Ie]),Se(re)}}(pe):(pe instanceof IDBTransaction&&function Ke(pe){if(ce.has(pe))return;const Ie=new Promise((Y,re)=>{const oe=()=>{pe.removeEventListener("complete",be),pe.removeEventListener("error",he),pe.removeEventListener("abort",he)},be=()=>{Y(),oe()},he=()=>{re(pe.error||new DOMException("AbortError","AbortError")),oe()};pe.addEventListener("complete",be),pe.addEventListener("error",he),pe.addEventListener("abort",he)});ce.set(pe,Ie)}(pe),((pe,Ie)=>Ie.some(Y=>pe instanceof Y))(pe,function ue(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,Ne):pe)}function Se(pe){if(pe instanceof IDBRequest)return function se(pe){const Ie=new Promise((Y,re)=>{const oe=()=>{pe.removeEventListener("success",be),pe.removeEventListener("error",he)},be=()=>{Y(Se(pe.result)),oe()},he=()=>{re(pe.error),oe()};pe.addEventListener("success",be),pe.addEventListener("error",he)});return Ie.then(Y=>{Y instanceof IDBCursor&&fe.set(Y,pe)}).catch(()=>{}),j.set(Ie,pe),Ie}(pe);if($.has(pe))return $.get(pe);const Ie=me(pe);return Ie!==pe&&($.set(pe,Ie),j.set(Ie,pe)),Ie}const Ze=pe=>j.get(pe);function ze(pe,Ie,{blocked:Y,upgrade:re,blocking:oe,terminated:be}={}){const he=indexedDB.open(pe,Ie),Ve=Se(he);return re&&he.addEventListener("upgradeneeded",yt=>{re(Se(he.result),yt.oldVersion,yt.newVersion,Se(he.transaction))}),Y&&he.addEventListener("blocked",()=>Y()),Ve.then(yt=>{be&&yt.addEventListener("close",()=>be()),oe&&yt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Ve}function Me(pe,{blocked:Ie}={}){const Y=indexedDB.deleteDatabase(pe);return Ie&&Y.addEventListener("blocked",()=>Ie()),Se(Y).then(()=>{})}const xe=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Ye=new Map;function ne(pe,Ie){if(!(pe instanceof IDBDatabase)||Ie in pe||"string"!=typeof Ie)return;if(Ye.get(Ie))return Ye.get(Ie);const Y=Ie.replace(/FromIndex$/,""),re=Ie!==Y,oe=Ce.includes(Y);if(!(Y in(re?IDBIndex:IDBObjectStore).prototype)||!oe&&!xe.includes(Y))return;const be=function(){var he=(0,u.Z)(function*(Ve,...yt){const en=this.transaction(Ve,oe?"readwrite":"readonly");let Ht=en.store;return re&&(Ht=Ht.index(yt.shift())),(yield Promise.all([Ht[Y](...yt),oe&&en.done]))[0]});return function(yt){return he.apply(this,arguments)}}();return Ye.set(Ie,be),be}!function Le(pe){Ne=pe(Ne)}(pe=>F2(P2({},pe),{get:(Ie,Y,re)=>ne(Ie,Y)||pe.get(Ie,Y,re),has:(Ie,Y)=>!!ne(Ie,Y)||pe.has(Ie,Y)}))},5861:(it,De,k)=>{function u(R,ae,ue,_e,fe,ce,ye){try{var $=R[ce](ye),j=$.value}catch(se){return void ue(se)}$.done?ae(j):Promise.resolve(j).then(_e,fe)}function V(R){return function(){var ae=this,ue=arguments;return new Promise(function(_e,fe){var ce=R.apply(ae,ue);function ye(j){u(ce,_e,fe,ye,$,"next",j)}function $(j){u(ce,_e,fe,ye,$,"throw",j)}ye(void 0)})}}k.d(De,{Z:()=>V})}},it=>{it(it.s=9730)}]);